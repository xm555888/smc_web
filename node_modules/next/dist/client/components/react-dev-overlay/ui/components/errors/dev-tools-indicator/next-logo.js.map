{"version":3,"sources":["../../../../../../../../src/client/components/react-dev-overlay/ui/components/errors/dev-tools-indicator/next-logo.tsx"],"sourcesContent":["import { forwardRef, useEffect, useRef, useState } from 'react'\nimport { css } from '../../../../utils/css'\nimport mergeRefs from '../../../utils/merge-refs'\nimport { useMinimumLoadingTimeMultiple } from './use-minimum-loading-time-multiple'\n\ninterface Props extends React.ComponentProps<'button'> {\n  issueCount: number\n  isDevBuilding: boolean\n  isDevRendering: boolean\n  isBuildError: boolean\n  onTriggerClick: () => void\n  toggleErrorOverlay: () => void\n}\n\nconst SIZE = '2.25rem' // 36px in 16px base\nconst SIZE_PX = 36\nconst SHORT_DURATION_MS = 150\n\n/**\n * A hook that creates an animated state based on changes to a dependency.\n * When the dependency changes and passes the shouldSkip check, it triggers\n * an animation state that lasts for the specified duration.\n *\n * @param dep The dependency to watch for changes\n * @param config Configuration object containing:\n *               - shouldSkip: Function to determine if animation should be skipped\n *               - animationDuration: Duration of the animation in milliseconds\n * @returns Boolean indicating if animation is currently active\n */\nconst useAnimated = <T,>(\n  dep: T,\n  config: { shouldSkip: (dep: T) => boolean; animationDuration: number }\n) => {\n  const { shouldSkip: _shouldSkip, animationDuration } = config\n  const shouldSkipRef = useRef(_shouldSkip) // ensure stable reference in case it's not\n\n  const [animatedDep, setAnimatedDep] = useState(false)\n  const isInitialRef = useRef(true)\n\n  useEffect(() => {\n    if (isInitialRef.current) {\n      isInitialRef.current = false\n      return\n    }\n\n    if (shouldSkipRef.current(dep)) {\n      return\n    }\n\n    setAnimatedDep(true)\n    const timeoutId = setTimeout(() => {\n      setAnimatedDep(false)\n    }, animationDuration)\n\n    return () => clearTimeout(timeoutId)\n  }, [dep, animationDuration])\n\n  return animatedDep\n}\n\nexport const NextLogo = forwardRef(function NextLogo(\n  {\n    disabled,\n    issueCount,\n    isDevBuilding,\n    isDevRendering,\n    isBuildError,\n    onTriggerClick,\n    toggleErrorOverlay,\n    ...props\n  }: Props,\n  propRef: React.Ref<HTMLButtonElement>\n) {\n  const hasError = issueCount > 0\n  const [isErrorExpanded, setIsErrorExpanded] = useState(hasError)\n  const newErrorDetected = useAnimated(issueCount, {\n    shouldSkip: (count) => count === 0,\n    animationDuration: SHORT_DURATION_MS,\n  })\n  const [dismissed, setDismissed] = useState(false)\n\n  const triggerRef = useRef<HTMLButtonElement | null>(null)\n  const ref = useRef<HTMLDivElement | null>(null)\n  const width = useMeasureWidth(ref)\n\n  const isLoading = useMinimumLoadingTimeMultiple(\n    isDevBuilding || isDevRendering\n  )\n\n  useEffect(() => {\n    setIsErrorExpanded(hasError)\n  }, [hasError])\n\n  const isExpanded = isErrorExpanded || disabled\n\n  return (\n    <div\n      data-next-badge-root\n      style={\n        {\n          '--size': SIZE,\n          '--duration-short': `${SHORT_DURATION_MS}ms`,\n          // if the indicator is disabled, hide the badge\n          // also allow the \"disabled\" state be dismissed, as long as there are no build errors\n          display: disabled && (!hasError || dismissed) ? 'none' : 'block',\n        } as React.CSSProperties\n      }\n    >\n      {/* Styles */}\n      <style>\n        {css`\n          [data-next-badge-root] {\n            --timing: cubic-bezier(0.23, 0.88, 0.26, 0.92);\n            --duration-long: 250ms;\n            --color-outer-border: #171717;\n            --color-inner-border: hsla(0, 0%, 100%, 0.14);\n            --color-hover-alpha-subtle: hsla(0, 0%, 100%, 0.13);\n            --color-hover-alpha-error: hsla(0, 0%, 100%, 0.2);\n            --color-hover-alpha-error-2: hsla(0, 0%, 100%, 0.25);\n            --mark-size: calc(var(--size) - var(--size-2) * 2);\n\n            --focus-color: var(--color-blue-800);\n            --focus-ring: 2px solid var(--focus-color);\n\n            &:has([data-next-badge][data-error='true']) {\n              --focus-color: #fff;\n            }\n          }\n\n          [data-disabled-icon] {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            padding-right: 4px;\n          }\n\n          [data-next-badge] {\n            -webkit-font-smoothing: antialiased;\n            width: var(--size);\n            height: var(--size);\n            display: flex;\n            align-items: center;\n            position: relative;\n            background: rgba(0, 0, 0, 0.8);\n            box-shadow:\n              0 0 0 1px var(--color-outer-border),\n              inset 0 0 0 1px var(--color-inner-border),\n              0px 16px 32px -8px rgba(0, 0, 0, 0.24);\n            backdrop-filter: blur(48px);\n            border-radius: var(--rounded-full);\n            user-select: none;\n            cursor: pointer;\n            scale: 1;\n            overflow: hidden;\n            will-change: scale, box-shadow, width, background;\n            transition:\n              scale var(--duration-short) var(--timing),\n              width var(--duration-long) var(--timing),\n              box-shadow var(--duration-long) var(--timing),\n              background var(--duration-short) ease;\n\n            &:active[data-error='false'] {\n              scale: 0.95;\n            }\n\n            &[data-animate='true']:not(:hover) {\n              scale: 1.02;\n            }\n\n            &[data-error='false']:has([data-next-mark]:focus-visible) {\n              outline: var(--focus-ring);\n              outline-offset: 3px;\n            }\n\n            &[data-error='true'] {\n              background: #ca2a30;\n              --color-inner-border: #e5484d;\n\n              [data-next-mark] {\n                background: var(--color-hover-alpha-error);\n                outline-offset: 0px;\n\n                &:focus-visible {\n                  outline: var(--focus-ring);\n                  outline-offset: -1px;\n                }\n\n                &:hover {\n                  background: var(--color-hover-alpha-error-2);\n                }\n              }\n            }\n\n            &[data-error-expanded='false'][data-error='true'] ~ [data-dot] {\n              scale: 1;\n            }\n\n            > div {\n              display: flex;\n            }\n          }\n\n          [data-issues-collapse]:focus-visible {\n            outline: var(--focus-ring);\n          }\n\n          [data-issues]:has([data-issues-open]:focus-visible) {\n            outline: var(--focus-ring);\n            outline-offset: -1px;\n          }\n\n          [data-dot] {\n            content: '';\n            width: var(--size-8);\n            height: var(--size-8);\n            background: #fff;\n            box-shadow: 0 0 0 1px var(--color-outer-border);\n            border-radius: 50%;\n            position: absolute;\n            top: 2px;\n            right: 0px;\n            scale: 0;\n            pointer-events: none;\n            transition: scale 200ms var(--timing);\n            transition-delay: var(--duration-short);\n          }\n\n          [data-issues] {\n            display: flex;\n            gap: 2px;\n            align-items: center;\n            padding-left: 8px;\n            padding-right: ${isBuildError ? '8px' : 'calc(2px * 2)'};\n            height: var(--size-32);\n            margin: 0 2px;\n            border-radius: var(--rounded-full);\n            transition: background var(--duration-short) ease;\n\n            &:has([data-issues-open]:hover) {\n              background: var(--color-hover-alpha-error);\n            }\n\n            [data-cross] {\n              translate: 0px -1px;\n            }\n          }\n\n          [data-issues-open] {\n            font-size: var(--size-13);\n            color: white;\n            width: fit-content;\n            height: 100%;\n            display: flex;\n            gap: 2px;\n            align-items: center;\n            margin: 0;\n            line-height: var(--size-36);\n            font-weight: 500;\n            z-index: 2;\n            white-space: nowrap;\n\n            &:focus-visible {\n              outline: 0;\n            }\n          }\n\n          [data-issues-collapse] {\n            width: var(--size-24);\n            height: var(--size-24);\n            border-radius: var(--rounded-full);\n            transition: background var(--duration-short) ease;\n\n            &:hover {\n              background: var(--color-hover-alpha-error);\n            }\n          }\n\n          [data-cross] {\n            color: #fff;\n            width: var(--size-12);\n            height: var(--size-12);\n          }\n\n          [data-next-mark] {\n            width: var(--mark-size);\n            height: var(--mark-size);\n            margin-left: 2px;\n            display: flex;\n            align-items: center;\n            border-radius: var(--rounded-full);\n            transition: background var(--duration-long) var(--timing);\n\n            &:focus-visible {\n              outline: 0;\n            }\n\n            &:hover {\n              background: var(--color-hover-alpha-subtle);\n            }\n\n            svg {\n              flex-shrink: 0;\n              width: var(--size-40);\n              height: var(--size-40);\n            }\n          }\n\n          [data-issues-count-animation] {\n            display: grid;\n            place-items: center center;\n            font-variant-numeric: tabular-nums;\n\n            &[data-animate='false'] {\n              [data-issues-count-exit],\n              [data-issues-count-enter] {\n                animation-duration: 0ms;\n              }\n            }\n\n            > * {\n              grid-area: 1 / 1;\n            }\n\n            [data-issues-count-exit] {\n              animation: fadeOut 300ms var(--timing) forwards;\n            }\n\n            [data-issues-count-enter] {\n              animation: fadeIn 300ms var(--timing) forwards;\n            }\n          }\n\n          [data-issues-count-plural] {\n            display: inline-block;\n            animation: fadeIn 300ms var(--timing) forwards;\n          }\n\n          .path0 {\n            animation: draw0 1.5s ease-in-out infinite;\n          }\n\n          .path1 {\n            animation: draw1 1.5s ease-out infinite;\n            animation-delay: 0.3s;\n          }\n\n          .paused {\n            stroke-dashoffset: 0;\n          }\n\n          @keyframes fadeIn {\n            0% {\n              opacity: 0;\n              filter: blur(2px);\n              transform: translateY(8px);\n            }\n            100% {\n              opacity: 1;\n              filter: blur(0px);\n              transform: translateY(0);\n            }\n          }\n\n          @keyframes fadeOut {\n            0% {\n              opacity: 1;\n              filter: blur(0px);\n              transform: translateY(0);\n            }\n            100% {\n              opacity: 0;\n              transform: translateY(-12px);\n              filter: blur(2px);\n            }\n          }\n\n          @keyframes draw0 {\n            0%,\n            25% {\n              stroke-dashoffset: -29.6;\n            }\n            25%,\n            50% {\n              stroke-dashoffset: 0;\n            }\n            50%,\n            75% {\n              stroke-dashoffset: 0;\n            }\n            75%,\n            100% {\n              stroke-dashoffset: 29.6;\n            }\n          }\n\n          @keyframes draw1 {\n            0%,\n            20% {\n              stroke-dashoffset: -11.6;\n            }\n            20%,\n            50% {\n              stroke-dashoffset: 0;\n            }\n            50%,\n            75% {\n              stroke-dashoffset: 0;\n            }\n            75%,\n            100% {\n              stroke-dashoffset: 11.6;\n            }\n          }\n\n          @media (prefers-reduced-motion) {\n            [data-issues-count-exit],\n            [data-issues-count-enter],\n            [data-issues-count-plural] {\n              animation-duration: 0ms !important;\n            }\n          }\n        `}\n      </style>\n      <div\n        data-next-badge\n        data-error={hasError}\n        data-error-expanded={isExpanded}\n        data-animate={newErrorDetected}\n        style={{\n          width: hasError && width > SIZE_PX ? width : SIZE,\n        }}\n      >\n        <div ref={ref}>\n          {/* Children */}\n          {!disabled && (\n            <button\n              ref={mergeRefs(triggerRef, propRef)}\n              data-next-mark\n              data-next-mark-loading={isLoading}\n              onClick={onTriggerClick}\n              {...props}\n            >\n              <NextMark isLoading={isLoading} isDevBuilding={isDevBuilding} />\n            </button>\n          )}\n          {isExpanded && (\n            <div data-issues>\n              <button\n                data-issues-open\n                aria-label=\"Open issues overlay\"\n                onClick={toggleErrorOverlay}\n              >\n                {disabled && (\n                  <div data-disabled-icon>\n                    <Warning />\n                  </div>\n                )}\n                <AnimateCount\n                  // Used the key to force a re-render when the count changes.\n                  key={issueCount}\n                  animate={newErrorDetected}\n                  data-issues-count-animation\n                >\n                  {issueCount}\n                </AnimateCount>{' '}\n                <div>\n                  Issue\n                  {issueCount > 1 && (\n                    <span aria-hidden data-issues-count-plural>\n                      s\n                    </span>\n                  )}\n                </div>\n              </button>\n              {!isBuildError && (\n                <button\n                  data-issues-collapse\n                  aria-label=\"Collapse issues badge\"\n                  onClick={() => {\n                    if (disabled) {\n                      setDismissed(true)\n                    } else {\n                      setIsErrorExpanded(false)\n                    }\n                    // Move focus to the trigger to prevent having it stuck on this element\n                    triggerRef.current?.focus()\n                  }}\n                >\n                  <Cross data-cross />\n                </button>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n      <div aria-hidden data-dot />\n    </div>\n  )\n})\n\nfunction AnimateCount({\n  children: count,\n  animate = true,\n  ...props\n}: {\n  children: number\n  animate: boolean\n}) {\n  return (\n    <div {...props} data-animate={animate}>\n      <div aria-hidden data-issues-count-exit>\n        {count - 1}\n      </div>\n      <div data-issues-count data-issues-count-enter>\n        {count}\n      </div>\n    </div>\n  )\n}\n\nfunction useMeasureWidth(ref: React.RefObject<HTMLDivElement | null>) {\n  const [width, setWidth] = useState<number>(0)\n\n  useEffect(() => {\n    const el = ref.current\n\n    if (!el) {\n      return\n    }\n\n    const observer = new ResizeObserver(() => {\n      const { width: w } = el.getBoundingClientRect()\n      setWidth(w)\n    })\n\n    observer.observe(el)\n    return () => observer.disconnect()\n  }, [ref])\n\n  return width\n}\n\nfunction NextMark({\n  isLoading,\n  isDevBuilding,\n}: {\n  isLoading?: boolean\n  isDevBuilding?: boolean\n}) {\n  const strokeColor = isDevBuilding ? 'rgba(255,255,255,0.7)' : 'white'\n  return (\n    <svg\n      width=\"40\"\n      height=\"40\"\n      viewBox=\"0 0 40 40\"\n      fill=\"none\"\n      data-next-mark-loading={isLoading}\n    >\n      <g transform=\"translate(8.5, 13)\">\n        <path\n          className={isLoading ? 'path0' : 'paused'}\n          d=\"M13.3 15.2 L2.34 1 V12.6\"\n          fill=\"none\"\n          stroke=\"url(#next_logo_paint0_linear_1357_10853)\"\n          strokeWidth=\"1.86\"\n          mask=\"url(#next_logo_mask0)\"\n          strokeDasharray=\"29.6\"\n          strokeDashoffset=\"29.6\"\n        />\n        <path\n          className={isLoading ? 'path1' : 'paused'}\n          d=\"M11.825 1.5 V13.1\"\n          strokeWidth=\"1.86\"\n          stroke=\"url(#next_logo_paint1_linear_1357_10853)\"\n          strokeDasharray=\"11.6\"\n          strokeDashoffset=\"11.6\"\n        />\n      </g>\n      <defs>\n        <linearGradient\n          id=\"next_logo_paint0_linear_1357_10853\"\n          x1=\"9.95555\"\n          y1=\"11.1226\"\n          x2=\"15.4778\"\n          y2=\"17.9671\"\n          gradientUnits=\"userSpaceOnUse\"\n        >\n          <stop stopColor={strokeColor} />\n          <stop offset=\"0.604072\" stopColor={strokeColor} stopOpacity=\"0\" />\n          <stop offset=\"1\" stopColor={strokeColor} stopOpacity=\"0\" />\n        </linearGradient>\n        <linearGradient\n          id=\"next_logo_paint1_linear_1357_10853\"\n          x1=\"11.8222\"\n          y1=\"1.40039\"\n          x2=\"11.791\"\n          y2=\"9.62542\"\n          gradientUnits=\"userSpaceOnUse\"\n        >\n          <stop stopColor={strokeColor} />\n          <stop offset=\"1\" stopColor={strokeColor} stopOpacity=\"0\" />\n        </linearGradient>\n        <mask id=\"next_logo_mask0\">\n          <rect width=\"100%\" height=\"100%\" fill=\"white\" />\n          <rect width=\"5\" height=\"1.5\" fill=\"black\" />\n        </mask>\n      </defs>\n    </svg>\n  )\n}\n\nfunction Warning() {\n  return (\n    <svg\n      width=\"12\"\n      height=\"12\"\n      viewBox=\"0 0 12 12\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M3.98071 1.125L1.125 3.98071L1.125 8.01929L3.98071 10.875H8.01929L10.875 8.01929V3.98071L8.01929 1.125H3.98071ZM3.82538 0C3.62647 0 3.4357 0.0790176 3.29505 0.21967L0.21967 3.29505C0.0790176 3.4357 0 3.62647 0 3.82538V8.17462C0 8.37353 0.0790178 8.5643 0.21967 8.70495L3.29505 11.7803C3.4357 11.921 3.62647 12 3.82538 12H8.17462C8.37353 12 8.5643 11.921 8.70495 11.7803L11.7803 8.70495C11.921 8.5643 12 8.37353 12 8.17462V3.82538C12 3.62647 11.921 3.4357 11.7803 3.29505L8.70495 0.21967C8.5643 0.0790177 8.37353 0 8.17462 0H3.82538ZM6.5625 2.8125V3.375V6V6.5625H5.4375V6V3.375V2.8125H6.5625ZM6 9C6.41421 9 6.75 8.66421 6.75 8.25C6.75 7.83579 6.41421 7.5 6 7.5C5.58579 7.5 5.25 7.83579 5.25 8.25C5.25 8.66421 5.58579 9 6 9Z\"\n        fill=\"#EAEAEA\"\n      />\n    </svg>\n  )\n}\n\nexport function Cross(props: React.SVGProps<SVGSVGElement>) {\n  return (\n    <svg\n      width=\"12\"\n      height=\"12\"\n      viewBox=\"0 0 14 14\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      {...props}\n    >\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M3.08889 11.8384L2.62486 12.3024L1.69678 11.3744L2.16082 10.9103L6.07178 6.99937L2.16082 3.08841L1.69678 2.62437L2.62486 1.69629L3.08889 2.16033L6.99986 6.07129L10.9108 2.16033L11.3749 1.69629L12.3029 2.62437L11.8389 3.08841L7.92793 6.99937L11.8389 10.9103L12.3029 11.3744L11.3749 12.3024L10.9108 11.8384L6.99986 7.92744L3.08889 11.8384Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  )\n}\n"],"names":["Cross","NextLogo","SIZE","SIZE_PX","SHORT_DURATION_MS","useAnimated","dep","config","shouldSkip","_shouldSkip","animationDuration","shouldSkipRef","useRef","animatedDep","setAnimatedDep","useState","isInitialRef","useEffect","current","timeoutId","setTimeout","clearTimeout","forwardRef","propRef","disabled","issueCount","isDevBuilding","isDevRendering","isBuildError","onTriggerClick","toggleErrorOverlay","props","hasError","isErrorExpanded","setIsErrorExpanded","newErrorDetected","count","dismissed","setDismissed","triggerRef","ref","width","useMeasureWidth","isLoading","useMinimumLoadingTimeMultiple","isExpanded","div","data-next-badge-root","style","display","css","data-next-badge","data-error","data-error-expanded","data-animate","button","mergeRefs","data-next-mark","data-next-mark-loading","onClick","NextMark","data-issues","data-issues-open","aria-label","data-disabled-icon","Warning","AnimateCount","animate","data-issues-count-animation","span","aria-hidden","data-issues-count-plural","data-issues-collapse","focus","data-cross","data-dot","children","data-issues-count-exit","data-issues-count","data-issues-count-enter","setWidth","el","observer","ResizeObserver","w","getBoundingClientRect","observe","disconnect","strokeColor","svg","height","viewBox","fill","g","transform","path","className","d","stroke","strokeWidth","mask","strokeDasharray","strokeDashoffset","defs","linearGradient","id","x1","y1","x2","y2","gradientUnits","stop","stopColor","offset","stopOpacity","rect","xmlns","fillRule","clipRule"],"mappings":"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"}