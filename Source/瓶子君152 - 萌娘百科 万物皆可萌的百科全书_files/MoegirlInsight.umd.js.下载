(function(U,P){typeof exports=="object"&&typeof module!="undefined"?P(exports):typeof define=="function"&&define.amd?define(["exports"],P):(U=typeof globalThis!="undefined"?globalThis:U||self,P(U.MoegirlInsight={}))})(this,function(U){"use strict";var eb=Object.defineProperty,tb=Object.defineProperties;var nb=Object.getOwnPropertyDescriptors;var En=Object.getOwnPropertySymbols;var zr=Object.prototype.hasOwnProperty,Jr=Object.prototype.propertyIsEnumerable;var xs=(U,P)=>(P=Symbol[U])?P:Symbol.for("Symbol."+U);var Je=Math.pow,Us=(U,P,N)=>P in U?eb(U,P,{enumerable:!0,configurable:!0,writable:!0,value:N}):U[P]=N,K=(U,P)=>{for(var N in P||(P={}))zr.call(P,N)&&Us(U,N,P[N]);if(En)for(var N of En(P))Jr.call(P,N)&&Us(U,N,P[N]);return U},Ue=(U,P)=>tb(U,nb(P));var Xr=(U,P)=>{var N={};for(var Z in U)zr.call(U,Z)&&P.indexOf(Z)<0&&(N[Z]=U[Z]);if(U!=null&&En)for(var Z of En(U))P.indexOf(Z)<0&&Jr.call(U,Z)&&(N[Z]=U[Z]);return N};var E=(U,P,N)=>Us(U,typeof P!="symbol"?P+"":P,N);var G=(U,P,N)=>new Promise((Z,B)=>{var se=ee=>{try{z(N.next(ee))}catch(de){B(de)}},le=ee=>{try{z(N.throw(ee))}catch(de){B(de)}},z=ee=>ee.done?Z(ee.value):Promise.resolve(ee.value).then(se,le);z((N=N.apply(U,P)).next())}),sb=function(U,P){this[0]=U,this[1]=P},Zr=(U,P,N)=>{var Z=(le,z,ee,de)=>{try{var J=N[le](z),Lt=(z=J.value)instanceof sb,In=J.done;Promise.resolve(Lt?z[0]:z).then(be=>Lt?Z(le==="return"?le:"next",z[1]?{done:be.done,value:be.value}:be,ee,de):ee({value:be,done:In})).catch(be=>Z("throw",be,ee,de))}catch(be){de(be)}},B=le=>se[le]=z=>new Promise((ee,de)=>Z(le,z,ee,de)),se={};return N=N.apply(U,P),se[xs("asyncIterator")]=()=>se,B("next"),B("throw"),B("return"),se};var Qr=(U,P,N)=>(P=U[xs("asyncIterator")])?P.call(U):(U=U[xs("iterator")](),P={},N=(Z,B)=>(B=U[Z])&&(P[Z]=se=>new Promise((le,z,ee)=>(se=B.call(U,se),ee=se.done,Promise.resolve(se.value).then(de=>le({value:de,done:ee}),z)))),N("next"),N("return"),P);var _e,it,je,at,ct,lt,dt,Q,pe,Ye,ut,mt,pt,ft,Gr;var P=Object.defineProperty,N=(e,t)=>P(e,"name",{value:t,configurable:!0});function Z(){}N(Z,"noop");function B(e){return e==null}N(B,"isNullable");function se(e){return e&&typeof e=="object"&&!Array.isArray(e)}N(se,"isPlainObject");function le(e,t){return Object.fromEntries(Object.entries(e).filter(([n,s])=>t(n,s)))}N(le,"filterKeys");function z(e,t){return Object.fromEntries(Object.entries(e).map(([n,s])=>[n,t(s,n)]))}N(z,"mapValues");function ee(e,t,n){if(!t)return K({},e);const s={};for(const o of t)(n||e[o]!==void 0)&&(s[o]=e[o]);return s}N(ee,"pick");function de(e,t){if(!t)return K({},e);const n=K({},e);for(const s of t)Reflect.deleteProperty(n,s);return n}N(de,"omit");function J(e,t,n){return Object.defineProperty(e,t,{writable:!0,value:n,enumerable:!1})}N(J,"defineProperty");function Lt(e,t){return t.every(n=>e.includes(n))}N(Lt,"contain");function In(e,t){return e.filter(n=>t.includes(n))}N(In,"intersection");function be(e,t){return e.filter(n=>!t.includes(n))}N(be,"difference");function ei(e,t){return Array.from(new Set([...e,...t]))}N(ei,"union");function ti(e){return[...new Set(e)]}N(ti,"deduplicate");function Ae(e,t){const n=e.indexOf(t);return n>=0?(e.splice(n,1),!0):!1}N(Ae,"remove");function ni(e){return Array.isArray(e)?e:B(e)?[]:[e]}N(ni,"makeArray");function $e(e,t){return arguments.length===1?n=>$e(e,n):e in globalThis&&t instanceof globalThis[e]||Object.prototype.toString.call(t).slice(8,-1)===e}N($e,"is");function wt(e){return $e("ArrayBuffer",e)||$e("SharedArrayBuffer",e)}N(wt,"isArrayBufferLike");function Cs(e){return wt(e)||ArrayBuffer.isView(e)}N(Cs,"isArrayBufferSource");var Xe;(e=>{e.is=wt,e.isSource=Cs;function t(i){return ArrayBuffer.isView(i)?i.buffer.slice(i.byteOffset,i.byteOffset+i.byteLength):i}e.fromSource=t,N(t,"fromSource");function n(i){if(typeof Buffer!="undefined")return Buffer.from(i).toString("base64");let c="";const l=new Uint8Array(i);for(let d=0;d<l.byteLength;d++)c+=String.fromCharCode(l[d]);return btoa(c)}e.toBase64=n,N(n,"toBase64");function s(i){return typeof Buffer!="undefined"?t(Buffer.from(i,"base64")):Uint8Array.from(atob(i),c=>c.charCodeAt(0))}e.fromBase64=s,N(s,"fromBase64");function o(i){return typeof Buffer!="undefined"?Buffer.from(i).toString("hex"):Array.from(new Uint8Array(i),c=>c.toString(16).padStart(2,"0")).join("")}e.toHex=o,N(o,"toHex");function r(i){if(typeof Buffer!="undefined")return t(Buffer.from(i,"hex"));const c=i.length%2===0?i:i.slice(0,i.length-1),l=[];for(let d=0;d<c.length;d+=2)l.push(parseInt(`${c[d]}${c[d+1]}`,16));return Uint8Array.from(l).buffer}e.fromHex=r,N(r,"fromHex")})(Xe||(Xe={})),Xe.fromBase64,Xe.toBase64,Xe.fromHex,Xe.toHex;function Gt(e){return!e||typeof e!="object"?e:Array.isArray(e)?e.map(Gt):$e("Date",e)?new Date(e.valueOf()):$e("RegExp",e)?new RegExp(e.source,e.flags):wt(e)?e.slice(0):ArrayBuffer.isView(e)?e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength):z(e,Gt)}N(Gt,"clone");function Ze(e,t,n){var o,r,i,c;if(e===t||!n&&B(e)&&B(t))return!0;if(typeof e!=typeof t||typeof e!="object"||!e||!t)return!1;function s(l,d){return l(e)?l(t)?d(e,t):!1:l(t)?!1:void 0}return N(s,"check"),(c=(i=(r=(o=s(Array.isArray,(l,d)=>l.length===d.length&&l.every((_,k)=>Ze(_,d[k]))))!=null?o:s($e("Date"),(l,d)=>l.valueOf()===d.valueOf()))!=null?r:s($e("RegExp"),(l,d)=>l.source===d.source&&l.flags===d.flags))!=null?i:s(wt,(l,d)=>{if(l.byteLength!==d.byteLength)return!1;const _=new Uint8Array(l),k=new Uint8Array(d);for(let m=0;m<_.length;m++)if(_[m]!==k[m])return!1;return!0}))!=null?c:Object.keys(K(K({},e),t)).every(l=>Ze(e[l],t[l],n))}N(Ze,"deepEqual");function si(e){return e.charAt(0).toUpperCase()+e.slice(1)}N(si,"capitalize");function vn(e){return e.charAt(0).toLowerCase()+e.slice(1)}N(vn,"uncapitalize");function oi(e){return e.replace(/[_-][a-z]/g,t=>t.slice(1).toUpperCase())}N(oi,"camelCase");function ri(e){return vn(e).replace(/_/g,"-").replace(/.[A-Z]+/g,t=>t[0]+"-"+t.slice(1).toLowerCase())}N(ri,"paramCase");function ii(e){return vn(e).replace(/-/g,"_").replace(/.[A-Z]+/g,t=>t[0]+"_"+t.slice(1).toLowerCase())}N(ii,"snakeCase");function Ps(e){return e.replace(/\/$/,"")}N(Ps,"trimSlash");function ai(e){return e.startsWith("/")||(e="/"+e),Ps(e)}N(ai,"sanitize");var $t;(e=>{e.millisecond=1,e.second=1e3,e.minute=e.second*60,e.hour=e.minute*60,e.day=e.hour*24,e.week=e.day*7;let t=new Date().getTimezoneOffset();function n(g){t=g}e.setTimezoneOffset=n,N(n,"setTimezoneOffset");function s(){return t}e.getTimezoneOffset=s,N(s,"getTimezoneOffset");function o(g=new Date,f){return typeof g=="number"&&(g=new Date(g)),f===void 0&&(f=t),Math.floor((g.valueOf()/e.minute-f)/1440)}e.getDateNumber=o,N(o,"getDateNumber");function r(g,f){const w=new Date(g*e.day);return f===void 0&&(f=t),new Date(+w+f*e.minute)}e.fromDateNumber=r,N(r,"fromDateNumber");const i=/\d+(?:\.\d+)?/.source,c=new RegExp(`^${["w(?:eek(?:s)?)?","d(?:ay(?:s)?)?","h(?:our(?:s)?)?","m(?:in(?:ute)?(?:s)?)?","s(?:ec(?:ond)?(?:s)?)?"].map(g=>`(${i}${g})?`).join("")}$`);function l(g){const f=c.exec(g);return f?(parseFloat(f[1])*e.week||0)+(parseFloat(f[2])*e.day||0)+(parseFloat(f[3])*e.hour||0)+(parseFloat(f[4])*e.minute||0)+(parseFloat(f[5])*e.second||0):0}e.parseTime=l,N(l,"parseTime");function d(g){const f=l(g);return f?g=Date.now()+f:/^\d{1,2}(:\d{1,2}){1,2}$/.test(g)?g=`${new Date().toLocaleDateString()}-${g}`:/^\d{1,2}-\d{1,2}-\d{1,2}(:\d{1,2}){1,2}$/.test(g)&&(g=`${new Date().getFullYear()}-${g}`),g?new Date(g):new Date}e.parseDate=d,N(d,"parseDate");function _(g){const f=Math.abs(g);return f>=e.day-e.hour/2?Math.round(g/e.day)+"d":f>=e.hour-e.minute/2?Math.round(g/e.hour)+"h":f>=e.minute-e.second/2?Math.round(g/e.minute)+"m":f>=e.second?Math.round(g/e.second)+"s":g+"ms"}e.format=_,N(_,"format");function k(g,f=2){return g.toString().padStart(f,"0")}e.toDigits=k,N(k,"toDigits");function m(g,f=new Date){return g.replace("yyyy",f.getFullYear().toString()).replace("yy",f.getFullYear().toString().slice(2)).replace("MM",k(f.getMonth()+1)).replace("dd",k(f.getDate())).replace("hh",k(f.getHours())).replace("mm",k(f.getMinutes())).replace("ss",k(f.getSeconds())).replace("SSS",k(f.getMilliseconds(),3))}e.template=m,N(m,"template")})($t||($t={}));var ci=Object.defineProperty,S=(e,t)=>ci(e,"name",{value:t,configurable:!0}),I={shadow:Symbol.for("cordis.shadow"),receiver:Symbol.for("cordis.receiver"),original:Symbol.for("cordis.original"),store:Symbol.for("cordis.store"),events:Symbol.for("cordis.events"),static:Symbol.for("cordis.static"),filter:Symbol.for("cordis.filter"),expose:Symbol.for("cordis.expose"),isolate:Symbol.for("cordis.isolate"),internal:Symbol.for("cordis.internal"),intercept:Symbol.for("cordis.intercept"),setup:Symbol.for("cordis.setup"),invoke:Symbol.for("cordis.invoke"),extend:Symbol.for("cordis.extend"),tracker:Symbol.for("cordis.tracker"),provide:Symbol.for("cordis.provide"),immediate:Symbol.for("cordis.immediate")},li=function*(){}.constructor,Ms=function(){return Zr(this,null,function*(){})}.constructor;function Nn(e){return!(!e.prototype||e instanceof li||Ms!==Function&&e instanceof Ms)}S(Nn,"isConstructor");function Rt(e,t){const n=e.Config||e.schema;return n&&e.schema!==!1&&(t=n(t)),t!=null?t:{}}S(Rt,"resolveConfig");function Ls(e){return[Map,Set,Date,Promise].some(t=>e instanceof t)}S(Ls,"isUnproxyable");function On(e,t){if(e===Object.prototype)return t;const n=Object.create(On(Object.getPrototypeOf(e),t));for(const s of Reflect.ownKeys(e))Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(e,s));return n}S(On,"joinPrototype");function Sn(e){return e&&(typeof e=="object"||typeof e=="function")}S(Sn,"isObject");function Ee(e,t,n){if(!Sn(t))return t;if(Object.hasOwn(t,I.shadow))return Object.getPrototypeOf(t);const s=t[I.tracker];return s?Dt(e,t,s,n):t}S(Ee,"getTraceable");function kt(e,t){return t?new Proxy(e,{get:S((n,s,o)=>s in t&&s!=="constructor"?Reflect.get(t,s,o):Reflect.get(n,s,o),"get"),set:S((n,s,o,r)=>s in t&&s!=="constructor"?Reflect.set(t,s,o,r):Reflect.set(n,s,o,r),"set")}):e}S(kt,"withProps");function qt(e,t,n){return kt(e,Object.defineProperty(Object.create(null),t,{value:n,writable:!1}))}S(qt,"withProp");function xn(e,t,n,s){var r;if(!n)return s;const o=(r=Reflect.getOwnPropertyDescriptor(t,n))==null?void 0:r.value;return o?qt(s,n,e.extend({[I.shadow]:o})):s}S(xn,"createShadow");function Gs(e,t,n,s){return new Proxy(t,{apply:S((o,r,i)=>(r===n&&(r=s),i=i.map(c=>typeof c!="function"||c[I.original]?c:new Proxy(c,{get:S((l,d,_)=>{if(d===I.original)return l;const k=Reflect.get(l,d,_);return d==="toString"&&k===Function.prototype.toString?function(...m){return Reflect.apply(k,this===_?l:this,m)}:k},"get"),apply:S((l,d,_)=>Reflect.apply(l,Ee(e,d),_.map(k=>Ee(e,k))),"apply"),construct:S((l,d,_)=>Reflect.construct(l,d.map(k=>Ee(e,k)),_),"construct")})),Ee(e,Reflect.apply(o,r,i))),"apply")})}S(Gs,"createShadowMethod");function Dt(e,t,n,s){e[I.shadow]&&(e=Object.getPrototypeOf(e));const o=new Proxy(t,{get:S((r,i,c)=>{if(i===I.original)return r;if(i===n.property)return e;if(typeof i=="symbol")return Reflect.get(r,i,c);if(n.associate&&e[I.internal][`${n.associate}.${i}`])return Reflect.get(e,`${n.associate}.${i}`,qt(e,I.receiver,c));const l=xn(e,r,n.property,c),d=Reflect.get(r,i,l),_=d==null?void 0:d[I.tracker];return _?Dt(e,d,_):!s&&typeof d=="function"?Gs(e,d,c,l):d},"get"),set:S((r,i,c,l)=>{if(i===I.original||i===n.property)return!1;if(typeof i=="symbol")return Reflect.set(r,i,c,l);if(n.associate&&e[I.internal][`${n.associate}.${i}`])return Reflect.set(e,`${n.associate}.${i}`,c,qt(e,I.receiver,l));const d=xn(e,r,n.property,l);return Reflect.set(r,i,c,d)},"set"),apply:S((r,i,c)=>Un(o,r,i,c),"apply")});return o}S(Dt,"createTraceable");function Un(e,t,n,s){return t[I.invoke]?t[I.invoke].apply(e,s):Reflect.apply(t,n,s)}S(Un,"applyTraceable");function Cn(e,t,n){const s=S(function(...o){const r=Dt(s.ctx,s,n);return Un(r,s,this,o)},"self");return J(s,"name",e),Object.setPrototypeOf(s,t)}S(Cn,"createCallable");var di=(_e=class{constructor(t){this.ctx=t,J(this,I.tracker,{associate:"reflect",property:"ctx"}),this._mixin("reflect",["get","set","provide","accessor","mixin","alias"]),this._mixin("scope",["config","runtime","effect","collect","accept","decline"]),this._mixin("registry",["using","inject","plugin"]),this._mixin("lifecycle",["on","once","parallel","emit","serial","bail","start","stop"])}static resolveInject(t,n){let s=t[I.internal][n];for(;(s==null?void 0:s.type)==="alias";)n=s.name,s=t[I.internal][n];return[n,s]}static checkInject(t,n,s){var r;if(t=(r=t[I.shadow])!=null?r:t,["prototype","then","registry","lifecycle"].includes(n)||n[0]==="$"||n[0]==="_"||!t.runtime.plugin||t.bail(t,"internal/inject",n))return;const o=s.stack.split(`
`);o.splice(1,1),s.stack=o.join(`
`),t.emit(t,"internal/warning",s)}get(t){var r;const n=this.ctx[I.internal][t];if((n==null?void 0:n.type)!=="service")return;const s=this.ctx[I.isolate][t],o=(r=this.ctx[I.store][s])==null?void 0:r.value;return Ee(this.ctx,o)}set(t,n){var l;this.provide(t);const s=this.ctx[I.isolate][t],o=(l=this.ctx[I.store][s])==null?void 0:l.value;n!=null||(n=void 0);let r=S(()=>{},"dispose");if(o===n)return r;if(!B(n)&&!B(o))throw new Error(`service ${t} has been registered`);const i=this.ctx;B(n)||(r=i.effect(()=>()=>{i.set(t,void 0)})),Ls(n)&&i.emit(i,"internal/warning",new Error(`service ${t} is an unproxyable object, which may lead to unexpected behavior`));const c=Object.create(i);return c[I.filter]=d=>i[I.isolate][t]===d[I.isolate][t],i.emit(c,"internal/before-service",t,n),i[I.store][s]={value:n,source:i},i.emit(c,"internal/service",t,o),r}provide(t,n,s){const o=this.ctx.root[I.internal];if(t in o)return;const r=Symbol(t);o[t]={type:"service",builtin:s},this.ctx.root[I.isolate][t]=r,Sn(n)&&(this.ctx[I.store][r]={value:n,source:null},J(n,I.tracker,{associate:t,property:"ctx"}))}_accessor(t,n){const s=this.ctx.root[I.internal];return t in s?()=>{}:(s[t]=K({type:"accessor"},n),()=>delete this.ctx.root[I.isolate][t])}accessor(t,n){this.ctx.scope.effect(()=>this._accessor(t,n))}alias(t,n){const s=this.ctx.root[I.internal];if(!(t in s))for(const o of n)s[o]||(s[o]={type:"alias",name:t})}_mixin(t,n){const s=Array.isArray(n)?n.map(i=>[i,i]):Object.entries(n),o=typeof t=="string"?i=>i[t]:()=>t,r=s.map(([i,c])=>this._accessor(c,{get(l){const d=o(this);if(B(d))return d;const _=l?kt(l,d):d,k=Reflect.get(d,i,_);return typeof k!="function"?k:k.bind(_!=null?_:d)},set(l,d){const _=o(this),k=d?kt(d,_):_;return Reflect.set(_,i,l,k)}}));return()=>r.forEach(i=>i())}mixin(t,n){this.ctx.scope.effect(()=>this._mixin(t,n))}trace(t){return Ee(this.ctx,t)}bind(t){return new Proxy(t,{apply:S((n,s,o)=>n.apply(this.trace(s),o.map(r=>this.trace(r))),"apply")})}},S(_e,"ReflectService"),E(_e,"handler",{get:S((t,n,s)=>{if(typeof n!="string")return Reflect.get(t,n,s);if(Reflect.has(t,n))return Ee(s,Reflect.get(t,n,s),!0);const[o,r]=_e.resolveInject(t,n),i=new Error(`property ${o} is not registered, declare it as \`inject\` to suppress this warning`);return r?r.type==="accessor"?r.get.call(s,s[I.receiver]):(r.builtin||_e.checkInject(s,o,i),s.reflect.get(o)):(_e.checkInject(s,o,i),Reflect.get(t,o,s))},"get"),set:S((t,n,s,o)=>{if(typeof n!="string")return Reflect.set(t,n,s,o);const[r,i]=_e.resolveInject(t,n);return i?i.type==="accessor"?i.set?i.set.call(o,s,o[I.receiver]):!1:(o.reflect.set(r,s),!0):Reflect.set(t,r,s,o)},"set"),has:S((t,n)=>{if(typeof n!="string")return Reflect.has(t,n);if(Reflect.has(t,n))return!0;const[,s]=_e.resolveInject(t,n);return!!s},"has")}),_e),Pn=di;function Mn(e){return e!==null&&e!==!1&&e!==void 0}S(Mn,"isBailed");var ui=(it=class{constructor(t){E(this,"isActive",!1);E(this,"_tasks",new Set);E(this,"_hooks",{});this.ctx=t,J(this,I.tracker,{associate:"lifecycle",property:"ctx"}),J(this.on("internal/listener",function(s,o,r){const i=r.prepend?"unshift":"push";if(s==="ready")return this.lifecycle.isActive?(this.scope.ensure(()=>G(this,null,function*(){return o()})),()=>!1):void 0;if(s==="dispose")return this.scope.disposables[i](o),J(o,"name","event <dispose>"),()=>Ae(this.scope.disposables,o);if(s==="fork")return this.scope.runtime.forkables[i](o),this.scope.collect("event <fork>",()=>Ae(this.scope.runtime.forkables,o))}),te.static,t.scope);for(const s of["info","error","warning"])J(this.on(`internal/${s}`,(o,...r)=>{this._hooks[`internal/${s}`].length>1}),te.static,t.scope);J(this.on("internal/before-service",function(s){var o;for(const r of this.registry.values()){if(!((o=r.inject[s])!=null&&o.required))continue;const i=r.isReusable?r.children:[r];for(const c of i)this[I.filter](c.ctx)&&(c.updateStatus(),c.reset())}},{global:!0}),te.static,t.scope),J(this.on("internal/service",function(s){var o;for(const r of this.registry.values()){if(!((o=r.inject[s])!=null&&o.required))continue;const i=r.isReusable?r.children:[r];for(const c of i)this[I.filter](c.ctx)&&c.start()}},{global:!0}),te.static,t.scope);const n=S((s,o)=>{if(!s.runtime.plugin)return!1;for(const r in s.runtime.inject)if(o===Pn.resolveInject(s.ctx,r)[0])return!0;return n(s.parent.scope,o)},"checkInject");J(this.on("internal/inject",function(s){return n(this.scope,s)},{global:!0}),te.static,t.scope)}flush(){return G(this,null,function*(){for(;this._tasks.size;)yield Promise.all(Array.from(this._tasks))})}filterHooks(t,n){return n=Ee(this.ctx,n),t.slice().filter(s=>{const o=n==null?void 0:n[te.filter];return s.global||!o||o.call(n,s.ctx)})}*dispatch(t,n){const s=typeof n[0]=="object"||typeof n[0]=="function"?n.shift():null,o=n.shift();o!=="internal/event"&&this.emit("internal/event",t,o,n,s);for(const r of this.filterHooks(this._hooks[o]||[],s))yield r.callback.apply(s,n)}parallel(...t){return G(this,null,function*(){yield Promise.all(this.dispatch("emit",t))})}emit(...t){Array.from(this.dispatch("emit",t))}serial(...t){return G(this,null,function*(){try{for(var n=Qr(this.dispatch("serial",t)),s,o,r;s=!(o=yield n.next()).done;s=!1){const i=o.value;if(Mn(i))return i}}catch(o){r=[o]}finally{try{s&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r[0]}}})}bail(...t){for(const n of this.dispatch("bail",t))if(Mn(n))return n}register(t,n,s,o){const r=o.prepend?"unshift":"push";return n[r](K({ctx:this.ctx,callback:s},o)),this.ctx.state.collect(t,()=>this.unregister(n,s))}unregister(t,n){const s=t.findIndex(o=>o.callback===n);if(s>=0)return t.splice(s,1),!0}on(t,n,s){var c;typeof s!="object"&&(s={prepend:s}),this.ctx.scope.assertActive(),n=this.ctx.reflect.bind(n);const o=this.bail(this.ctx,"internal/listener",t,n,s);if(o)return o;const r=(c=this._hooks)[t]||(c[t]=[]),i=typeof t=="string"?`event <${t}>`:"event (Symbol)";return this.register(i,r,n,s)}once(t,n,s){const o=this.on(t,function(...r){return o(),n.apply(this,r)},s);return o}start(){return G(this,null,function*(){this.isActive=!0;const t=this._hooks.ready||[];for(;t.length;){const{ctx:n,callback:s}=t.shift();n.scope.ensure(()=>G(this,null,function*(){return s()}))}yield this.flush()})}stop(){return G(this,null,function*(){this.isActive=!1,this.ctx.scope.reset()})}},S(it,"Lifecycle"),it),mi=ui,Ln=(je=class extends Error{constructor(t,n){super(n!=null?n:je.Code[t]),this.code=t}},S(je,"CordisError"),je);(e=>{e.Code={INACTIVE_EFFECT:"cannot create effect on inactive context"}})(Ln||(Ln={}));var $s=(at=class{constructor(t,n){E(this,"uid");E(this,"ctx");E(this,"disposables",[]);E(this,"error");E(this,"status",0);E(this,"isActive",!1);E(this,"context");E(this,"proxy");E(this,"acceptors",[]);E(this,"tasks",new Set);E(this,"hasError",!1);this.parent=t,this.config=n,this.uid=t.registry?t.registry.counter:0,this.ctx=this.context=t.extend({scope:this}),this.proxy=new Proxy({},{get:S((s,o)=>Reflect.get(this.config,o),"get")})}get _config(){return this.runtime.isReactive?this.proxy:this.config}assertActive(){if(!(this.uid!==null||this.isActive))throw new Ln("INACTIVE_EFFECT")}effect(t,n){this.assertActive();const s=Nn(t)?new t(this.ctx,n):t(this.ctx,n);let o=!1;const r=typeof s=="function"?s:s.dispose.bind(s),i=S((...c)=>{if(!o)return o=!0,Ae(this.disposables,i),r(...c)},"wrapped");return this.disposables.push(i),typeof s=="function"?i:(s.dispose=i,s)}collect(t,n){const s=J(()=>(Ae(this.disposables,s),n()),"name",t);return this.disposables.push(s),s}restart(){this.reset(),this.error=null,this.hasError=!1,this.status=0,this.start()}_getStatus(){return this.uid===null?4:this.hasError?3:this.tasks.size?1:this.ready?2:0}updateStatus(t){const n=this.status;t==null||t(),this.status=this._getStatus(),n!==this.status&&this.context.emit("internal/status",this,n)}ensure(t){const n=t().catch(s=>{this.context.emit(this.ctx,"internal/error",s),this.cancel(s)}).finally(()=>{this.updateStatus(()=>this.tasks.delete(n)),this.context.events._tasks.delete(n)});this.updateStatus(()=>this.tasks.add(n)),this.context.events._tasks.add(n)}cancel(t){this.error=t,this.updateStatus(()=>this.hasError=!0),this.reset()}get ready(){return Object.entries(this.runtime.inject).every(([t,n])=>!n.required||!B(this.ctx.get(t)))}reset(){this.isActive=!1,this.disposables=this.disposables.splice(0).filter(t=>{if(this.uid!==null&&t[te.static]===this)return!0;G(this,null,function*(){return t()}).catch(n=>{this.context.emit(this.ctx,"internal/error",n)})})}init(t){this.config?this.start():this.cancel(t)}start(){if(!this.ready||this.isActive||this.uid===null)return!0;this.isActive=!0,this.updateStatus(()=>this.hasError=!1)}accept(...t){const n=Array.isArray(t[0])?t.shift():null,s=K({keys:n,callback:t[0]},t[1]);return this.effect(()=>{var o;return this.acceptors.push(s),s.immediate&&((o=s.callback)==null||o.call(s,this.config)),()=>Ae(this.acceptors,s)})}decline(t){return this.accept(t,()=>!0)}checkUpdate(t,n){if(n||!this.config)return[!0,!0];if(n===!1)return[!1,!1];const s=Object.create(null),o=S(d=>{var k;const _=(k=s[d])!=null?k:s[d]=!Ze(this.config[d],t[d]);return i||(i=_),_},"checkPropertyUpdate"),r=new Set;let i=!1,c=!1,l=this.runtime.isReactive||null;for(const{keys:d,callback:_,passive:k}of this.acceptors){if(!d)l||(l=!k);else if(k)d==null||d.forEach(g=>r.add(g));else{let g=!1;for(const f of d)g||(g=o(f));if(!g)continue}(_==null?void 0:_(t))&&(c=!0)}for(const d in K(K({},this.config),t))if(l!==!1&&!(d in s)&&!r.has(d)){const _=o(d);l===null&&(c||(c=_))}return[i,c]}},S(at,"EffectScope"),at),pi=(ct=class extends $s{constructor(n,s,o,r){super(n,o);E(this,"dispose");this.runtime=s,this.dispose=J(n.scope.collect(`fork <${n.runtime.name}>`,()=>{this.uid=null,this.reset(),this.context.emit("internal/fork",this);const i=Ae(s.disposables,this.dispose);return Ae(s.children,this)&&!s.children.length&&n.registry.delete(s.plugin),i}),te.static,s),s.children.push(this),s.disposables.push(this.dispose),this.context.emit("internal/fork",this),this.init(r)}start(){if(super.start())return!0;for(const n of this.runtime.forkables)this.ensure(()=>G(this,null,function*(){return n(this.context,this._config)}))}update(n,s){const o=this.config,r=this.runtime.isForkable?this:this.runtime;if(r.config!==o)return;let i;try{i=Rt(this.runtime.plugin,n)}catch(d){return this.context.emit("internal/error",d),this.cancel(d)}const[c,l]=r.checkUpdate(i,s);this.context.emit("internal/before-update",this,n),this.config=i,r.config=i,c&&this.context.emit("internal/update",this,o),l&&r.restart()}},S(ct,"ForkScope"),ct),qs=(lt=class extends $s{constructor(n,s,o,r){super(n,o);E(this,"value");E(this,"runtime",this);E(this,"schema");E(this,"name");E(this,"inject",Object.create(null));E(this,"forkables",[]);E(this,"children",[]);E(this,"isReusable",!1);E(this,"isReactive",!1);E(this,"apply",S((n,s)=>{if(typeof this.plugin!="function")return this.plugin.apply(n,s);if(Nn(this.plugin)){const o=new this.plugin(n,s),r=o[te.expose];return r&&n.set(r,o),o.fork&&this.forkables.push(o.fork.bind(o)),o}else return this.plugin(n,s)},"apply"));this.plugin=s,s?(this.setup(),this.init(r)):(this.name="root",this.isActive=!0)}get isForkable(){return this.forkables.length>0}fork(n,s,o){return new pi(n,this,s,o)}dispose(){return this.uid=null,this.reset(),this.context.emit("internal/runtime",this),!0}setup(){const{name:n}=this.plugin;n&&n!=="apply"&&(this.name=n),this.schema=this.plugin.Config||this.plugin.schema,this.inject=Wt.resolve(this.plugin.using||this.plugin.inject),this.isReusable=this.plugin.reusable,this.isReactive=this.plugin.reactive,this.context.emit("internal/runtime",this),this.isReusable&&this.forkables.push(this.apply)}reset(){super.reset();for(const n of this.children)n.reset()}start(){if(super.start())return!0;!this.isReusable&&this.plugin&&this.ensure(()=>G(this,null,function*(){return this.value=this.apply(this.ctx,this._config)}));for(const n of this.children)n.start()}update(n,s){if(this.isForkable){const d=new Error(`attempting to update forkable plugin "${this.plugin.name}", which may lead to unexpected behavior`);this.context.emit(this.ctx,"internal/warning",d)}const o=this.config;let r;try{r=Rt(this.runtime.plugin||this.context.constructor,n)}catch(d){return this.context.emit("internal/error",d),this.cancel(d)}const[i,c]=this.checkUpdate(r,s),l=this.children.find(d=>d.config===o);this.config=r,l&&(this.context.emit("internal/before-update",l,n),l.config=r,i&&this.context.emit("internal/update",l,o)),c&&this.restart()}},S(lt,"MainScope"),lt);function Ds(e){return e&&typeof e=="object"&&typeof e.apply=="function"}S(Ds,"isApplicable");function Wt(e){return function(t,n){if(n.kind==="class")t.inject=e;else if(n.kind==="method")n.addInitializer(function(){var o;const s=(o=this[I.tracker])==null?void 0:o.property;if(!s)throw new Error("missing context tracker");this[s].inject(e,r=>{t.call(kt(this,{[s]:r}))})});else throw new Error("@Inject can only be used on class or class methods")}}S(Wt,"Inject"),(e=>{function t(n){if(!n)return{};if(Array.isArray(n))return Object.fromEntries(n.map(c=>[c,{required:!0}]));const i=n,{required:s,optional:o}=i,r=Xr(i,["required","optional"]);return Array.isArray(s)&&Object.assign(r,Object.fromEntries(s.map(c=>[c,{required:!0}]))),Array.isArray(o)&&Object.assign(r,Object.fromEntries(o.map(c=>[c,{required:!1}]))),r}e.resolve=t,S(t,"resolve")})(Wt||(Wt={}));var fi=(dt=class{constructor(t,n){E(this,"_counter",0);E(this,"_internal",new Map);E(this,"context");this.ctx=t,J(this,I.tracker,{associate:"registry",property:"ctx"}),this.context=t;const s=new qs(t,null,n);t.scope=s,s.ctx=t,this.set(null,s)}get counter(){return++this._counter}get size(){return this._internal.size}resolve(t,n=!1){if(t===null||typeof t=="function")return t;if(Ds(t))return t.apply;if(n)throw new Error('invalid plugin, expect function or object with an "apply" method, received '+typeof t)}get(t){const n=this.resolve(t);return n&&this._internal.get(n)}has(t){const n=this.resolve(t);return!!n&&this._internal.has(n)}set(t,n){const s=this.resolve(t);this._internal.set(s,n)}delete(t){const n=this.resolve(t),s=n&&this._internal.get(n);if(s)return this._internal.delete(n),s.dispose(),s}keys(){return this._internal.keys()}values(){return this._internal.values()}entries(){return this._internal.entries()}forEach(t){return this._internal.forEach(t)}using(t,n){return this.inject(t,n)}inject(t,n){return this.plugin({inject:t,apply:n,name:n.name})}plugin(t,n,s){if(this.resolve(t,!0),this.ctx.scope.assertActive(),!s)try{n=Rt(t,n)}catch(r){this.context.emit(this.ctx,"internal/error",r),s=r,n=null}let o=this.get(t);return o?(o.isForkable||this.context.emit(this.ctx,"internal/warning",new Error(`duplicate plugin detected: ${t.name}`)),o.fork(this.ctx,n,s)):(o=new qs(this.ctx,t,n,s),this.set(t,o),o.fork(this.ctx,n,s))}},S(dt,"Registry"),dt),hi=fi,te=(Q=class{static is(t){return!!(t!=null&&t[Q.is])}static associate(t,n){return t}constructor(t){t=Rt(this.constructor,t),this[I.store]=Object.create(null),this[I.isolate]=Object.create(null),this[I.internal]=Object.create(null),this[I.intercept]=Object.create(null);const n=new Proxy(this,Pn.handler);n.root=n,n.reflect=new Pn(n),n.registry=new hi(n,t),n.lifecycle=new mi(n);const s=S(o=>{var r;if(o){s(Object.getPrototypeOf(o));for(const i of Object.getOwnPropertyNames(o)){const c=(r=o[i].prototype)==null?void 0:r.constructor;c&&(n[o[i].key]=new c(n,t),J(n[o[i].key],"ctx",n))}}},"attach");return s(this[I.internal]),n}[Symbol.for("nodejs.util.inspect.custom")](){return`Context <${this.name}>`}get name(){let t=this.runtime;for(;t&&!t.name;)t=t.parent.runtime;return t==null?void 0:t.name}get events(){return this.lifecycle}get state(){return this.scope}extend(t={}){var o;const n=(o=Reflect.getOwnPropertyDescriptor(this,I.shadow))==null?void 0:o.value,s=Object.assign(Object.create(Ee(this,this)),t);return n?Object.assign(Object.create(s),{[I.shadow]:n}):s}isolate(t,n){const s=Object.create(this[I.isolate]);return s[t]=n!=null?n:Symbol(t),this.extend({[I.isolate]:s})}intercept(t,n){const s=Object.create(this[I.intercept]);return s[t]=n,this.extend({[I.intercept]:s})}},S(Q,"Context"),E(Q,"store",I.store),E(Q,"events",I.events),E(Q,"static",I.static),E(Q,"filter",I.filter),E(Q,"expose",I.expose),E(Q,"isolate",I.isolate),E(Q,"internal",I.internal),E(Q,"intercept",I.intercept),E(Q,"origin","ctx"),E(Q,"current","ctx"),Q.is[Symbol.toPrimitive]=()=>Symbol.for("cordis.is"),Q.prototype[Q.is]=!0,Q);te.prototype[te.internal]=Object.create(null);var Qe=(pe=class{constructor(...t){E(this,"ctx");E(this,"name");E(this,"config");let n,s,o,r;te.is(t[0])?(n=t[0],typeof t[1]=="string"?(s=t[1],o=t[2]):r=t[1]):r=t[0],s!=null||(s=this.constructor[I.provide]),o!=null||(o=this.constructor[I.immediate]);let i=this;const c={associate:s,property:"ctx"};return i[I.invoke]&&(i=Cn(s,On(Object.getPrototypeOf(this),Function.prototype),c)),n?i.ctx=n:i[I.setup](),i.name=s,i.config=r,J(i,I.tracker,c),i.ctx.provide(s),i.ctx.runtime.name=s,o&&(n?i[I.expose]=s:i.ctx.set(s,i)),i.ctx.on("ready",()=>G(this,null,function*(){yield Promise.resolve(),yield i.start(),o||i.ctx.set(s,i)})),i.ctx.on("dispose",()=>i.stop()),i}start(){}stop(){}[I.filter](t){return t[I.isolate][this.name]===this.ctx[I.isolate][this.name]}[I.setup](){this.ctx=new te}[I.extend](t){let n;return this[pe.invoke]?n=Cn(this.name,this,this[I.tracker]):n=Object.create(this),Object.assign(n,t)}static[Symbol.hasInstance](t){var s;let n=t.constructor;for(;n;){if(n=(s=n.prototype)==null?void 0:s.constructor,n===this)return!0;n=Object.getPrototypeOf(n)}return!1}},S(pe,"Service"),E(pe,"setup",I.setup),E(pe,"invoke",I.invoke),E(pe,"extend",I.extend),E(pe,"tracker",I.tracker),E(pe,"provide",I.provide),E(pe,"immediate",I.immediate),pe),Ws=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Bs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function gi(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var o=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(n,s,o.get?o:{enumerable:!0,get:function(){return e[s]}})}),n}function _i(){const e=new RegExp("(Chrome|Chromium)\\/(?<chromeVersion>\\d+)\\.").exec(navigator.userAgent);if(e)return Number.parseInt(e.groups.chromeVersion,10)}const Fs=_i()>=69?{level:1,hasBasic:!0,has256:!1,has16m:!1}:!1;var Hs={stdout:Fs,stderr:Fs};const Ti=gi(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));var Gn=typeof Map=="function"&&Map.prototype,$n=Object.getOwnPropertyDescriptor&&Gn?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Bt=Gn&&$n&&typeof $n.get=="function"?$n.get:null,Vs=Gn&&Map.prototype.forEach,qn=typeof Set=="function"&&Set.prototype,Dn=Object.getOwnPropertyDescriptor&&qn?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Ft=qn&&Dn&&typeof Dn.get=="function"?Dn.get:null,Ks=qn&&Set.prototype.forEach,wi=typeof WeakMap=="function"&&WeakMap.prototype,yt=wi?WeakMap.prototype.has:null,Ri=typeof WeakSet=="function"&&WeakSet.prototype,bt=Ri?WeakSet.prototype.has:null,ki=typeof WeakRef=="function"&&WeakRef.prototype,js=ki?WeakRef.prototype.deref:null,yi=Boolean.prototype.valueOf,bi=Object.prototype.toString,Ai=Function.prototype.toString,Ei=String.prototype.match,Wn=String.prototype.slice,qe=String.prototype.replace,Ii=String.prototype.toUpperCase,Ys=String.prototype.toLowerCase,zs=RegExp.prototype.test,Js=Array.prototype.concat,Ie=Array.prototype.join,vi=Array.prototype.slice,Xs=Math.floor,Bn=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Fn=Object.getOwnPropertySymbols,Hn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,et=typeof Symbol=="function"&&typeof Symbol.iterator=="object",oe=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===et||!0)?Symbol.toStringTag:null,Zs=Object.prototype.propertyIsEnumerable,Qs=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function eo(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||zs.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var s=e<0?-Xs(-e):Xs(e);if(s!==e){var o=String(s),r=Wn.call(t,o.length+1);return qe.call(o,n,"$&_")+"."+qe.call(qe.call(r,/([0-9]{3})/g,"$&_"),/_$/,"")}}return qe.call(t,n,"$&_")}var Vn=Ti,to=Vn.custom,no=ro(to)?to:null,Ni=function e(t,n,s,o){var r=n||{};if(De(r,"quoteStyle")&&r.quoteStyle!=="single"&&r.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(De(r,"maxStringLength")&&(typeof r.maxStringLength=="number"?r.maxStringLength<0&&r.maxStringLength!==1/0:r.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var i=De(r,"customInspect")?r.customInspect:!0;if(typeof i!="boolean"&&i!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(De(r,"indent")&&r.indent!==null&&r.indent!=="	"&&!(parseInt(r.indent,10)===r.indent&&r.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(De(r,"numericSeparator")&&typeof r.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var c=r.numericSeparator;if(typeof t=="undefined")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return ao(t,r);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var l=String(t);return c?eo(t,l):l}if(typeof t=="bigint"){var d=String(t)+"n";return c?eo(t,d):d}var _=typeof r.depth=="undefined"?5:r.depth;if(typeof s=="undefined"&&(s=0),s>=_&&_>0&&typeof t=="object")return Kn(t)?"[Array]":"[Object]";var k=Ki(r,s);if(typeof o=="undefined")o=[];else if(io(o,t)>=0)return"[Circular]";function m(we,Le,As){if(Le&&(o=vi.call(o),o.push(Le)),As){var ze={depth:r.depth};return De(r,"quoteStyle")&&(ze.quoteStyle=r.quoteStyle),e(we,ze,s+1,o)}return e(we,r,s+1,o)}if(typeof t=="function"&&!oo(t)){var g=Gi(t),f=Ht(t,m);return"[Function"+(g?": "+g:" (anonymous)")+"]"+(f.length>0?" { "+Ie.call(f,", ")+" }":"")}if(ro(t)){var w=et?qe.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):Hn.call(t);return typeof t=="object"&&!et?At(w):w}if(Fi(t)){for(var y="<"+Ys.call(String(t.nodeName)),u=t.attributes||[],h=0;h<u.length;h++)y+=" "+u[h].name+"="+so(Oi(u[h].value),"double",r);return y+=">",t.childNodes&&t.childNodes.length&&(y+="..."),y+="</"+Ys.call(String(t.nodeName))+">",y}if(Kn(t)){if(t.length===0)return"[]";var p=Ht(t,m);return k&&!Vi(p)?"["+Yn(p,k)+"]":"[ "+Ie.call(p,", ")+" ]"}if(xi(t)){var T=Ht(t,m);return!("cause"in Error.prototype)&&"cause"in t&&!Zs.call(t,"cause")?"{ ["+String(t)+"] "+Ie.call(Js.call("[cause]: "+m(t.cause),T),", ")+" }":T.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+Ie.call(T,", ")+" }"}if(typeof t=="object"&&i){if(no&&typeof t[no]=="function"&&Vn)return Vn(t,{depth:_-s});if(i!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if($i(t)){var R=[];return Vs&&Vs.call(t,function(we,Le){R.push(m(Le,t,!0)+" => "+m(we,t))}),co("Map",Bt.call(t),R,k)}if(Wi(t)){var A=[];return Ks&&Ks.call(t,function(we){A.push(m(we,t))}),co("Set",Ft.call(t),A,k)}if(qi(t))return jn("WeakMap");if(Bi(t))return jn("WeakSet");if(Di(t))return jn("WeakRef");if(Ci(t))return At(m(Number(t)));if(Mi(t))return At(m(Bn.call(t)));if(Pi(t))return At(yi.call(t));if(Ui(t))return At(m(String(t)));if(typeof window!="undefined"&&t===window)return"{ [object Window] }";if(t===Ws)return"{ [object globalThis] }";if(!Si(t)&&!oo(t)){var O=Ht(t,m),M=Qs?Qs(t)===Object.prototype:t instanceof Object||t.constructor===Object,fe=t instanceof Object?"":"null prototype",Te=!M&&oe&&Object(t)===t&&oe in t?Wn.call(We(t),8,-1):fe?"Object":"",wn=M||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",gt=wn+(Te||fe?"["+Ie.call(Js.call([],Te||[],fe||[]),": ")+"] ":"");return O.length===0?gt+"{}":k?gt+"{"+Yn(O,k)+"}":gt+"{ "+Ie.call(O,", ")+" }"}return String(t)};function so(e,t,n){var s=(n.quoteStyle||t)==="double"?'"':"'";return s+e+s}function Oi(e){return qe.call(String(e),/"/g,"&quot;")}function Kn(e){return We(e)==="[object Array]"&&(!oe||!(typeof e=="object"&&oe in e))}function Si(e){return We(e)==="[object Date]"&&(!oe||!(typeof e=="object"&&oe in e))}function oo(e){return We(e)==="[object RegExp]"&&(!oe||!(typeof e=="object"&&oe in e))}function xi(e){return We(e)==="[object Error]"&&(!oe||!(typeof e=="object"&&oe in e))}function Ui(e){return We(e)==="[object String]"&&(!oe||!(typeof e=="object"&&oe in e))}function Ci(e){return We(e)==="[object Number]"&&(!oe||!(typeof e=="object"&&oe in e))}function Pi(e){return We(e)==="[object Boolean]"&&(!oe||!(typeof e=="object"&&oe in e))}function ro(e){if(et)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!Hn)return!1;try{return Hn.call(e),!0}catch(t){}return!1}function Mi(e){if(!e||typeof e!="object"||!Bn)return!1;try{return Bn.call(e),!0}catch(t){}return!1}var Li=Object.prototype.hasOwnProperty||function(e){return e in this};function De(e,t){return Li.call(e,t)}function We(e){return bi.call(e)}function Gi(e){if(e.name)return e.name;var t=Ei.call(Ai.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function io(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,s=e.length;n<s;n++)if(e[n]===t)return n;return-1}function $i(e){if(!Bt||!e||typeof e!="object")return!1;try{Bt.call(e);try{Ft.call(e)}catch(t){return!0}return e instanceof Map}catch(t){}return!1}function qi(e){if(!yt||!e||typeof e!="object")return!1;try{yt.call(e,yt);try{bt.call(e,bt)}catch(t){return!0}return e instanceof WeakMap}catch(t){}return!1}function Di(e){if(!js||!e||typeof e!="object")return!1;try{return js.call(e),!0}catch(t){}return!1}function Wi(e){if(!Ft||!e||typeof e!="object")return!1;try{Ft.call(e);try{Bt.call(e)}catch(t){return!0}return e instanceof Set}catch(t){}return!1}function Bi(e){if(!bt||!e||typeof e!="object")return!1;try{bt.call(e,bt);try{yt.call(e,yt)}catch(t){return!0}return e instanceof WeakSet}catch(t){}return!1}function Fi(e){return!e||typeof e!="object"?!1:typeof HTMLElement!="undefined"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function ao(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,s="... "+n+" more character"+(n>1?"s":"");return ao(Wn.call(e,0,t.maxStringLength),t)+s}var o=qe.call(qe.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Hi);return so(o,"single",t)}function Hi(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+Ii.call(t.toString(16))}function At(e){return"Object("+e+")"}function jn(e){return e+" { ? }"}function co(e,t,n,s){var o=s?Yn(n,s):Ie.call(n,", ");return e+" ("+t+") {"+o+"}"}function Vi(e){for(var t=0;t<e.length;t++)if(io(e[t],`
`)>=0)return!1;return!0}function Ki(e,t){var n;if(e.indent==="	")n="	";else if(typeof e.indent=="number"&&e.indent>0)n=Ie.call(Array(e.indent+1)," ");else return null;return{base:n,prev:Ie.call(Array(t+1),n)}}function Yn(e,t){if(e.length===0)return"";var n=`
`+t.prev+t.base;return n+Ie.call(e,","+n)+`
`+t.prev}function Ht(e,t){var n=Kn(e),s=[];if(n){s.length=e.length;for(var o=0;o<e.length;o++)s[o]=De(e,o)?t(e[o],e):""}var r=typeof Fn=="function"?Fn(e):[],i;if(et){i={};for(var c=0;c<r.length;c++)i["$"+r[c]]=r[c]}for(var l in e)De(e,l)&&(n&&String(Number(l))===l&&l<e.length||et&&i["$"+l]instanceof Symbol||(zs.call(/[^\w$]/,l)?s.push(t(l,e)+": "+t(e[l],e)):s.push(l+": "+t(e[l],e))));if(typeof Fn=="function")for(var d=0;d<r.length;d++)Zs.call(e,r[d])&&s.push("["+t(r[d])+"]: "+t(e[r[d]],e));return s}const ji=Bs(Ni);var Yi=Object.create,zn=Object.defineProperty,zi=Object.getOwnPropertyDescriptor,lo=Object.getOwnPropertyNames,Ji=Object.getPrototypeOf,Xi=Object.prototype.hasOwnProperty,uo=(e,t)=>zn(e,"name",{value:t,configurable:!0}),mo=(e,t)=>function(){return t||(0,e[lo(e)[0]])((t={exports:{}}).exports,t),t.exports},Zi=(e,t,n,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of lo(t))!Xi.call(e,o)&&o!==n&&zn(e,o,{get:()=>t[o],enumerable:!(s=zi(t,o))||s.enumerable});return e},Qi=(e,t,n)=>(n=e!=null?Yi(Ji(e)):{},Zi(!e||!e.__esModule?zn(n,"default",{value:e,enumerable:!0}):n,e)),ea=mo({"src/shared.ts"(e,t){var i;var n=[6,2,3,4,5,1],s=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221];function o(c){return c instanceof Error&&Array.isArray(c.errors)}uo(o,"isAggregateError");var r=(i=class{constructor(l,d){E(this,"extend",l=>new i(`${this.name}:${l}`,this.meta));E(this,"warning",(l,...d)=>{this.warn(l,...d)});this.name=l,this.meta=d,this.createMethod("success",i.SUCCESS),this.createMethod("error",i.ERROR),this.createMethod("info",i.INFO),this.createMethod("warn",i.WARN),this.createMethod("debug",i.DEBUG)}static format(l,d){this.formatters[l]=d}static color(l,d,_,k=""){return l.colors?`\x1B[3${d<8?d:"8;5;"+d}${l.colors>=2?k:""}m${_}\x1B[0m`:""+_}static code(l,d){let _=0;for(let m=0;m<l.length;m++)_=(_<<3)-_+l.charCodeAt(m)+13,_|=0;const k=d.colors?d.colors>=2?s:n:[];return k[Math.abs(_)%k.length]}static render(l,d){var u,h,p,T,R,A;const _=`[${d.type[0].toUpperCase()}]`,k=" ".repeat((h=(u=l.label)==null?void 0:u.margin)!=null?h:1);let m=3+k.length,g="";l.showTime&&(m+=l.showTime.length+k.length,g+=i.color(l,8,$t.template(l.showTime))+k);const f=i.code(d.name,l),w=i.color(l,f,d.name,";1"),y=((T=(p=l.label)==null?void 0:p.width)!=null?T:0)+w.length-d.name.length;if(((R=l.label)==null?void 0:R.align)==="right"?(g+=w.padStart(y)+k+_+k,m+=((A=l.label.width)!=null?A:0)+k.length):g+=_+k+w.padEnd(y)+k,g+=d.content.replace(/\n/g,`
`+" ".repeat(m)),l.showDiff&&l.timestamp){const O=d.timestamp-l.timestamp;g+=i.color(l,f," +"+$t.format(O))}return g}createMethod(l,d){this[l]=(..._)=>{if(_.length===1&&_[0]instanceof Error){if(_[0].cause)this[l](_[0].cause);else if(o(_[0])){_[0].errors.forEach(g=>this[l](g));return}}const k=++i.id,m=Date.now();for(const g of i.targets){if(this.getLevel(g)<d)continue;const f=this.format(g,..._),w={id:k,type:l,level:d,name:this.name,meta:this.meta,content:f,timestamp:m};if(g.record)g.record(w);else{const{print:y=console.log}=g;y(i.render(g,w))}g.timestamp=m}}}format(l,...d){d[0]instanceof Error?(d[0]=d[0].stack||d[0].message,d.unshift("%s")):typeof d[0]!="string"&&d.unshift("%o");let _=d.shift();_=_.replace(/%([a-zA-Z%])/g,(m,g)=>{if(m==="%%")return"%";const f=i.formatters[g];if(typeof f=="function"){const w=d.shift();return f(w,l,this)}return m});for(let m of d)typeof m=="object"&&m&&(m=i.formatters.o(m,l,this)),_+=" "+m;const{maxLength:k=10240}=l;return _.split(/\r?\n/g).map(m=>m.slice(0,k)+(m.length>k?"...":"")).join(`
`)}getLevel(l){var k;const d=this.name.split(":");let _=(l==null?void 0:l.levels)||i.levels;do _=(k=_[d.shift()])!=null?k:_.base;while(d.length&&typeof _=="object");return _}get level(){return this.getLevel()}set level(l){const d=this.name.split(":");let _=i.levels;for(;d.length>1;){const k=d.shift(),m=_[k];typeof m=="object"?_=m:_=_[k]={base:m!=null?m:_.base}}_[d[0]]=l}},uo(i,"Logger"),E(i,"SILENT",0),E(i,"SUCCESS",1),E(i,"ERROR",1),E(i,"INFO",2),E(i,"WARN",2),E(i,"DEBUG",3),E(i,"id",0),E(i,"targets",[{colors:Hs.stdout&&Hs.stdout.level,print(l){}}]),E(i,"formatters",Object.create(null)),E(i,"levels",{base:2}),i);r.format("s",c=>c),r.format("d",c=>+c),r.format("j",c=>JSON.stringify(c)),r.format("c",(c,l,d)=>r.color(l,r.code(d.name,l),c)),r.format("C",(c,l)=>r.color(l,15,c,";1")),t.exports=r}}),ta=mo({"src/browser.ts"(e,t){var n=Qi(ea());n.default.format("o",(s,o)=>ji(s,{depth:1/0}).replace(/\s*\n\s*/g," ")),t.exports=n.default}});const na=ta();var sa=Object.defineProperty,oa=(e,t)=>sa(e,"name",{value:t,configurable:!0}),ra=(Ye=class extends Qe{constructor(t){super(t,"logger",!0),t.on("internal/info",function(n,...s){this.logger("app").info(n,...s)}),t.on("internal/error",function(n,...s){this.logger("app").error(n,...s)}),t.on("internal/warning",function(n,...s){this.logger("app").warn(n,...s)})}[Qe.invoke](t){return new na(t,J({},"ctx",this.ctx))}},oa(Ye,"LoggerService"),(()=>{for(const t of["success","error","info","warn","debug","extend"])Ye.prototype[t]=function(...n){return this(this.ctx.name)[t](...n)}})(),Ye),ia=Object.defineProperty,aa=Object.getOwnPropertyNames,F=(e,t)=>ia(e,"name",{value:t,configurable:!0}),ca=(e,t)=>function(){return t||(0,e[aa(e)[0]])((t={exports:{}}).exports,t),t.exports},la=ca({"src/index.ts"(e,t){var y;var n=Symbol.for("schemastery");(y=globalThis.__schemastery_index__)!=null||(globalThis.__schemastery_index__=0);var s=F(function(u){const h=F(function(p,T){return s.resolve(p,h,T)[0]},"schema");if(u.refs){const p=z(u.refs,R=>new s(R)),T=F(R=>p[R],"getRef");for(const R in p){const A=p[R];A.sKey=T(A.sKey),A.inner=T(A.inner),A.list=A.list&&A.list.map(T),A.dict=A.dict&&z(A.dict,T)}return p[u.uid]}if(Object.assign(h,u),typeof h.callback=="string")try{h.callback=new Function("return "+h.callback)()}catch(p){}return Object.defineProperty(h,"uid",{value:globalThis.__schemastery_index__++}),Object.setPrototypeOf(h,s.prototype),h.meta||(h.meta={}),h.toString=h.toString.bind(h),h},"Schema");s.prototype=Object.create(Function.prototype),s.prototype[n]=!0;var o;s.prototype.toJSON=F(function(){var p,T;if(o)return(T=o[p=this.uid])!=null||(o[p]=JSON.parse(JSON.stringify(K({},this)))),this.uid;o={[this.uid]:K({},this)},o[this.uid]=JSON.parse(JSON.stringify(K({},this)));const h={uid:this.uid,refs:o};return o=void 0,h},"toJSON"),s.prototype.set=F(function(h,p){return this.dict[h]=p,this},"set"),s.prototype.push=F(function(h){return this.list.push(h),this},"push");function r(u,h){const p=typeof u=="string"?{"":u}:K({},u);for(const T in h){const R=h[T];R!=null&&R.$description||R!=null&&R.$desc?p[T]=R.$description||R.$desc:typeof R=="string"&&(p[T]=R)}return p}F(r,"mergeDesc");function i(u){var h;return(h=u==null?void 0:u.$value)!=null?h:u==null?void 0:u.$inner}F(i,"getInner");function c(u){return le(u!=null?u:{},h=>!h.startsWith("$"))}F(c,"extractKeys"),s.prototype.i18n=F(function(h){const p=s(this);return p.meta.description=r(p.meta.description,h),p.dict&&(p.dict=z(p.dict,(T,R)=>T.i18n(z(h,A=>{var O,M;return(M=(O=i(A))==null?void 0:O[R])!=null?M:A==null?void 0:A[R]})))),p.list&&(p.list=p.list.map((T,R)=>T.i18n(z(h,(A={})=>Array.isArray(i(A))?i(A)[R]:Array.isArray(A)?A[R]:c(A))))),p.inner&&(p.inner=p.inner.i18n(z(h,T=>i(T)?i(T):c(T)))),p.sKey&&(p.sKey=p.sKey.i18n(z(h,T=>T==null?void 0:T.$key))),p},"i18n"),s.prototype.extra=F(function(h,p){const T=s(this);return T.meta=Ue(K({},T.meta),{[h]:p}),T},"extra");for(const u of["required","disabled","collapse","hidden","loose"])Object.assign(s.prototype,{[u](h=!0){const p=s(this);return p.meta=Ue(K({},p.meta),{[u]:h}),p}});s.prototype.deprecated=F(function(){var p;const h=s(this);return(p=h.meta).badges||(p.badges=[]),h.meta.badges.push({text:"deprecated",type:"danger"}),h},"deprecated"),s.prototype.experimental=F(function(){var p;const h=s(this);return(p=h.meta).badges||(p.badges=[]),h.meta.badges.push({text:"experimental",type:"warning"}),h},"experimental"),s.prototype.pattern=F(function(h){const p=s(this),T=ee(h,["source","flags"]);return p.meta=Ue(K({},p.meta),{pattern:T}),p},"pattern"),s.prototype.simplify=F(function(h){if(Ze(h,this.meta.default,this.type==="dict"))return null;if(B(h))return h;if(this.type==="object"||this.type==="dict"){const p={};for(const T in h){const R=this.type==="object"?this.dict[T]:this.inner,A=R==null?void 0:R.simplify(h[T]);(this.type==="dict"||!B(A))&&(p[T]=A)}return Ze(p,this.meta.default,this.type==="dict")?null:p}else if(this.type==="array"||this.type==="tuple"){const p=[];return h.forEach((T,R)=>{const A=this.type==="array"?this.inner:this.list[R],O=A?A.simplify(T):T;p.push(O)}),p}else if(this.type==="intersect"){const p={};for(const T of this.list)Object.assign(p,T.simplify(h));return p}else if(this.type==="union")for(const p of this.list)try{return s.resolve(h,p),p.simplify(h)}catch(T){}return h},"simplify"),s.prototype.toString=F(function(h){var p,T;return(T=(p=f[this.type])==null?void 0:p.call(f,this,h))!=null?T:`Schema<${this.type}>`},"toString"),s.prototype.role=F(function(u,h){const p=s(this);return p.meta=Ue(K({},p.meta),{role:u,extra:h}),p},"role");for(const u of["default","link","comment","description","max","min","step"])Object.assign(s.prototype,{[u](h){const p=s(this);return p.meta=Ue(K({},p.meta),{[u]:h}),p}});var l={};s.extend=F(function(h,p){l[h]=p},"extend"),s.resolve=F(function(h,p,T={},R=!1){if(!p)return[h];if(B(h)){if(p.meta.required)throw new TypeError("missing required value");let O=p,M=p.meta.default;for(;(O==null?void 0:O.type)==="intersect"&&B(M);)O=O.list[0],M=O==null?void 0:O.meta.default;if(B(M))return[h];h=Gt(M)}const A=l[p.type];if(!A)throw new TypeError(`unsupported type "${p.type}"`);try{return A(h,p,T,R)}catch(O){if(!p.meta.loose)throw O;return[p.meta.default]}},"resolve"),s.from=F(function(h){if(B(h))return s.any();if(["string","number","boolean"].includes(typeof h))return s.const(h).required();if(h[n])return h;if(typeof h=="function")switch(h){case String:return s.string().required();case Number:return s.number().required();case Boolean:return s.boolean().required();case Function:return s.function().required();default:return s.is(h).required()}else throw new TypeError(`cannot infer schema from ${h}`)},"from"),s.natural=F(function(){return s.number().step(1).min(0)},"natural"),s.percent=F(function(){return s.number().step(.01).min(0).max(1).role("slider")},"percent"),s.date=F(function(){return s.union([s.is(Date),s.transform(s.string().role("datetime"),h=>{const p=new Date(h);if(isNaN(+p))throw new TypeError(`invalid date "${h}"`);return p},!0)])},"date"),s.extend("any",u=>[u]),s.extend("never",u=>{throw new TypeError(`expected nullable but got ${u}`)}),s.extend("const",(u,{value:h})=>{if(u===h)return[h];throw new TypeError(`expected ${h} but got ${u}`)});function d(u,h,p,T=!1){const{max:R=1/0,min:A=-1/0}=h;if(u>R)throw new TypeError(`expected ${p} <= ${R} but got ${u}`);if(u<A&&!T)throw new TypeError(`expected ${p} >= ${A} but got ${u}`)}F(d,"checkWithinRange"),s.extend("string",(u,{meta:h})=>{if(typeof u!="string")throw new TypeError(`expected string but got ${u}`);if(h.pattern){const p=new RegExp(h.pattern.source,h.pattern.flags);if(!p.test(u))throw new TypeError(`expect string to match regexp ${p}`)}return d(u.length,h,"string length"),[u]});function _(u,h){const p=u.toString();if(p.includes("e"))return u*Math.pow(10,h);const T=p.indexOf(".");if(T===-1)return u*Math.pow(10,h);const R=p.slice(T+1),A=p.slice(0,T);return R.length<=h?+(A+R.padEnd(h,"0")):+(A+R.slice(0,h)+"."+R.slice(h))}F(_,"decimalShift");function k(u,h,p){if(p=Math.abs(p),!/^\d+\.\d+$/.test(p.toString()))return(u-h)%p===0;const T=p.toString().indexOf("."),R=p.toString().slice(T+1).length;return Math.abs(_(u,R)-_(h,R))%_(p,R)===0}F(k,"isMultipleOf"),s.extend("number",(u,{meta:h})=>{var T;if(typeof u!="number")throw new TypeError(`expected number but got ${u}`);d(u,h,"number");const{step:p}=h;if(p&&!k(u,(T=h.min)!=null?T:0,p))throw new TypeError(`expected number multiple of ${p} but got ${u}`);return[u]}),s.extend("boolean",u=>{if(typeof u=="boolean")return[u];throw new TypeError(`expected boolean but got ${u}`)}),s.extend("bitset",(u,{bits:h,meta:p})=>{let T=0,R=[];if(typeof u=="number"){T=u;for(const A in h)u&h[A]&&R.push(A)}else if(Array.isArray(u)){R=u;for(const A of R){if(typeof A!="string")throw new TypeError(`expected string but got ${A}`);A in h&&(T|=h[A])}}else throw new TypeError(`expected number or array but got ${u}`);return T===p.default?[T]:[T,R]}),s.extend("function",u=>{if(typeof u=="function")return[u];throw new TypeError(`expected function but got ${u}`)}),s.extend("is",(u,{callback:h})=>{if(u instanceof h)return[u];throw new TypeError(`expected ${h.name} but got ${u}`)});function m(u,h,p,T){try{const[R,A]=s.resolve(u[h],p,T);return A!==void 0&&(u[h]=A),R}catch(R){if(!(T!=null&&T.autofix))throw R;return delete u[h],p.meta.default}}F(m,"property"),s.extend("array",(u,{inner:h,meta:p},T)=>{if(!Array.isArray(u))throw new TypeError(`expected array but got ${u}`);return d(u.length,p,"array length",!B(h.meta.default)),[u.map((R,A)=>m(u,A,h,T))]}),s.extend("dict",(u,{inner:h,sKey:p},T,R)=>{if(!se(u))throw new TypeError(`expected object but got ${u}`);const A={};for(const O in u){let M;try{M=s.resolve(O,p)[0]}catch(fe){if(R)continue;throw fe}A[M]=m(u,O,h,T),u[M]=u[O],O!==M&&delete u[O]}return[A]}),s.extend("tuple",(u,{list:h},p,T)=>{if(!Array.isArray(u))throw new TypeError(`expected array but got ${u}`);const R=h.map((A,O)=>m(u,O,A,p));return T?[R]:(R.push(...u.slice(h.length)),[R])});function g(u,h){for(const p in h)p in u||(u[p]=h[p])}F(g,"merge"),s.extend("object",(u,{dict:h},p,T)=>{if(!se(u))throw new TypeError(`expected object but got ${u}`);const R={};for(const A in h){const O=m(u,A,h[A],p);(!B(O)||A in u)&&(R[A]=O)}return T||g(R,u),[R]}),s.extend("union",(u,{list:h,toString:p},T,R)=>{for(const A of h)try{return s.resolve(u,A,T,R)}catch(O){}throw new TypeError(`expected ${p()} but got ${JSON.stringify(u)}`)}),s.extend("intersect",(u,{list:h,toString:p},T,R)=>{let A;for(const O of h){const M=s.resolve(u,O,T,!0)[0];if(!B(M))if(B(A))A=M;else{if(typeof A!=typeof M)throw new TypeError(`expected ${p()} but got ${JSON.stringify(u)}`);if(typeof M=="object")g(A!=null?A:A={},M);else if(A!==M)throw new TypeError(`expected ${p()} but got ${JSON.stringify(u)}`)}}return!R&&se(u)&&g(A,u),[A]}),s.extend("transform",(u,{inner:h,callback:p,preserve:T},R)=>{const[A,O=u]=s.resolve(u,h,R,!0);return T?[p(A)]:[p(A),p(O)]});var f={};function w(u,h,p){f[u]=p,Object.assign(s,{[u](...T){const R=new s({type:u});return h.forEach((A,O)=>{var M,fe;switch(A){case"sKey":R.sKey=(M=T[O])!=null?M:s.string();break;case"inner":R.inner=s.from(T[O]);break;case"list":R.list=T[O].map(s.from);break;case"dict":R.dict=z(T[O],s.from);break;case"bits":{R.bits={};for(const Te in T[O])typeof T[O][Te]=="number"&&(R.bits[Te]=T[O][Te]);break}case"callback":{R.callback=T[O],(fe=R.callback).toJSON||(fe.toJSON=()=>R.callback.toString());break}default:R[A]=T[O]}}),u==="object"||u==="dict"?R.meta.default={}:u==="array"||u==="tuple"?R.meta.default=[]:u==="bitset"&&(R.meta.default=0),R}})}F(w,"defineMethod"),w("is",["callback"],({callback:u})=>u.name),w("any",[],()=>"any"),w("never",[],()=>"never"),w("const",["value"],({value:u})=>typeof u=="string"?JSON.stringify(u):u),w("string",[],()=>"string"),w("number",[],()=>"number"),w("boolean",[],()=>"boolean"),w("bitset",["bits"],()=>"bitset"),w("function",[],()=>"function"),w("array",["inner"],({inner:u})=>`${u.toString(!0)}[]`),w("dict",["inner","sKey"],({inner:u,sKey:h})=>`{ [key: ${h.toString()}]: ${u.toString()} }`),w("tuple",["list"],({list:u})=>`[${u.map(h=>h.toString()).join(", ")}]`),w("object",["dict"],({dict:u})=>Object.keys(u).length===0?"{}":`{ ${Object.entries(u).map(([h,p])=>`${h}${p.meta.required?"":"?"}: ${p.toString()}`).join(", ")} }`),w("union",["list"],({list:u},h)=>{const p=u.map(({toString:T})=>T()).join(" | ");return h?`(${p})`:p}),w("intersect",["list"],({list:u})=>`${u.map(h=>h.toString(!0)).join(" & ")}`),w("transform",["inner","callback","preserve"],({inner:u},h)=>u.toString(h)),t.exports=s}});const da=la();var ua=Object.defineProperty,ma=(e,t)=>ua(e,"name",{value:t,configurable:!0}),po=Symbol("cordis.schema.order"),pa=(ut=class{constructor(t){E(this,"_data",da.intersect([]));this.ctx=t,J(this,Qe.tracker,{property:"ctx"})}extend(t,n=0){const s=this._data.list.findIndex(o=>o[po]<n);return t[po]=n,this.ctx.effect(()=>(s>=0?this._data.list.splice(s,0,t):this._data.list.push(t),this.ctx.emit("internal/service-schema"),()=>{Ae(this._data.list,t),this.ctx.emit("internal/service-schema")}))}toJSON(){return this._data.toJSON()}},ma(ut,"SchemaService"),ut),fa=Object.defineProperty,Vt=(e,t)=>fa(e,"name",{value:t,configurable:!0}),ha=(mt=class extends Qe{constructor(t){super(t,"timer",!0),t.mixin("timer",["setTimeout","setInterval","sleep","throttle","debounce"])}setTimeout(t,n){const s=this[te.current].effect(()=>{const o=setTimeout(()=>{s(),t()},n);return()=>clearTimeout(o)});return s}setInterval(t,n){return this[te.current].effect(()=>{const s=setInterval(t,n);return()=>clearInterval(s)})}sleep(t){const n=this[te.current];return new Promise((s,o)=>{const r=this.setTimeout(()=>{r(),i(),s()},t),i=n.on("dispose",()=>{r(),i(),o(new Error("Context has been disposed"))})})}createWrapper(t,n=!1){const s=this[te.current];s.scope.assertActive();let o;const r=Vt(()=>{n=!0,Ae(s.scope.disposables,r),clearTimeout(o)},"dispose"),i=Vt((...c)=>{clearTimeout(o),o=t(c,()=>!n&&s.scope.isActive)},"wrapper");return i.dispose=r,s.scope.disposables.push(r),i}throttle(t,n,s){let o=-1/0;const r=Vt((...i)=>{o=Date.now(),t(...i)},"execute");return this.createWrapper((i,c)=>{const l=Date.now(),d=n-(l-o);if(d<=0)r(...i);else if(c())return setTimeout(r,d,...i)},s)}debounce(t,n){return this.createWrapper((s,o)=>{if(o())return setTimeout(t,n,...s)})}},Vt(mt,"TimerService"),mt),ga=Object.defineProperty,Jn=(e,t)=>ga(e,"name",{value:t,configurable:!0}),Xn=(pt=class extends te{constructor(n){var s,o;super(n);E(this,"baseDir");this.baseDir=((o=(s=globalThis.process)==null?void 0:s.cwd)==null?void 0:o.call(s))||"",this.provide("logger",void 0,!0),this.provide("timer",void 0,!0),this.plugin(ra),this.plugin(ha)}},Jn(pt,"Context"),pt),Kt=(ft=class extends Qe{constructor(...n){super(...n);E(this,"logger");E(this,"schema");this.logger=this.ctx.logger(this.name),this.schema=new pa(this.ctx)}[Qe.setup](){this.ctx=new Xn}},Jn(ft,"Service"),ft);function _a(){}Jn(_a,"default");var Zn={exports:{}};(function(e,t){(function(n,s){var o="1.0.39",r="",i="?",c="function",l="undefined",d="object",_="string",k="major",m="model",g="name",f="type",w="vendor",y="version",u="architecture",h="console",p="mobile",T="tablet",R="smarttv",A="wearable",O="embedded",M=500,fe="Amazon",Te="Apple",wn="ASUS",gt="BlackBerry",we="Browser",Le="Chrome",As="Edge",ze="Firefox",Rn="Google",$r="Huawei",Es="LG",Is="Microsoft",qr="Motorola",Ct="Opera",Pt="Samsung",Dr="Sharp",kn="Sony",vs="Xiaomi",Ns="Zebra",Wr="Facebook",Br="Chromium OS",Fr="Mac OS",Hr=" Browser",Xy=function(q,D){var C={};for(var Y in q)D[Y]&&D[Y].length%2===0?C[Y]=D[Y].concat(q[Y]):C[Y]=q[Y];return C},yn=function(q){for(var D={},C=0;C<q.length;C++)D[q[C].toUpperCase()]=q[C];return D},Vr=function(q,D){return typeof q===_?_t(D).indexOf(_t(q))!==-1:!1},_t=function(q){return q.toLowerCase()},Zy=function(q){return typeof q===_?q.replace(/[^\d\.]/g,r).split(".")[0]:s},Os=function(q,D){if(typeof q===_)return q=q.replace(/^\s\s*/,r),typeof D===l?q:q.substring(0,M)},Mt=function(q,D){for(var C=0,Y,Ge,Se,W,x,xe;C<D.length&&!x;){var Ss=D[C],Yr=D[C+1];for(Y=Ge=0;Y<Ss.length&&!x&&Ss[Y];)if(x=Ss[Y++].exec(q),x)for(Se=0;Se<Yr.length;Se++)xe=x[++Ge],W=Yr[Se],typeof W===d&&W.length>0?W.length===2?typeof W[1]==c?this[W[0]]=W[1].call(this,xe):this[W[0]]=W[1]:W.length===3?typeof W[1]===c&&!(W[1].exec&&W[1].test)?this[W[0]]=xe?W[1].call(this,xe,W[2]):s:this[W[0]]=xe?xe.replace(W[1],W[2]):s:W.length===4&&(this[W[0]]=xe?W[3].call(this,xe.replace(W[1],W[2])):s):this[W]=xe||s;C+=2}},bn=function(q,D){for(var C in D)if(typeof D[C]===d&&D[C].length>0){for(var Y=0;Y<D[C].length;Y++)if(Vr(D[C][Y],q))return C===i?s:C}else if(Vr(D[C],q))return C===i?s:C;return D.hasOwnProperty("*")?D["*"]:q},Qy={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Kr={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},jr={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[y,[g,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[y,[g,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[g,y],[/opios[\/ ]+([\w\.]+)/i],[y,[g,Ct+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[y,[g,Ct+" GX"]],[/\bopr\/([\w\.]+)/i],[y,[g,Ct]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[y,[g,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[g,y],[/quark(?:pc)?\/([-\w\.]+)/i],[y,[g,"Quark"]],[/\bddg\/([\w\.]+)/i],[y,[g,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[y,[g,"UC"+we]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[y,[g,"WeChat"]],[/konqueror\/([\w\.]+)/i],[y,[g,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[y,[g,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[y,[g,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[y,[g,"Smart Lenovo "+we]],[/(avast|avg)\/([\w\.]+)/i],[[g,/(.+)/,"$1 Secure "+we],y],[/\bfocus\/([\w\.]+)/i],[y,[g,ze+" Focus"]],[/\bopt\/([\w\.]+)/i],[y,[g,Ct+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[y,[g,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[y,[g,"Dolphin"]],[/coast\/([\w\.]+)/i],[y,[g,Ct+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[y,[g,"MIUI "+we]],[/fxios\/([-\w\.]+)/i],[y,[g,ze]],[/\bqihu|(qi?ho?o?|360)browser/i],[[g,"360"+Hr]],[/\b(qq)\/([\w\.]+)/i],[[g,/(.+)/,"$1Browser"],y],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[g,/(.+)/,"$1"+Hr],y],[/samsungbrowser\/([\w\.]+)/i],[y,[g,Pt+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[g,/_/g," "],y],[/metasr[\/ ]?([\d\.]+)/i],[y,[g,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[g,"Sogou Mobile"],y],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[g,y],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[g],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[g,Wr],y],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[g,y],[/\bgsa\/([\w\.]+) .*safari\//i],[y,[g,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[y,[g,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[y,[g,Le+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[g,Le+" WebView"],y],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[y,[g,"Android "+we]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[g,y],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[y,[g,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[y,g],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[g,[y,bn,Qy]],[/(webkit|khtml)\/([\w\.]+)/i],[g,y],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[g,"Netscape"],y],[/(wolvic)\/([\w\.]+)/i],[g,y],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[y,[g,ze+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[g,[y,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[g,[y,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[u,"amd64"]],[/(ia32(?=;))/i],[[u,_t]],[/((?:i[346]|x)86)[;\)]/i],[[u,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[u,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[u,"armhf"]],[/windows (ce|mobile); ppc;/i],[[u,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[u,/ower/,r,_t]],[/(sun4\w)[;\)]/i],[[u,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[u,_t]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[m,[w,Pt],[f,T]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[m,[w,Pt],[f,p]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[m,[w,Te],[f,p]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[m,[w,Te],[f,T]],[/(macintosh);/i],[m,[w,Te]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[m,[w,Dr],[f,p]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[m,[w,$r],[f,T]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[m,[w,$r],[f,p]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[m,/_/g," "],[w,vs],[f,p]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[m,/_/g," "],[w,vs],[f,T]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[m,[w,"OPPO"],[f,p]],[/\b(opd2\d{3}a?) bui/i],[m,[w,"OPPO"],[f,T]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[m,[w,"Vivo"],[f,p]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[m,[w,"Realme"],[f,p]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[m,[w,qr],[f,p]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[m,[w,qr],[f,T]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[m,[w,Es],[f,T]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[m,[w,Es],[f,p]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[m,[w,"Lenovo"],[f,T]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[m,/_/g," "],[w,"Nokia"],[f,p]],[/(pixel c)\b/i],[m,[w,Rn],[f,T]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[m,[w,Rn],[f,p]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[m,[w,kn],[f,p]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[m,"Xperia Tablet"],[w,kn],[f,T]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[m,[w,"OnePlus"],[f,p]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[m,[w,fe],[f,T]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[m,/(.+)/g,"Fire Phone $1"],[w,fe],[f,p]],[/(playbook);[-\w\),; ]+(rim)/i],[m,w,[f,T]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[m,[w,gt],[f,p]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[m,[w,wn],[f,T]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[m,[w,wn],[f,p]],[/(nexus 9)/i],[m,[w,"HTC"],[f,T]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[w,[m,/_/g," "],[f,p]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[m,[w,"TCL"],[f,T]],[/(itel) ((\w+))/i],[[w,_t],m,[f,bn,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[m,[w,"Acer"],[f,T]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[m,[w,"Meizu"],[f,p]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[m,[w,"Ulefone"],[f,p]],[/droid.+; (a(?:015|06[35]|142p?))/i],[m,[w,"Nothing"],[f,p]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[w,m,[f,p]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[w,m,[f,T]],[/(surface duo)/i],[m,[w,Is],[f,T]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[m,[w,"Fairphone"],[f,p]],[/(u304aa)/i],[m,[w,"AT&T"],[f,p]],[/\bsie-(\w*)/i],[m,[w,"Siemens"],[f,p]],[/\b(rct\w+) b/i],[m,[w,"RCA"],[f,T]],[/\b(venue[\d ]{2,7}) b/i],[m,[w,"Dell"],[f,T]],[/\b(q(?:mv|ta)\w+) b/i],[m,[w,"Verizon"],[f,T]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[m,[w,"Barnes & Noble"],[f,T]],[/\b(tm\d{3}\w+) b/i],[m,[w,"NuVision"],[f,T]],[/\b(k88) b/i],[m,[w,"ZTE"],[f,T]],[/\b(nx\d{3}j) b/i],[m,[w,"ZTE"],[f,p]],[/\b(gen\d{3}) b.+49h/i],[m,[w,"Swiss"],[f,p]],[/\b(zur\d{3}) b/i],[m,[w,"Swiss"],[f,T]],[/\b((zeki)?tb.*\b) b/i],[m,[w,"Zeki"],[f,T]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[w,"Dragon Touch"],m,[f,T]],[/\b(ns-?\w{0,9}) b/i],[m,[w,"Insignia"],[f,T]],[/\b((nxa|next)-?\w{0,9}) b/i],[m,[w,"NextBook"],[f,T]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[w,"Voice"],m,[f,p]],[/\b(lvtel\-)?(v1[12]) b/i],[[w,"LvTel"],m,[f,p]],[/\b(ph-1) /i],[m,[w,"Essential"],[f,p]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[m,[w,"Envizen"],[f,T]],[/\b(trio[-\w\. ]+) b/i],[m,[w,"MachSpeed"],[f,T]],[/\btu_(1491) b/i],[m,[w,"Rotor"],[f,T]],[/(shield[\w ]+) b/i],[m,[w,"Nvidia"],[f,T]],[/(sprint) (\w+)/i],[w,m,[f,p]],[/(kin\.[onetw]{3})/i],[[m,/\./g," "],[w,Is],[f,p]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[m,[w,Ns],[f,T]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[m,[w,Ns],[f,p]],[/smart-tv.+(samsung)/i],[w,[f,R]],[/hbbtv.+maple;(\d+)/i],[[m,/^/,"SmartTV"],[w,Pt],[f,R]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[w,Es],[f,R]],[/(apple) ?tv/i],[w,[m,Te+" TV"],[f,R]],[/crkey/i],[[m,Le+"cast"],[w,Rn],[f,R]],[/droid.+aft(\w+)( bui|\))/i],[m,[w,fe],[f,R]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[m,[w,Dr],[f,R]],[/(bravia[\w ]+)( bui|\))/i],[m,[w,kn],[f,R]],[/(mitv-\w{5}) bui/i],[m,[w,vs],[f,R]],[/Hbbtv.*(technisat) (.*);/i],[w,m,[f,R]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[w,Os],[m,Os],[f,R]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[f,R]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[w,m,[f,h]],[/droid.+; (shield) bui/i],[m,[w,"Nvidia"],[f,h]],[/(playstation [345portablevi]+)/i],[m,[w,kn],[f,h]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[m,[w,Is],[f,h]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[m,[w,Pt],[f,A]],[/((pebble))app/i],[w,m,[f,A]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[m,[w,Te],[f,A]],[/droid.+; (glass) \d/i],[m,[w,Rn],[f,A]],[/droid.+; (wt63?0{2,3})\)/i],[m,[w,Ns],[f,A]],[/(quest( \d| pro)?)/i],[m,[w,Wr],[f,A]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[w,[f,O]],[/(aeobc)\b/i],[m,[w,fe],[f,O]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[m,[f,p]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[m,[f,T]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[f,T]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[f,p]],[/(android[-\w\. ]{0,9});.+buil/i],[m,[w,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[y,[g,As+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[y,[g,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[g,y],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[y,g]],os:[[/microsoft (windows) (vista|xp)/i],[g,y],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[g,[y,bn,Kr]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[y,bn,Kr],[g,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[y,/_/g,"."],[g,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[g,Fr],[y,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[y,g],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[g,y],[/\(bb(10);/i],[y,[g,gt]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[y,[g,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[y,[g,ze+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[y,[g,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[y,[g,"watchOS"]],[/crkey\/([\d\.]+)/i],[y,[g,Le+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[g,Br],y],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[g,y],[/(sunos) ?([\w\.\d]*)/i],[[g,"Solaris"],y],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[g,y]]},ye=function(q,D){if(typeof q===d&&(D=q,q=s),!(this instanceof ye))return new ye(q,D).getResult();var C=typeof n!==l&&n.navigator?n.navigator:s,Y=q||(C&&C.userAgent?C.userAgent:r),Ge=C&&C.userAgentData?C.userAgentData:s,Se=D?Xy(jr,D):jr,W=C&&C.userAgent==Y;return this.getBrowser=function(){var x={};return x[g]=s,x[y]=s,Mt.call(x,Y,Se.browser),x[k]=Zy(x[y]),W&&C&&C.brave&&typeof C.brave.isBrave==c&&(x[g]="Brave"),x},this.getCPU=function(){var x={};return x[u]=s,Mt.call(x,Y,Se.cpu),x},this.getDevice=function(){var x={};return x[w]=s,x[m]=s,x[f]=s,Mt.call(x,Y,Se.device),W&&!x[f]&&Ge&&Ge.mobile&&(x[f]=p),W&&x[m]=="Macintosh"&&C&&typeof C.standalone!==l&&C.maxTouchPoints&&C.maxTouchPoints>2&&(x[m]="iPad",x[f]=T),x},this.getEngine=function(){var x={};return x[g]=s,x[y]=s,Mt.call(x,Y,Se.engine),x},this.getOS=function(){var x={};return x[g]=s,x[y]=s,Mt.call(x,Y,Se.os),W&&!x[g]&&Ge&&Ge.platform&&Ge.platform!="Unknown"&&(x[g]=Ge.platform.replace(/chrome os/i,Br).replace(/macos/i,Fr)),x},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Y},this.setUA=function(x){return Y=typeof x===_&&x.length>M?Os(x,M):x,this},this.setUA(Y),this};ye.VERSION=o,ye.BROWSER=yn([g,y,k]),ye.CPU=yn([u]),ye.DEVICE=yn([m,w,f,h,p,R,T,A,O]),ye.ENGINE=ye.OS=yn([g,y]),e.exports&&(t=e.exports=ye),t.UAParser=ye;var Tt=typeof n!==l&&(n.jQuery||n.Zepto);if(Tt&&!Tt.ua){var An=new ye;Tt.ua=An.getResult(),Tt.ua.get=function(){return An.getUA()},Tt.ua.set=function(q){An.setUA(q);var D=An.getResult();for(var C in D)Tt.ua[C]=D[C]}}})(typeof window=="object"?window:Ws)})(Zn,Zn.exports);var Ta=Zn.exports;const wa=Bs(Ta);class Ra extends Kt{constructor(n){super(n,"device");E(this,"uaInfo",new wa(navigator.userAgent).getResult());E(this,"hasTouchPoints","ontouchstart"in document&&(navigator.maxTouchPoints||0)>0)}get isPhone(){return this.uaInfo.device.type==="mobile"||this.uaInfo.device.type==="wearable"}get isTablet(){return this.uaInfo.device.type==="tablet"||this.uaInfo.device.type==="console"}get isMobile(){return this.isPhone||this.isTablet||this.hasTouchPoints}get isMobileStricted(){return this.isMobile&&navigator.platform!=="Win32"}get isIOS(){return this.uaInfo.os.name==="iOS"||this.uaInfo.device.vendor==="Apple"&&this.hasTouchPoints||["iPhone","iPod","iPad"].includes(navigator.platform)||navigator.platform==="MacIntel"&&this.hasTouchPoints}get isAndroid(){return["Android","HarmonyOS"].includes(this.uaInfo.os.name||"__UNKNOWN__")}currentDeviceTypes(){const n=[];return this.isMobile&&n.push("mobile"),this.isPhone&&n.push("phone"),this.isTablet&&n.push("tablet"),this.isIOS&&n.push("ios"),this.isAndroid&&n.push("android"),n.length||n.push("desktop"),n.push("all"),n}matchDevice(n){return n.device==="all"?!0:this.currentDeviceTypes().includes(n.device)}}function ka(e=1500){return Promise.race([fetch("https://discovery.googleapis.com/discovery/v1/apis?name=0").then(()=>!1).catch(()=>!0),new Promise(t=>setTimeout(()=>{t(!0)},e))])}class ya extends Kt{constructor(n){super(n,"region",!1);E(this,"_region");E(this,"_regionWorker");this.ctx=n}start(){return G(this,null,function*(){yield this.init()})}init(){return G(this,null,function*(){if(this._region)return this._region;this._regionWorker||(this._regionWorker=ka());const n=yield this._regionWorker;return this._region=n?"mainland":"oversea",this._region})}regionName(){const n=this._region;if(!n)throw new TypeError("[RegionService] the region has not been initialized");return n}checkRegion(n){return[null,void 0,"","*","all"].includes(n.region)?!0:n.region===this.regionName()}}function Qn(e){let t=typeof e;if(t=="object"){if(Array.isArray(e))return"array";if(e===null)return"null"}return t}function ba(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}let Ce="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),jt=[];for(let e=0;e<Ce.length;e++)jt[Ce[e].charCodeAt(0)]=e;jt[45]=Ce.indexOf("+"),jt[95]=Ce.indexOf("/");function fo(e){let t=e.length*3/4;e[e.length-2]=="="?t-=2:e[e.length-1]=="="&&(t-=1);let n=new Uint8Array(t),s=0,o=0,r,i=0;for(let c=0;c<e.length;c++){if(r=jt[e.charCodeAt(c)],r===void 0)switch(e[c]){case"=":o=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(o){case 0:i=r,o=1;break;case 1:n[s++]=i<<2|(r&48)>>4,i=r,o=2;break;case 2:n[s++]=(i&15)<<4|(r&60)>>2,i=r,o=3;break;case 3:n[s++]=(i&3)<<6|r,o=0;break}}if(o==1)throw Error("invalid base64 string.");return n.subarray(0,s)}function ho(e){let t="",n=0,s,o=0;for(let r=0;r<e.length;r++)switch(s=e[r],n){case 0:t+=Ce[s>>2],o=(s&3)<<4,n=1;break;case 1:t+=Ce[o|s>>4],o=(s&15)<<2,n=2;break;case 2:t+=Ce[o|s>>6],t+=Ce[s&63],n=0;break}return n&&(t+=Ce[o],t+="=",n==1&&(t+="=")),t}var Yt;(function(e){e.symbol=Symbol.for("protobuf-ts/unknown"),e.onRead=(n,s,o,r,i)=>{(t(s)?s[e.symbol]:s[e.symbol]=[]).push({no:o,wireType:r,data:i})},e.onWrite=(n,s,o)=>{for(let{no:r,wireType:i,data:c}of e.list(s))o.tag(r,i).raw(c)},e.list=(n,s)=>{if(t(n)){let o=n[e.symbol];return s?o.filter(r=>r.no==s):o}return[]},e.last=(n,s)=>e.list(n,s).slice(-1)[0];const t=n=>n&&Array.isArray(n[e.symbol])})(Yt||(Yt={}));function Aa(e,t){return Object.assign(Object.assign({},e),t)}var X;(function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"})(X||(X={}));function Ea(){let e=0,t=0;for(let s=0;s<28;s+=7){let o=this.buf[this.pos++];if(e|=(o&127)<<s,!(o&128))return this.assertBounds(),[e,t]}let n=this.buf[this.pos++];if(e|=(n&15)<<28,t=(n&112)>>4,!(n&128))return this.assertBounds(),[e,t];for(let s=3;s<=31;s+=7){let o=this.buf[this.pos++];if(t|=(o&127)<<s,!(o&128))return this.assertBounds(),[e,t]}throw new Error("invalid varint")}function es(e,t,n){for(let r=0;r<28;r=r+7){const i=e>>>r,c=!(!(i>>>7)&&t==0),l=(c?i|128:i)&255;if(n.push(l),!c)return}const s=e>>>28&15|(t&7)<<4,o=!!(t>>3);if(n.push((o?s|128:s)&255),!!o){for(let r=3;r<31;r=r+7){const i=t>>>r,c=!!(i>>>7),l=(c?i|128:i)&255;if(n.push(l),!c)return}n.push(t>>>31&1)}}const zt=65536*65536;function go(e){let t=e[0]=="-";t&&(e=e.slice(1));const n=1e6;let s=0,o=0;function r(i,c){const l=Number(e.slice(i,c));o*=n,s=s*n+l,s>=zt&&(o=o+(s/zt|0),s=s%zt)}return r(-24,-18),r(-18,-12),r(-12,-6),r(-6),[t,s,o]}function ts(e,t){if(t>>>0<=2097151)return""+(zt*t+(e>>>0));let n=e&16777215,s=(e>>>24|t<<8)>>>0&16777215,o=t>>16&65535,r=n+s*6777216+o*6710656,i=s+o*8147497,c=o*2,l=1e7;r>=l&&(i+=Math.floor(r/l),r%=l),i>=l&&(c+=Math.floor(i/l),i%=l);function d(_,k){let m=_?String(_):"";return k?"0000000".slice(m.length)+m:m}return d(c,0)+d(i,c)+d(r,1)}function _o(e,t){if(e>=0){for(;e>127;)t.push(e&127|128),e=e>>>7;t.push(e)}else{for(let n=0;n<9;n++)t.push(e&127|128),e=e>>7;t.push(1)}}function Ia(){let e=this.buf[this.pos++],t=e&127;if(!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<7,!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<14,!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<21,!(e&128))return this.assertBounds(),t;e=this.buf[this.pos++],t|=(e&15)<<28;for(let n=5;e&128&&n<10;n++)e=this.buf[this.pos++];if(e&128)throw new Error("invalid varint");return this.assertBounds(),t>>>0}let H;function va(){const e=new DataView(new ArrayBuffer(8));H=globalThis.BigInt!==void 0&&typeof e.getBigInt64=="function"&&typeof e.getBigUint64=="function"&&typeof e.setBigInt64=="function"&&typeof e.setBigUint64=="function"?{MIN:BigInt("-9223372036854775808"),MAX:BigInt("9223372036854775807"),UMIN:BigInt("0"),UMAX:BigInt("18446744073709551615"),C:BigInt,V:e}:void 0}va();function To(e){if(!e)throw new Error("BigInt unavailable, see https://github.com/timostamm/protobuf-ts/blob/v1.0.8/MANUAL.md#bigint-support")}const wo=/^-?[0-9]+$/,Jt=4294967296,Xt=2147483648;class Ro{constructor(t,n){this.lo=t|0,this.hi=n|0}isZero(){return this.lo==0&&this.hi==0}toNumber(){let t=this.hi*Jt+(this.lo>>>0);if(!Number.isSafeInteger(t))throw new Error("cannot convert to safe number");return t}}class re extends Ro{static from(t){if(H)switch(typeof t){case"string":if(t=="0")return this.ZERO;if(t=="")throw new Error("string is no integer");t=H.C(t);case"number":if(t===0)return this.ZERO;t=H.C(t);case"bigint":if(!t)return this.ZERO;if(t<H.UMIN)throw new Error("signed value for ulong");if(t>H.UMAX)throw new Error("ulong too large");return H.V.setBigUint64(0,t,!0),new re(H.V.getInt32(0,!0),H.V.getInt32(4,!0))}else switch(typeof t){case"string":if(t=="0")return this.ZERO;if(t=t.trim(),!wo.test(t))throw new Error("string is no integer");let[n,s,o]=go(t);if(n)throw new Error("signed value for ulong");return new re(s,o);case"number":if(t==0)return this.ZERO;if(!Number.isSafeInteger(t))throw new Error("number is no integer");if(t<0)throw new Error("signed value for ulong");return new re(t,t/Jt)}throw new Error("unknown value "+typeof t)}toString(){return H?this.toBigInt().toString():ts(this.lo,this.hi)}toBigInt(){return To(H),H.V.setInt32(0,this.lo,!0),H.V.setInt32(4,this.hi,!0),H.V.getBigUint64(0,!0)}}re.ZERO=new re(0,0);class j extends Ro{static from(t){if(H)switch(typeof t){case"string":if(t=="0")return this.ZERO;if(t=="")throw new Error("string is no integer");t=H.C(t);case"number":if(t===0)return this.ZERO;t=H.C(t);case"bigint":if(!t)return this.ZERO;if(t<H.MIN)throw new Error("signed long too small");if(t>H.MAX)throw new Error("signed long too large");return H.V.setBigInt64(0,t,!0),new j(H.V.getInt32(0,!0),H.V.getInt32(4,!0))}else switch(typeof t){case"string":if(t=="0")return this.ZERO;if(t=t.trim(),!wo.test(t))throw new Error("string is no integer");let[n,s,o]=go(t);if(n){if(o>Xt||o==Xt&&s!=0)throw new Error("signed long too small")}else if(o>=Xt)throw new Error("signed long too large");let r=new j(s,o);return n?r.negate():r;case"number":if(t==0)return this.ZERO;if(!Number.isSafeInteger(t))throw new Error("number is no integer");return t>0?new j(t,t/Jt):new j(-t,-t/Jt).negate()}throw new Error("unknown value "+typeof t)}isNegative(){return(this.hi&Xt)!==0}negate(){let t=~this.hi,n=this.lo;return n?n=~n+1:t+=1,new j(n,t)}toString(){if(H)return this.toBigInt().toString();if(this.isNegative()){let t=this.negate();return"-"+ts(t.lo,t.hi)}return ts(this.lo,this.hi)}toBigInt(){return To(H),H.V.setInt32(0,this.lo,!0),H.V.setInt32(4,this.hi,!0),H.V.getBigInt64(0,!0)}}j.ZERO=new j(0,0);const ko={readUnknownField:!0,readerFactory:e=>new Oa(e)};function Na(e){return e?Object.assign(Object.assign({},ko),e):ko}class Oa{constructor(t,n){this.varint64=Ea,this.uint32=Ia,this.buf=t,this.len=t.length,this.pos=0,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength),this.textDecoder=n!=null?n:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0})}tag(){let t=this.uint32(),n=t>>>3,s=t&7;if(n<=0||s<0||s>5)throw new Error("illegal tag: field no "+n+" wire type "+s);return[n,s]}skip(t){let n=this.pos;switch(t){case X.Varint:for(;this.buf[this.pos++]&128;);break;case X.Bit64:this.pos+=4;case X.Bit32:this.pos+=4;break;case X.LengthDelimited:let s=this.uint32();this.pos+=s;break;case X.StartGroup:let o;for(;(o=this.tag()[1])!==X.EndGroup;)this.skip(o);break;default:throw new Error("cant skip wire type "+t)}return this.assertBounds(),this.buf.subarray(n,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let t=this.uint32();return t>>>1^-(t&1)}int64(){return new j(...this.varint64())}uint64(){return new re(...this.varint64())}sint64(){let[t,n]=this.varint64(),s=-(t&1);return t=(t>>>1|(n&1)<<31)^s,n=n>>>1^s,new j(t,n)}bool(){let[t,n]=this.varint64();return t!==0||n!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return new re(this.sfixed32(),this.sfixed32())}sfixed64(){return new j(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let t=this.uint32(),n=this.pos;return this.pos+=t,this.assertBounds(),this.buf.subarray(n,n+t)}string(){return this.textDecoder.decode(this.bytes())}}function L(e,t){if(!e)throw new Error(t)}const Sa=34028234663852886e22,xa=-34028234663852886e22,Ua=4294967295,Ca=2147483647,Pa=-2147483648;function Et(e){if(typeof e!="number")throw new Error("invalid int 32: "+typeof e);if(!Number.isInteger(e)||e>Ca||e<Pa)throw new Error("invalid int 32: "+e)}function Zt(e){if(typeof e!="number")throw new Error("invalid uint 32: "+typeof e);if(!Number.isInteger(e)||e>Ua||e<0)throw new Error("invalid uint 32: "+e)}function ns(e){if(typeof e!="number")throw new Error("invalid float 32: "+typeof e);if(Number.isFinite(e)&&(e>Sa||e<xa))throw new Error("invalid float 32: "+e)}const yo={writeUnknownFields:!0,writerFactory:()=>new La};function Ma(e){return e?Object.assign(Object.assign({},yo),e):yo}class La{constructor(t){this.stack=[],this.textEncoder=t!=null?t:new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let t=0;for(let o=0;o<this.chunks.length;o++)t+=this.chunks[o].length;let n=new Uint8Array(t),s=0;for(let o=0;o<this.chunks.length;o++)n.set(this.chunks[o],s),s+=this.chunks[o].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let t=this.finish(),n=this.stack.pop();if(!n)throw new Error("invalid state, fork stack empty");return this.chunks=n.chunks,this.buf=n.buf,this.uint32(t.byteLength),this.raw(t)}tag(t,n){return this.uint32((t<<3|n)>>>0)}raw(t){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(t),this}uint32(t){for(Zt(t);t>127;)this.buf.push(t&127|128),t=t>>>7;return this.buf.push(t),this}int32(t){return Et(t),_o(t,this.buf),this}bool(t){return this.buf.push(t?1:0),this}bytes(t){return this.uint32(t.byteLength),this.raw(t)}string(t){let n=this.textEncoder.encode(t);return this.uint32(n.byteLength),this.raw(n)}float(t){ns(t);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,t,!0),this.raw(n)}double(t){let n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,t,!0),this.raw(n)}fixed32(t){Zt(t);let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t,!0),this.raw(n)}sfixed32(t){Et(t);let n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,t,!0),this.raw(n)}sint32(t){return Et(t),t=(t<<1^t>>31)>>>0,_o(t,this.buf),this}sfixed64(t){let n=new Uint8Array(8),s=new DataView(n.buffer),o=j.from(t);return s.setInt32(0,o.lo,!0),s.setInt32(4,o.hi,!0),this.raw(n)}fixed64(t){let n=new Uint8Array(8),s=new DataView(n.buffer),o=re.from(t);return s.setInt32(0,o.lo,!0),s.setInt32(4,o.hi,!0),this.raw(n)}int64(t){let n=j.from(t);return es(n.lo,n.hi,this.buf),this}sint64(t){let n=j.from(t),s=n.hi>>31,o=n.lo<<1^s,r=(n.hi<<1|n.lo>>>31)^s;return es(o,r,this.buf),this}uint64(t){let n=re.from(t);return es(n.lo,n.hi,this.buf),this}}const bo={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0},Ao={ignoreUnknownFields:!1};function Ga(e){return e?Object.assign(Object.assign({},Ao),e):Ao}function $a(e){return e?Object.assign(Object.assign({},bo),e):bo}function qa(e,t){var n,s;let o=Object.assign(Object.assign({},e),t);return o.typeRegistry=[...(n=e==null?void 0:e.typeRegistry)!==null&&n!==void 0?n:[],...(s=t==null?void 0:t.typeRegistry)!==null&&s!==void 0?s:[]],o}const Eo=Symbol.for("protobuf-ts/message-type");function ss(e){let t=!1;const n=[];for(let s=0;s<e.length;s++){let o=e.charAt(s);o=="_"?t=!0:/\d/.test(o)?(n.push(o),t=!0):t?(n.push(o.toUpperCase()),t=!1):s==0?n.push(o.toLowerCase()):n.push(o)}return n.join("")}var b;(function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"})(b||(b={}));var ve;(function(e){e[e.BIGINT=0]="BIGINT",e[e.STRING=1]="STRING",e[e.NUMBER=2]="NUMBER"})(ve||(ve={}));var Qt;(function(e){e[e.NO=0]="NO",e[e.PACKED=1]="PACKED",e[e.UNPACKED=2]="UNPACKED"})(Qt||(Qt={}));function Da(e){var t,n,s,o;return e.localName=(t=e.localName)!==null&&t!==void 0?t:ss(e.name),e.jsonName=(n=e.jsonName)!==null&&n!==void 0?n:ss(e.name),e.repeat=(s=e.repeat)!==null&&s!==void 0?s:Qt.NO,e.opt=(o=e.opt)!==null&&o!==void 0?o:e.repeat||e.oneof?!1:e.kind=="message",e}function Wa(e){if(typeof e!="object"||e===null||!e.hasOwnProperty("oneofKind"))return!1;switch(typeof e.oneofKind){case"string":return e[e.oneofKind]===void 0?!1:Object.keys(e).length==2;case"undefined":return Object.keys(e).length==1;default:return!1}}class Ba{constructor(t){var n;this.fields=(n=t.fields)!==null&&n!==void 0?n:[]}prepare(){if(this.data)return;const t=[],n=[],s=[];for(let o of this.fields)if(o.oneof)s.includes(o.oneof)||(s.push(o.oneof),t.push(o.oneof),n.push(o.oneof));else switch(n.push(o.localName),o.kind){case"scalar":case"enum":(!o.opt||o.repeat)&&t.push(o.localName);break;case"message":o.repeat&&t.push(o.localName);break;case"map":t.push(o.localName);break}this.data={req:t,known:n,oneofs:Object.values(s)}}is(t,n,s=!1){if(n<0)return!0;if(t==null||typeof t!="object")return!1;this.prepare();let o=Object.keys(t),r=this.data;if(o.length<r.req.length||r.req.some(i=>!o.includes(i))||!s&&o.some(i=>!r.known.includes(i)))return!1;if(n<1)return!0;for(const i of r.oneofs){const c=t[i];if(!Wa(c))return!1;if(c.oneofKind===void 0)continue;const l=this.fields.find(d=>d.localName===c.oneofKind);if(!l||!this.field(c[c.oneofKind],l,s,n))return!1}for(const i of this.fields)if(i.oneof===void 0&&!this.field(t[i.localName],i,s,n))return!1;return!0}field(t,n,s,o){let r=n.repeat;switch(n.kind){case"scalar":return t===void 0?n.opt:r?this.scalars(t,n.T,o,n.L):this.scalar(t,n.T,n.L);case"enum":return t===void 0?n.opt:r?this.scalars(t,b.INT32,o):this.scalar(t,b.INT32);case"message":return t===void 0?!0:r?this.messages(t,n.T(),s,o):this.message(t,n.T(),s,o);case"map":if(typeof t!="object"||t===null)return!1;if(o<2)return!0;if(!this.mapKeys(t,n.K,o))return!1;switch(n.V.kind){case"scalar":return this.scalars(Object.values(t),n.V.T,o,n.V.L);case"enum":return this.scalars(Object.values(t),b.INT32,o);case"message":return this.messages(Object.values(t),n.V.T(),s,o)}break}return!0}message(t,n,s,o){return s?n.isAssignable(t,o):n.is(t,o)}messages(t,n,s,o){if(!Array.isArray(t))return!1;if(o<2)return!0;if(s){for(let r=0;r<t.length&&r<o;r++)if(!n.isAssignable(t[r],o-1))return!1}else for(let r=0;r<t.length&&r<o;r++)if(!n.is(t[r],o-1))return!1;return!0}scalar(t,n,s){let o=typeof t;switch(n){case b.UINT64:case b.FIXED64:case b.INT64:case b.SFIXED64:case b.SINT64:switch(s){case ve.BIGINT:return o=="bigint";case ve.NUMBER:return o=="number"&&!isNaN(t);default:return o=="string"}case b.BOOL:return o=="boolean";case b.STRING:return o=="string";case b.BYTES:return t instanceof Uint8Array;case b.DOUBLE:case b.FLOAT:return o=="number"&&!isNaN(t);default:return o=="number"&&Number.isInteger(t)}}scalars(t,n,s,o){if(!Array.isArray(t))return!1;if(s<2)return!0;if(Array.isArray(t)){for(let r=0;r<t.length&&r<s;r++)if(!this.scalar(t[r],n,o))return!1}return!0}mapKeys(t,n,s){let o=Object.keys(t);switch(n){case b.INT32:case b.FIXED32:case b.SFIXED32:case b.SINT32:case b.UINT32:return this.scalars(o.slice(0,s).map(r=>parseInt(r)),n,s);case b.BOOL:return this.scalars(o.slice(0,s).map(r=>r=="true"?!0:r=="false"?!1:r),n,s);default:return this.scalars(o,n,s,ve.STRING)}}}function Re(e,t){switch(t){case ve.BIGINT:return e.toBigInt();case ve.NUMBER:return e.toNumber();default:return e.toString()}}class Fa{constructor(t){this.info=t}prepare(){var t;if(this.fMap===void 0){this.fMap={};const n=(t=this.info.fields)!==null&&t!==void 0?t:[];for(const s of n)this.fMap[s.name]=s,this.fMap[s.jsonName]=s,this.fMap[s.localName]=s}}assert(t,n,s){if(!t){let o=Qn(s);throw(o=="number"||o=="boolean")&&(o=s.toString()),new Error(`Cannot parse JSON ${o} for ${this.info.typeName}#${n}`)}}read(t,n,s){this.prepare();const o=[];for(const[r,i]of Object.entries(t)){const c=this.fMap[r];if(!c){if(!s.ignoreUnknownFields)throw new Error(`Found unknown field while reading ${this.info.typeName} from JSON format. JSON key: ${r}`);continue}const l=c.localName;let d;if(c.oneof){if(i===null&&(c.kind!=="enum"||c.T()[0]!=="google.protobuf.NullValue"))continue;if(o.includes(c.oneof))throw new Error(`Multiple members of the oneof group "${c.oneof}" of ${this.info.typeName} are present in JSON.`);o.push(c.oneof),d=n[c.oneof]={oneofKind:l}}else d=n;if(c.kind=="map"){if(i===null)continue;this.assert(ba(i),c.name,i);const _=d[l];for(const[k,m]of Object.entries(i)){this.assert(m!==null,c.name+" map value",null);let g;switch(c.V.kind){case"message":g=c.V.T().internalJsonRead(m,s);break;case"enum":if(g=this.enum(c.V.T(),m,c.name,s.ignoreUnknownFields),g===!1)continue;break;case"scalar":g=this.scalar(m,c.V.T,c.V.L,c.name);break}this.assert(g!==void 0,c.name+" map value",m);let f=k;c.K==b.BOOL&&(f=f=="true"?!0:f=="false"?!1:f),f=this.scalar(f,c.K,ve.STRING,c.name).toString(),_[f]=g}}else if(c.repeat){if(i===null)continue;this.assert(Array.isArray(i),c.name,i);const _=d[l];for(const k of i){this.assert(k!==null,c.name,null);let m;switch(c.kind){case"message":m=c.T().internalJsonRead(k,s);break;case"enum":if(m=this.enum(c.T(),k,c.name,s.ignoreUnknownFields),m===!1)continue;break;case"scalar":m=this.scalar(k,c.T,c.L,c.name);break}this.assert(m!==void 0,c.name,i),_.push(m)}}else switch(c.kind){case"message":if(i===null&&c.T().typeName!="google.protobuf.Value"){this.assert(c.oneof===void 0,c.name+" (oneof member)",null);continue}d[l]=c.T().internalJsonRead(i,s,d[l]);break;case"enum":let _=this.enum(c.T(),i,c.name,s.ignoreUnknownFields);if(_===!1)continue;d[l]=_;break;case"scalar":d[l]=this.scalar(i,c.T,c.L,c.name);break}}}enum(t,n,s,o){if(t[0]=="google.protobuf.NullValue"&&L(n===null||n==="NULL_VALUE",`Unable to parse field ${this.info.typeName}#${s}, enum ${t[0]} only accepts null.`),n===null)return 0;switch(typeof n){case"number":return L(Number.isInteger(n),`Unable to parse field ${this.info.typeName}#${s}, enum can only be integral number, got ${n}.`),n;case"string":let r=n;t[2]&&n.substring(0,t[2].length)===t[2]&&(r=n.substring(t[2].length));let i=t[1][r];return typeof i=="undefined"&&o?!1:(L(typeof i=="number",`Unable to parse field ${this.info.typeName}#${s}, enum ${t[0]} has no value for "${n}".`),i)}L(!1,`Unable to parse field ${this.info.typeName}#${s}, cannot parse enum value from ${typeof n}".`)}scalar(t,n,s,o){let r;try{switch(n){case b.DOUBLE:case b.FLOAT:if(t===null)return 0;if(t==="NaN")return Number.NaN;if(t==="Infinity")return Number.POSITIVE_INFINITY;if(t==="-Infinity")return Number.NEGATIVE_INFINITY;if(t===""){r="empty string";break}if(typeof t=="string"&&t.trim().length!==t.length){r="extra whitespace";break}if(typeof t!="string"&&typeof t!="number")break;let i=Number(t);if(Number.isNaN(i)){r="not a number";break}if(!Number.isFinite(i)){r="too large or small";break}return n==b.FLOAT&&ns(i),i;case b.INT32:case b.FIXED32:case b.SFIXED32:case b.SINT32:case b.UINT32:if(t===null)return 0;let c;if(typeof t=="number"?c=t:t===""?r="empty string":typeof t=="string"&&(t.trim().length!==t.length?r="extra whitespace":c=Number(t)),c===void 0)break;return n==b.UINT32?Zt(c):Et(c),c;case b.INT64:case b.SFIXED64:case b.SINT64:if(t===null)return Re(j.ZERO,s);if(typeof t!="number"&&typeof t!="string")break;return Re(j.from(t),s);case b.FIXED64:case b.UINT64:if(t===null)return Re(re.ZERO,s);if(typeof t!="number"&&typeof t!="string")break;return Re(re.from(t),s);case b.BOOL:if(t===null)return!1;if(typeof t!="boolean")break;return t;case b.STRING:if(t===null)return"";if(typeof t!="string"){r="extra whitespace";break}try{encodeURIComponent(t)}catch(l){l="invalid UTF8";break}return t;case b.BYTES:if(t===null||t==="")return new Uint8Array(0);if(typeof t!="string")break;return fo(t)}}catch(i){r=i.message}this.assert(!1,o+(r?" - "+r:""),t)}}class Ha{constructor(t){var n;this.fields=(n=t.fields)!==null&&n!==void 0?n:[]}write(t,n){const s={},o=t;for(const r of this.fields){if(!r.oneof){let d=this.field(r,o[r.localName],n);d!==void 0&&(s[n.useProtoFieldName?r.name:r.jsonName]=d);continue}const i=o[r.oneof];if(i.oneofKind!==r.localName)continue;const c=r.kind=="scalar"||r.kind=="enum"?Object.assign(Object.assign({},n),{emitDefaultValues:!0}):n;let l=this.field(r,i[r.localName],c);L(l!==void 0),s[n.useProtoFieldName?r.name:r.jsonName]=l}return s}field(t,n,s){let o;if(t.kind=="map"){L(typeof n=="object"&&n!==null);const r={};switch(t.V.kind){case"scalar":for(const[l,d]of Object.entries(n)){const _=this.scalar(t.V.T,d,t.name,!1,!0);L(_!==void 0),r[l.toString()]=_}break;case"message":const i=t.V.T();for(const[l,d]of Object.entries(n)){const _=this.message(i,d,t.name,s);L(_!==void 0),r[l.toString()]=_}break;case"enum":const c=t.V.T();for(const[l,d]of Object.entries(n)){L(d===void 0||typeof d=="number");const _=this.enum(c,d,t.name,!1,!0,s.enumAsInteger);L(_!==void 0),r[l.toString()]=_}break}(s.emitDefaultValues||Object.keys(r).length>0)&&(o=r)}else if(t.repeat){L(Array.isArray(n));const r=[];switch(t.kind){case"scalar":for(let l=0;l<n.length;l++){const d=this.scalar(t.T,n[l],t.name,t.opt,!0);L(d!==void 0),r.push(d)}break;case"enum":const i=t.T();for(let l=0;l<n.length;l++){L(n[l]===void 0||typeof n[l]=="number");const d=this.enum(i,n[l],t.name,t.opt,!0,s.enumAsInteger);L(d!==void 0),r.push(d)}break;case"message":const c=t.T();for(let l=0;l<n.length;l++){const d=this.message(c,n[l],t.name,s);L(d!==void 0),r.push(d)}break}(s.emitDefaultValues||r.length>0||s.emitDefaultValues)&&(o=r)}else switch(t.kind){case"scalar":o=this.scalar(t.T,n,t.name,t.opt,s.emitDefaultValues);break;case"enum":o=this.enum(t.T(),n,t.name,t.opt,s.emitDefaultValues,s.enumAsInteger);break;case"message":o=this.message(t.T(),n,t.name,s);break}return o}enum(t,n,s,o,r,i){if(t[0]=="google.protobuf.NullValue")return!r&&!o?void 0:null;if(n===void 0){L(o);return}if(!(n===0&&!r&&!o))return L(typeof n=="number"),L(Number.isInteger(n)),i||!t[1].hasOwnProperty(n)?n:t[2]?t[2]+t[1][n]:t[1][n]}message(t,n,s,o){return n===void 0?o.emitDefaultValues?null:void 0:t.internalJsonWrite(n,o)}scalar(t,n,s,o,r){if(n===void 0){L(o);return}const i=r||o;switch(t){case b.INT32:case b.SFIXED32:case b.SINT32:return n===0?i?0:void 0:(Et(n),n);case b.FIXED32:case b.UINT32:return n===0?i?0:void 0:(Zt(n),n);case b.FLOAT:ns(n);case b.DOUBLE:return n===0?i?0:void 0:(L(typeof n=="number"),Number.isNaN(n)?"NaN":n===Number.POSITIVE_INFINITY?"Infinity":n===Number.NEGATIVE_INFINITY?"-Infinity":n);case b.STRING:return n===""?i?"":void 0:(L(typeof n=="string"),n);case b.BOOL:return n===!1?i?!1:void 0:(L(typeof n=="boolean"),n);case b.UINT64:case b.FIXED64:L(typeof n=="number"||typeof n=="string"||typeof n=="bigint");let c=re.from(n);return c.isZero()&&!i?void 0:c.toString();case b.INT64:case b.SFIXED64:case b.SINT64:L(typeof n=="number"||typeof n=="string"||typeof n=="bigint");let l=j.from(n);return l.isZero()&&!i?void 0:l.toString();case b.BYTES:return L(n instanceof Uint8Array),n.byteLength?ho(n):i?"":void 0}}}function os(e,t=ve.STRING){switch(e){case b.BOOL:return!1;case b.UINT64:case b.FIXED64:return Re(re.ZERO,t);case b.INT64:case b.SFIXED64:case b.SINT64:return Re(j.ZERO,t);case b.DOUBLE:case b.FLOAT:return 0;case b.BYTES:return new Uint8Array(0);case b.STRING:return"";default:return 0}}class Va{constructor(t){this.info=t}prepare(){var t;if(!this.fieldNoToField){const n=(t=this.info.fields)!==null&&t!==void 0?t:[];this.fieldNoToField=new Map(n.map(s=>[s.no,s]))}}read(t,n,s,o){this.prepare();const r=o===void 0?t.len:t.pos+o;for(;t.pos<r;){const[i,c]=t.tag(),l=this.fieldNoToField.get(i);if(!l){let m=s.readUnknownField;if(m=="throw")throw new Error(`Unknown field ${i} (wire type ${c}) for ${this.info.typeName}`);let g=t.skip(c);m!==!1&&(m===!0?Yt.onRead:m)(this.info.typeName,n,i,c,g);continue}let d=n,_=l.repeat,k=l.localName;switch(l.oneof&&(d=d[l.oneof],d.oneofKind!==k&&(d=n[l.oneof]={oneofKind:k})),l.kind){case"scalar":case"enum":let m=l.kind=="enum"?b.INT32:l.T,g=l.kind=="scalar"?l.L:void 0;if(_){let y=d[k];if(c==X.LengthDelimited&&m!=b.STRING&&m!=b.BYTES){let u=t.uint32()+t.pos;for(;t.pos<u;)y.push(this.scalar(t,m,g))}else y.push(this.scalar(t,m,g))}else d[k]=this.scalar(t,m,g);break;case"message":if(_){let y=d[k],u=l.T().internalBinaryRead(t,t.uint32(),s);y.push(u)}else d[k]=l.T().internalBinaryRead(t,t.uint32(),s,d[k]);break;case"map":let[f,w]=this.mapEntry(l,t,s);d[k][f]=w;break}}}mapEntry(t,n,s){let o=n.uint32(),r=n.pos+o,i,c;for(;n.pos<r;){let[l,d]=n.tag();switch(l){case 1:t.K==b.BOOL?i=n.bool().toString():i=this.scalar(n,t.K,ve.STRING);break;case 2:switch(t.V.kind){case"scalar":c=this.scalar(n,t.V.T,t.V.L);break;case"enum":c=n.int32();break;case"message":c=t.V.T().internalBinaryRead(n,n.uint32(),s);break}break;default:throw new Error(`Unknown field ${l} (wire type ${d}) in map entry for ${this.info.typeName}#${t.name}`)}}if(i===void 0){let l=os(t.K);i=t.K==b.BOOL?l.toString():l}if(c===void 0)switch(t.V.kind){case"scalar":c=os(t.V.T,t.V.L);break;case"enum":c=0;break;case"message":c=t.V.T().create();break}return[i,c]}scalar(t,n,s){switch(n){case b.INT32:return t.int32();case b.STRING:return t.string();case b.BOOL:return t.bool();case b.DOUBLE:return t.double();case b.FLOAT:return t.float();case b.INT64:return Re(t.int64(),s);case b.UINT64:return Re(t.uint64(),s);case b.FIXED64:return Re(t.fixed64(),s);case b.FIXED32:return t.fixed32();case b.BYTES:return t.bytes();case b.UINT32:return t.uint32();case b.SFIXED32:return t.sfixed32();case b.SFIXED64:return Re(t.sfixed64(),s);case b.SINT32:return t.sint32();case b.SINT64:return Re(t.sint64(),s)}}}class Ka{constructor(t){this.info=t}prepare(){if(!this.fields){const t=this.info.fields?this.info.fields.concat():[];this.fields=t.sort((n,s)=>n.no-s.no)}}write(t,n,s){this.prepare();for(const r of this.fields){let i,c,l=r.repeat,d=r.localName;if(r.oneof){const _=t[r.oneof];if(_.oneofKind!==d)continue;i=_[d],c=!0}else i=t[d],c=!1;switch(r.kind){case"scalar":case"enum":let _=r.kind=="enum"?b.INT32:r.T;if(l)if(L(Array.isArray(i)),l==Qt.PACKED)this.packed(n,_,r.no,i);else for(const k of i)this.scalar(n,_,r.no,k,!0);else i===void 0?L(r.opt):this.scalar(n,_,r.no,i,c||r.opt);break;case"message":if(l){L(Array.isArray(i));for(const k of i)this.message(n,s,r.T(),r.no,k)}else this.message(n,s,r.T(),r.no,i);break;case"map":L(typeof i=="object"&&i!==null);for(const[k,m]of Object.entries(i))this.mapEntry(n,s,r,k,m);break}}let o=s.writeUnknownFields;o!==!1&&(o===!0?Yt.onWrite:o)(this.info.typeName,t,n)}mapEntry(t,n,s,o,r){t.tag(s.no,X.LengthDelimited),t.fork();let i=o;switch(s.K){case b.INT32:case b.FIXED32:case b.UINT32:case b.SFIXED32:case b.SINT32:i=Number.parseInt(o);break;case b.BOOL:L(o=="true"||o=="false"),i=o=="true";break}switch(this.scalar(t,s.K,1,i,!0),s.V.kind){case"scalar":this.scalar(t,s.V.T,2,r,!0);break;case"enum":this.scalar(t,b.INT32,2,r,!0);break;case"message":this.message(t,n,s.V.T(),2,r);break}t.join()}message(t,n,s,o,r){r!==void 0&&(s.internalBinaryWrite(r,t.tag(o,X.LengthDelimited).fork(),n),t.join())}scalar(t,n,s,o,r){let[i,c,l]=this.scalarInfo(n,o);(!l||r)&&(t.tag(s,i),t[c](o))}packed(t,n,s,o){if(!o.length)return;L(n!==b.BYTES&&n!==b.STRING),t.tag(s,X.LengthDelimited),t.fork();let[,r]=this.scalarInfo(n);for(let i=0;i<o.length;i++)t[r](o[i]);t.join()}scalarInfo(t,n){let s=X.Varint,o,r=n===void 0,i=n===0;switch(t){case b.INT32:o="int32";break;case b.STRING:i=r||!n.length,s=X.LengthDelimited,o="string";break;case b.BOOL:i=n===!1,o="bool";break;case b.UINT32:o="uint32";break;case b.DOUBLE:s=X.Bit64,o="double";break;case b.FLOAT:s=X.Bit32,o="float";break;case b.INT64:i=r||j.from(n).isZero(),o="int64";break;case b.UINT64:i=r||re.from(n).isZero(),o="uint64";break;case b.FIXED64:i=r||re.from(n).isZero(),s=X.Bit64,o="fixed64";break;case b.BYTES:i=r||!n.byteLength,s=X.LengthDelimited,o="bytes";break;case b.FIXED32:s=X.Bit32,o="fixed32";break;case b.SFIXED32:s=X.Bit32,o="sfixed32";break;case b.SFIXED64:i=r||j.from(n).isZero(),s=X.Bit64,o="sfixed64";break;case b.SINT32:o="sint32";break;case b.SINT64:i=r||j.from(n).isZero(),o="sint64";break}return[s,o,r||i]}}function ja(e){const t=e.messagePrototype?Object.create(e.messagePrototype):Object.defineProperty({},Eo,{value:e});for(let n of e.fields){let s=n.localName;if(!n.opt)if(n.oneof)t[n.oneof]={oneofKind:void 0};else if(n.repeat)t[s]=[];else switch(n.kind){case"scalar":t[s]=os(n.T,n.L);break;case"enum":t[s]=0;break;case"map":t[s]={};break}}return t}function rs(e,t,n){let s,o=n,r;for(let i of e.fields){let c=i.localName;if(i.oneof){const l=o[i.oneof];if((l==null?void 0:l.oneofKind)==null)continue;if(s=l[c],r=t[i.oneof],r.oneofKind=l.oneofKind,s==null){delete r[c];continue}}else if(s=o[c],r=t,s==null)continue;switch(i.repeat&&(r[c].length=s.length),i.kind){case"scalar":case"enum":if(i.repeat)for(let d=0;d<s.length;d++)r[c][d]=s[d];else r[c]=s;break;case"message":let l=i.T();if(i.repeat)for(let d=0;d<s.length;d++)r[c][d]=l.create(s[d]);else r[c]===void 0?r[c]=l.create(s):l.mergePartial(r[c],s);break;case"map":switch(i.V.kind){case"scalar":case"enum":Object.assign(r[c],s);break;case"message":let d=i.V.T();for(let _ of Object.keys(s))r[c][_]=d.create(s[_]);break}break}}}function Ya(e,t,n){if(t===n)return!0;if(!t||!n)return!1;for(let s of e.fields){let o=s.localName,r=s.oneof?t[s.oneof][o]:t[o],i=s.oneof?n[s.oneof][o]:n[o];switch(s.kind){case"enum":case"scalar":let c=s.kind=="enum"?b.INT32:s.T;if(!(s.repeat?vo(c,r,i):Io(c,r,i)))return!1;break;case"map":if(!(s.V.kind=="message"?No(s.V.T(),en(r),en(i)):vo(s.V.kind=="enum"?b.INT32:s.V.T,en(r),en(i))))return!1;break;case"message":let l=s.T();if(!(s.repeat?No(l,r,i):l.equals(r,i)))return!1;break}}return!0}const en=Object.values;function Io(e,t,n){if(t===n)return!0;if(e!==b.BYTES)return!1;let s=t,o=n;if(s.length!==o.length)return!1;for(let r=0;r<s.length;r++)if(s[r]!=o[r])return!1;return!0}function vo(e,t,n){if(t.length!==n.length)return!1;for(let s=0;s<t.length;s++)if(!Io(e,t[s],n[s]))return!1;return!0}function No(e,t,n){if(t.length!==n.length)return!1;for(let s=0;s<t.length;s++)if(!e.equals(t[s],n[s]))return!1;return!0}const za=Object.getOwnPropertyDescriptors(Object.getPrototypeOf({}));class a{constructor(t,n,s){this.defaultCheckDepth=16,this.typeName=t,this.fields=n.map(Da),this.options=s!=null?s:{},this.messagePrototype=Object.create(null,Object.assign(Object.assign({},za),{[Eo]:{value:this}})),this.refTypeCheck=new Ba(this),this.refJsonReader=new Fa(this),this.refJsonWriter=new Ha(this),this.refBinReader=new Va(this),this.refBinWriter=new Ka(this)}create(t){let n=ja(this);return t!==void 0&&rs(this,n,t),n}clone(t){let n=this.create();return rs(this,n,t),n}equals(t,n){return Ya(this,t,n)}is(t,n=this.defaultCheckDepth){return this.refTypeCheck.is(t,n,!1)}isAssignable(t,n=this.defaultCheckDepth){return this.refTypeCheck.is(t,n,!0)}mergePartial(t,n){rs(this,t,n)}fromBinary(t,n){let s=Na(n);return this.internalBinaryRead(s.readerFactory(t),t.byteLength,s)}fromJson(t,n){return this.internalJsonRead(t,Ga(n))}fromJsonString(t,n){let s=JSON.parse(t);return this.fromJson(s,n)}toJson(t,n){return this.internalJsonWrite(t,$a(n))}toJsonString(t,n){var s;let o=this.toJson(t,n);return JSON.stringify(o,null,(s=n==null?void 0:n.prettySpaces)!==null&&s!==void 0?s:0)}toBinary(t,n){let s=Ma(n);return this.internalBinaryWrite(t,s.writerFactory(),s).finish()}internalJsonRead(t,n,s){if(t!==null&&typeof t=="object"&&!Array.isArray(t)){let o=s!=null?s:this.create();return this.refJsonReader.read(t,o,n),o}throw new Error(`Unable to parse message ${this.typeName} from JSON ${Qn(t)}.`)}internalJsonWrite(t,n){return this.refJsonWriter.write(t,n)}internalBinaryWrite(t,n,s){return this.refBinWriter.write(t,n,s),n}internalBinaryRead(t,n,s,o){let r=o!=null?o:this.create();return this.refBinReader.read(t,r,s,n),r}}function Ja(e,t){var n,s,o;let r=e;return r.service=t,r.localName=(n=r.localName)!==null&&n!==void 0?n:ss(r.name),r.serverStreaming=!!r.serverStreaming,r.clientStreaming=!!r.clientStreaming,r.options=(s=r.options)!==null&&s!==void 0?s:{},r.idempotency=(o=r.idempotency)!==null&&o!==void 0?o:void 0,r}class ae{constructor(t,n,s){this.typeName=t,this.methods=n.map(o=>Ja(o,this)),this.options=s!=null?s:{}}}class V extends Error{constructor(t,n="UNKNOWN",s){super(t),this.name="RpcError",Object.setPrototypeOf(this,new.target.prototype),this.code=n,this.meta=s!=null?s:{}}toString(){const t=[this.name+": "+this.message];this.code&&(t.push(""),t.push("Code: "+this.code)),this.serviceName&&this.methodName&&t.push("Method: "+this.serviceName+"/"+this.methodName);let n=Object.entries(this.meta);if(n.length){t.push(""),t.push("Meta:");for(let[s,o]of n)t.push(`  ${s}: ${o}`)}return t.join(`
`)}}function Xa(e,t){if(!t)return e;let n={};tn(e,n),tn(t,n);for(let s of Object.keys(t)){let o=t[s];switch(s){case"jsonOptions":n.jsonOptions=qa(e.jsonOptions,n.jsonOptions);break;case"binaryOptions":n.binaryOptions=Aa(e.binaryOptions,n.binaryOptions);break;case"meta":n.meta={},tn(e.meta,n.meta),tn(t.meta,n.meta);break;case"interceptors":n.interceptors=e.interceptors?e.interceptors.concat(o):o.concat();break}}return n}function tn(e,t){if(!e)return;let n=t;for(let[s,o]of Object.entries(e))o instanceof Date?n[s]=new Date(o.getTime()):Array.isArray(o)?n[s]=o.concat():n[s]=o}var he;(function(e){e[e.PENDING=0]="PENDING",e[e.REJECTED=1]="REJECTED",e[e.RESOLVED=2]="RESOLVED"})(he||(he={}));class Be{constructor(t=!0){this._state=he.PENDING,this._promise=new Promise((n,s)=>{this._resolve=n,this._reject=s}),t&&this._promise.catch(n=>{})}get state(){return this._state}get promise(){return this._promise}resolve(t){if(this.state!==he.PENDING)throw new Error(`cannot resolve ${he[this.state].toLowerCase()}`);this._resolve(t),this._state=he.RESOLVED}reject(t){if(this.state!==he.PENDING)throw new Error(`cannot reject ${he[this.state].toLowerCase()}`);this._reject(t),this._state=he.REJECTED}resolvePending(t){this._state===he.PENDING&&this.resolve(t)}rejectPending(t){this._state===he.PENDING&&this.reject(t)}}class Za{constructor(){this._lis={nxt:[],msg:[],err:[],cmp:[]},this._closed=!1}onNext(t){return this.addLis(t,this._lis.nxt)}onMessage(t){return this.addLis(t,this._lis.msg)}onError(t){return this.addLis(t,this._lis.err)}onComplete(t){return this.addLis(t,this._lis.cmp)}addLis(t,n){return n.push(t),()=>{let s=n.indexOf(t);s>=0&&n.splice(s,1)}}clearLis(){for(let t of Object.values(this._lis))t.splice(0,t.length)}get closed(){return this._closed!==!1}notifyNext(t,n,s){L((t?1:0)+(n?1:0)+(s?1:0)<=1,"only one emission at a time"),t&&this.notifyMessage(t),n&&this.notifyError(n),s&&this.notifyComplete()}notifyMessage(t){L(!this.closed,"stream is closed"),this.pushIt({value:t,done:!1}),this._lis.msg.forEach(n=>n(t)),this._lis.nxt.forEach(n=>n(t,void 0,!1))}notifyError(t){L(!this.closed,"stream is closed"),this._closed=t,this.pushIt(t),this._lis.err.forEach(n=>n(t)),this._lis.nxt.forEach(n=>n(void 0,t,!1)),this.clearLis()}notifyComplete(){L(!this.closed,"stream is closed"),this._closed=!0,this.pushIt({value:null,done:!0}),this._lis.cmp.forEach(t=>t()),this._lis.nxt.forEach(t=>t(void 0,void 0,!0)),this.clearLis()}[Symbol.asyncIterator](){return this._itState||(this._itState={q:[]}),this._closed===!0?this.pushIt({value:null,done:!0}):this._closed!==!1&&this.pushIt(this._closed),{next:()=>{let t=this._itState;L(t,"bad state"),L(!t.p,"iterator contract broken");let n=t.q.shift();return n?"value"in n?Promise.resolve(n):Promise.reject(n):(t.p=new Be,t.p.promise)}}}pushIt(t){let n=this._itState;if(n)if(n.p){const s=n.p;L(s.state==he.PENDING,"iterator contract broken"),"value"in t?s.resolve(t):s.reject(t),delete n.p}else n.q.push(t)}}var Qa=function(e,t,n,s){function o(r){return r instanceof n?r:new n(function(i){i(r)})}return new(n||(n=Promise))(function(r,i){function c(_){try{d(s.next(_))}catch(k){i(k)}}function l(_){try{d(s.throw(_))}catch(k){i(k)}}function d(_){_.done?r(_.value):o(_.value).then(c,l)}d((s=s.apply(e,t||[])).next())})};class ec{constructor(t,n,s,o,r,i,c){this.method=t,this.requestHeaders=n,this.request=s,this.headers=o,this.response=r,this.status=i,this.trailers=c}then(t,n){return this.promiseFinished().then(s=>t?Promise.resolve(t(s)):s,s=>n?Promise.resolve(n(s)):Promise.reject(s))}promiseFinished(){return Qa(this,void 0,void 0,function*(){let[t,n,s,o]=yield Promise.all([this.headers,this.response,this.status,this.trailers]);return{method:this.method,requestHeaders:this.requestHeaders,request:this.request,headers:t,response:n,status:s,trailers:o}})}}var tc=function(e,t,n,s){function o(r){return r instanceof n?r:new n(function(i){i(r)})}return new(n||(n=Promise))(function(r,i){function c(_){try{d(s.next(_))}catch(k){i(k)}}function l(_){try{d(s.throw(_))}catch(k){i(k)}}function d(_){_.done?r(_.value):o(_.value).then(c,l)}d((s=s.apply(e,t||[])).next())})};class nc{constructor(t,n,s,o,r,i,c){this.method=t,this.requestHeaders=n,this.request=s,this.headers=o,this.responses=r,this.status=i,this.trailers=c}then(t,n){return this.promiseFinished().then(s=>t?Promise.resolve(t(s)):s,s=>n?Promise.resolve(n(s)):Promise.reject(s))}promiseFinished(){return tc(this,void 0,void 0,function*(){let[t,n,s]=yield Promise.all([this.headers,this.status,this.trailers]);return{method:this.method,requestHeaders:this.requestHeaders,request:this.request,headers:t,status:n,trailers:s}})}}function ue(e,t,n,s,o){var r;{let i=(c,l,d)=>t.unary(c,l,d);for(const c of((r=s.interceptors)!==null&&r!==void 0?r:[]).filter(l=>l.interceptUnary).reverse()){const l=i;i=(d,_,k)=>c.interceptUnary(l,d,_,k)}return i(n,o,s)}}var v;(function(e){e[e.OK=0]="OK",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS"})(v||(v={}));var sc=function(e,t,n,s){function o(r){return r instanceof n?r:new n(function(i){i(r)})}return new(n||(n=Promise))(function(r,i){function c(_){try{d(s.next(_))}catch(k){i(k)}}function l(_){try{d(s.throw(_))}catch(k){i(k)}}function d(_){_.done?r(_.value):o(_.value).then(c,l)}d((s=s.apply(e,t||[])).next())})};function Oo(e,t,n,s,o){if(s)for(let[r,i]of Object.entries(s))if(typeof i=="string")e.append(r,i);else for(let c of i)e.append(r,c);if(e.set("Content-Type",t==="text"?"application/grpc-web-text":"application/grpc-web+proto"),t=="text"&&e.set("Accept","application/grpc-web-text"),e.set("X-Grpc-Web","1"),typeof n=="number"){if(n<=0)throw new V(`timeout ${n} ms exceeded`,v[v.DEADLINE_EXCEEDED]);e.set("grpc-timeout",`${n}m`)}else if(n){const r=n.getTime(),i=Date.now();if(r<=i)throw new V(`deadline ${n} exceeded`,v[v.DEADLINE_EXCEEDED]);e.set("grpc-timeout",`${r-i}m`)}return e}function So(e,t){let n=new Uint8Array(5+e.length);n[0]=ke.DATA;for(let s=e.length,o=4;o>0;o--)n[o]=s%256,s>>>=8;return n.set(e,5),t==="binary"?n:ho(n)}function is(e,t,n){if(arguments.length===1){let l=e,d;try{d=l.type}catch(_){}switch(d){case"error":case"opaque":case"opaqueredirect":throw new V(`fetch response type ${l.type}`,v[v.UNKNOWN])}return is(ac(l.headers),l.status,l.statusText)}let s=e,o=t>=200&&t<300,r=Mo(s),[i,c]=Po(s);return(i===void 0||i===v.OK)&&!o&&(i=cc(t),c=n),[i,c,r]}function xo(e){let t=ic(e),[n,s]=Po(t),o=Mo(t);return[n!=null?n:v.OK,s,o]}var ke;(function(e){e[e.DATA=0]="DATA",e[e.TRAILER=128]="TRAILER"})(ke||(ke={}));function Uo(e,t,n){return sc(this,void 0,void 0,function*(){let s,o="",r=new Uint8Array(0),i=rc(t);if(oc(e)){let c=e.getReader();s={next:()=>c.read()}}else s=e[Symbol.asyncIterator]();for(;;){let c=yield s.next();if(c.value!==void 0){if(i==="text"){for(let d=0;d<c.value.length;d++)o+=String.fromCharCode(c.value[d]);let l=o.length-o.length%4;if(l===0)continue;r=Co(r,fo(o.substring(0,l))),o=o.substring(l)}else r=Co(r,c.value);for(;r.length>=5&&r[0]===ke.DATA;){let l=0;for(let d=1;d<5;d++)l=(l<<8)+r[d];if(r.length-5>=l)n(ke.DATA,r.subarray(5,5+l)),r=r.subarray(5+l);else break}}if(c.done){if(r.length===0)break;if(r[0]!==ke.TRAILER||r.length<5)throw new V("premature EOF",v[v.DATA_LOSS]);n(ke.TRAILER,r.subarray(5));break}}})}const oc=e=>typeof e.getReader=="function";function Co(e,t){let n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function rc(e){switch(e){case"application/grpc-web-text":case"application/grpc-web-text+proto":return"text";case"application/grpc-web":case"application/grpc-web+proto":return"binary";case void 0:case null:throw new V("missing response content type",v[v.INTERNAL]);default:throw new V("unexpected response content type: "+e,v[v.INTERNAL])}}function Po(e){let t,n,s=e["grpc-message"];if(s!==void 0){if(Array.isArray(s))return[v.INTERNAL,"invalid grpc-web message"];n=s}let o=e["grpc-status"];if(o!==void 0){if(Array.isArray(o))return[v.INTERNAL,"invalid grpc-web status"];if(t=parseInt(o,10),v[t]===void 0)return[v.INTERNAL,"invalid grpc-web status"]}return[t,n]}function Mo(e){let t={};for(let[n,s]of Object.entries(e))switch(n){case"grpc-message":case"grpc-status":case"content-type":break;default:t[n]=s}return t}function ic(e){let t={};for(let n of String.fromCharCode.apply(String,e).trim().split(`\r
`)){if(n=="")continue;let[s,...o]=n.split(":");const r=o.join(":").trim();s=s.trim();let i=t[s];typeof i=="string"?t[s]=[i,r]:Array.isArray(i)?i.push(r):t[s]=r}return t}function ac(e){let t={};return e.forEach((n,s)=>{let o=t[s];typeof o=="string"?t[s]=[o,n]:Array.isArray(o)?o.push(n):t[s]=n}),t}function cc(e){switch(e){case 200:return v.OK;case 400:return v.INVALID_ARGUMENT;case 401:return v.UNAUTHENTICATED;case 403:return v.PERMISSION_DENIED;case 404:return v.NOT_FOUND;case 409:return v.ABORTED;case 412:return v.FAILED_PRECONDITION;case 429:return v.RESOURCE_EXHAUSTED;case 499:return v.CANCELLED;case 500:return v.UNKNOWN;case 501:return v.UNIMPLEMENTED;case 503:return v.UNAVAILABLE;case 504:return v.DEADLINE_EXCEEDED;default:return v.UNKNOWN}}class lc{constructor(t){this.defaultOptions=t}mergeOptions(t){return Xa(this.defaultOptions,t)}makeUrl(t,n){let s=n.baseUrl;return s.endsWith("/")&&(s=s.substring(0,s.length-1)),`${s}/${t.service.typeName}/${t.name}`}clientStreaming(t){const n=new V("Client streaming is not supported by grpc-web",v[v.UNIMPLEMENTED]);throw n.methodName=t.name,n.serviceName=t.service.typeName,n}duplex(t){const n=new V("Duplex streaming is not supported by grpc-web",v[v.UNIMPLEMENTED]);throw n.methodName=t.name,n.serviceName=t.service.typeName,n}serverStreaming(t,n,s){var o,r,i,c;let l=s,d=(o=l.format)!==null&&o!==void 0?o:"text",_=(r=l.fetchInit)!==null&&r!==void 0?r:{},k=this.makeUrl(t,l),m=t.I.toBinary(n,l.binaryOptions),g=new Be,f=new Za,w=!0,y,u=new Be,h,p=new Be;return globalThis.fetch(k,Object.assign(Object.assign({},_),{method:"POST",headers:Oo(new globalThis.Headers,d,l.timeout,l.meta),body:So(m,d),signal:(i=s.abort)!==null&&i!==void 0?i:null})).then(T=>{let[R,A,O]=is(T);if(g.resolve(O),R!=null&&R!==v.OK)throw new V(A!=null?A:v[R],v[R],O);return R!=null&&(y={code:v[R],detail:A!=null?A:v[R]}),T}).then(T=>{if(!T.body)throw new V("missing response body",v[v.INTERNAL]);return Uo(T.body,T.headers.get("content-type"),(R,A)=>{switch(R){case ke.DATA:f.notifyMessage(t.O.fromBinary(A,l.binaryOptions)),w=!1;break;case ke.TRAILER:let O,M;[O,M,h]=xo(A),y={code:v[O],detail:M!=null?M:v[O]};break}})}).then(()=>{if(!h&&!w)throw new V("missing trailers",v[v.DATA_LOSS]);if(!y)throw new V("missing status",v[v.INTERNAL]);if(y.code!=="OK")throw new V(y.detail,y.code,h);f.notifyComplete(),u.resolve(y),p.resolve(h||{})}).catch(T=>{let R;T instanceof V?R=T:T instanceof Error&&T.name==="AbortError"?R=new V(T.message,v[v.CANCELLED]):R=new V(T instanceof Error?T.message:""+T,v[v.INTERNAL]),R.methodName=t.name,R.serviceName=t.service.typeName,g.rejectPending(R),f.notifyError(R),u.rejectPending(R),p.rejectPending(R)}),new nc(t,(c=l.meta)!==null&&c!==void 0?c:{},n,g.promise,f,u.promise,p.promise)}unary(t,n,s){var o,r,i,c;let l=s,d=(o=l.format)!==null&&o!==void 0?o:"text",_=(r=l.fetchInit)!==null&&r!==void 0?r:{},k=this.makeUrl(t,l),m=t.I.toBinary(n,l.binaryOptions),g=new Be,f,w=new Be,y,u=new Be,h,p=new Be;return globalThis.fetch(k,Object.assign(Object.assign({},_),{method:"POST",headers:Oo(new globalThis.Headers,d,l.timeout,l.meta),body:So(m,d),signal:(i=s.abort)!==null&&i!==void 0?i:null})).then(T=>{let[R,A,O]=is(T);if(g.resolve(O),R!=null&&R!==v.OK)throw new V(A!=null?A:v[R],v[R],O);return R!=null&&(y={code:v[R],detail:A!=null?A:v[R]}),T}).then(T=>{if(!T.body)throw new V("missing response body",v[v.INTERNAL]);return Uo(T.body,T.headers.get("content-type"),(R,A)=>{switch(R){case ke.DATA:if(f)throw new V("unary call received 2nd message",v[v.DATA_LOSS]);f=t.O.fromBinary(A,l.binaryOptions);break;case ke.TRAILER:let O,M;[O,M,h]=xo(A),y={code:v[O],detail:M!=null?M:v[O]};break}})}).then(()=>{if(!h&&f)throw new V("missing trailers",v[v.DATA_LOSS]);if(!y)throw new V("missing status",v[v.INTERNAL]);if(!f&&y.code==="OK")throw new V("expected error status",v[v.DATA_LOSS]);if(!f)throw new V(y.detail,y.code,h);if(w.resolve(f),y.code!=="OK")throw new V(y.detail,y.code,h);u.resolve(y),p.resolve(h||{})}).catch(T=>{let R;T instanceof V?R=T:T instanceof Error&&T.name==="AbortError"?R=new V(T.message,v[v.CANCELLED]):R=new V(T instanceof Error?T.message:""+T,v[v.INTERNAL]),R.methodName=t.name,R.serviceName=t.service.typeName,g.rejectPending(R),w.rejectPending(R),u.rejectPending(R),p.rejectPending(R)}),new ec(t,(c=l.meta)!==null&&c!==void 0?c:{},n,g.promise,w.promise,u.promise,p.promise)}}class dc{constructor({maxAge:t,expires:n,path:s,domain:o,secure:r,samesite:i}={}){this.maxAge=t,this.expires=n,this.path=s,this.domain=o,this.secure=r,this.samesite=i}set(t,n,{maxAge:s=this.maxAge,expires:o=this.expires,path:r=this.path,domain:i=this.domain,secure:c=this.secure,samesite:l=this.samesite}={}){let d=encodeURIComponent(t)+"="+encodeURIComponent(n);r&&(d+=";path="+r),i&&(d+=";domain="+i),(s||s===0)&&(d+=";max-age="+s),o&&(o.constructor===Number&&(o=new Date(o)),d+=";expires="+(o instanceof Date?o.toUTCString():o)),c&&(d+=";secure"),l&&(d+=";samesite="+l),document.cookie=d}get(t){const n=document.cookie.match(new RegExp("(?:^\\s*|;\\s*)"+encodeURIComponent(t).replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"\\s*=\\s*([^;]*)"));return n?decodeURIComponent(n[1]):null}remove(t,n={}){n.maxAge=0,this.set(t,"",n)}}const Lo=new dc;let uc="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",mc=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e));for(let s=0;s<e;s++)t+=uc[63&n[s]];return t};var nn;(e=>{const t=["com","edu","gov","net","org"],n="@moegirl/grpc-web:nanoid";function o(c=location){const l=c.hostname,d=l.split(".");if(d.length<3)return`.${l}`;const _=t.includes(d[d.length-2]);return`.${d.slice(_?d.length-3:d.length-2).join(".")}`}function r(){const c=Lo.get(n),l=c&&c.length===21?c:mc(21);return Lo.set(n,l,{samesite:"Lax",domain:o(location),expires:Date.now()+365*24*60*60*1e3,path:"/"}),l}e.getDeviceNanoId=r;function i(c){const l=typeof c=="number"&&c>0?`UID:${c}`:typeof c=="string"&&c.trim().length>0?`User:${encodeURI(c)}`:"__NOUSERNAME__";return`WebApp/gRPC-web ${r()} ${l}`}e.createDeviceId=i})(nn||(nn={}));class pc extends lc{setOptions(t){const n=this.mergeOptions(t);return Reflect.set(this,"defaultOptions",n),this}setMetadata(t,n){return this.setOptions({meta:{[t]:n}})}setAppName(t){return this.setMetadata("SP_THINKING_APP_NAME",t)}setUserName(t){return this.setMetadata("MOBILEDEVICEID",nn.createDeviceId(t))}}function fc(e,t,n){var o;return new pc(Ue(K({baseUrl:e,timeout:1e4,fetchInit:{credentials:"include"}},t),{meta:K({SP_THINKING_APP_NAME:"moegirl-web",MOBILEDEVICEID:nn.createDeviceId(),SP_THINKING_BUNDLE_ID:"WebApp",SP_THINKING_OS:navigator.platform||"",SP_THINKING_SYSTEM_LANGUAGE:navigator.language,SP_THINKING_DEVICE_MODEL:"",SP_THINKING_DEVICE_ID:"",SP_THINKING_CARRIER:"",SP_THINKING_MANUFACTURE:"",SP_THINKING_NETWORK_TYPE:((o=navigator==null?void 0:navigator.connection)==null?void 0:o.type)||"",SP_THINKING_OS_VERSION:"",SP_THINKING_ZONE_OFFSET:""+new Date().getTimezoneOffset(),SP_THINKING_APP_VERSION:""},n)}))}class hc extends a{constructor(){super("google.protobuf.Timestamp",[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}])}now(){const t=this.create(),n=Date.now();return t.seconds=j.from(Math.floor(n/1e3)).toString(),t.nanos=n%1e3*1e6,t}toDate(t){return new Date(j.from(t.seconds).toNumber()*1e3+Math.ceil(t.nanos/1e6))}fromDate(t){const n=this.create(),s=t.getTime();return n.seconds=j.from(Math.floor(s/1e3)).toString(),n.nanos=s%1e3*1e6,n}internalJsonWrite(t,n){let s=j.from(t.seconds).toNumber()*1e3;if(s<Date.parse("0001-01-01T00:00:00Z")||s>Date.parse("9999-12-31T23:59:59Z"))throw new Error("Unable to encode Timestamp to JSON. Must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive.");if(t.nanos<0)throw new Error("Unable to encode invalid Timestamp to JSON. Nanos must not be negative.");let o="Z";if(t.nanos>0){let r=(t.nanos+1e9).toString().substring(1);r.substring(3)==="000000"?o="."+r.substring(0,3)+"Z":r.substring(6)==="000"?o="."+r.substring(0,6)+"Z":o="."+r+"Z"}return new Date(s).toISOString().replace(".000Z",o)}internalJsonRead(t,n,s){if(typeof t!="string")throw new Error("Unable to parse Timestamp from JSON "+Qn(t)+".");let o=t.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!o)throw new Error("Unable to parse Timestamp from JSON. Invalid format.");let r=Date.parse(o[1]+"-"+o[2]+"-"+o[3]+"T"+o[4]+":"+o[5]+":"+o[6]+(o[8]?o[8]:"Z"));if(Number.isNaN(r))throw new Error("Unable to parse Timestamp from JSON. Invalid value.");if(r<Date.parse("0001-01-01T00:00:00Z")||r>Date.parse("9999-12-31T23:59:59Z"))throw new globalThis.Error("Unable to parse Timestamp from JSON. Must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive.");return s||(s=this.create()),s.seconds=j.from(r/1e3).toString(),s.nanos=0,o[7]&&(s.nanos=parseInt("1"+o[7]+"0".repeat(9-o[7].length))-1e9),s}}const ce=new hc;class gc extends a{constructor(){super("moegirl.shared.payment.CommodityBasicInfo",[{no:1,name:"id",kind:"scalar",T:5},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"description",kind:"scalar",T:9},{no:4,name:"price",kind:"scalar",T:5},{no:5,name:"image",kind:"scalar",T:9},{no:6,name:"validity_period",kind:"scalar",T:5},{no:7,name:"discount",kind:"scalar",T:5},{no:8,name:"sale",kind:"scalar",T:5},{no:9,name:"is_available",kind:"scalar",T:8},{no:10,name:"short_description",kind:"scalar",T:9}])}}const _c=new gc;var Go=(e=>(e[e.PAYMENT_METHOD_UNDEFINED=0]="PAYMENT_METHOD_UNDEFINED",e[e.ALIPAY=1]="ALIPAY",e[e.WECHAT_PAY=2]="WECHAT_PAY",e[e.GOOGLE_PLAY=3]="GOOGLE_PLAY",e[e.APPLE_STORE=4]="APPLE_STORE",e))(Go||{}),It=(e=>(e[e.PAYMENT_STATUS_UNDEFINED=0]="PAYMENT_STATUS_UNDEFINED",e[e.JUST_CREATED=1]="JUST_CREATED",e[e.PAYMENT_ABANDONED=2]="PAYMENT_ABANDONED",e[e.PAYMENT_FAILED=3]="PAYMENT_FAILED",e[e.PAYMENT_SUCCESSFUL=4]="PAYMENT_SUCCESSFUL",e[e.REFUND_INITIATED=5]="REFUND_INITIATED",e[e.REFUND_SUCCESSFUL=6]="REFUND_SUCCESSFUL",e[e.REFUND_FAILED=7]="REFUND_FAILED",e))(It||{});class Tc extends a{constructor(){super("moegirl.shared.payment.Payment",[])}}new Tc;class wc extends a{constructor(){super("moegirl.shared.UUID",[{no:1,name:"most_significant_bits",kind:"scalar",T:3},{no:2,name:"least_significant_bits",kind:"scalar",T:3}])}}const as=new wc;class Rc extends a{constructor(){super("google.type.PhoneNumber",[{no:1,name:"e164_number",kind:"scalar",oneof:"kind",T:9},{no:2,name:"short_code",kind:"message",oneof:"kind",T:()=>yc},{no:3,name:"extension",kind:"scalar",T:9}])}}const sn=new Rc;class kc extends a{constructor(){super("google.type.PhoneNumber.ShortCode",[{no:1,name:"region_code",kind:"scalar",T:9},{no:2,name:"number",kind:"scalar",T:9}])}}const yc=new kc;var $o=(e=>(e[e.UNKNOWN=0]="UNKNOWN",e[e.AI=1]="AI",e[e.USER=2]="USER",e))($o||{});class bc extends a{constructor(){super("moegirl.chat.Message",[{no:1,name:"role",kind:"enum",T:()=>["moegirl.chat.Message.Role",$o]},{no:2,name:"message",kind:"scalar",T:9}])}}const Ac=new bc;class Ec extends a{constructor(){super("moegirl.moepad.GetVoteResultsRequest",[{no:1,name:"activity_id",kind:"scalar",T:9},{no:2,name:"vote_name",kind:"scalar",T:9}])}}const Ic=new Ec;class vc extends a{constructor(){super("moegirl.moepad.GetVoteResultsResponse",[{no:1,name:"votes_commodity",kind:"map",K:9,V:{kind:"scalar",T:5}}])}}const Nc=new vc;class Oc extends a{constructor(){super("moegirl.moepad.GetRandomGachaRecordsRequest",[{no:1,name:"size",kind:"scalar",T:5}])}}const Sc=new Oc;class xc extends a{constructor(){super("moegirl.moepad.GachaRecord",[{no:1,name:"user_name",kind:"scalar",T:9},{no:2,name:"prize",kind:"scalar",T:9},{no:3,name:"create_time",kind:"message",T:()=>ce}])}}const qo=new xc;class Uc extends a{constructor(){super("moegirl.moepad.GetRandomGachaRecordsReponse",[{no:1,name:"gacha_records",kind:"message",repeat:1,T:()=>qo}])}}const Cc=new Uc;class Pc extends a{constructor(){super("moegirl.moepad.ActivityGachaRequest",[{no:1,name:"activity_id",kind:"scalar",T:9},{no:2,name:"gacha_id",kind:"scalar",T:9}])}}const Mc=new Pc;class Lc extends a{constructor(){super("moegirl.moepad.ActivityGachaResponse",[{no:1,name:"success",kind:"scalar",T:8},{no:2,name:"prize",kind:"scalar",T:9},{no:3,name:"currency",kind:"scalar",T:5}])}}const Gc=new Lc;class $c extends a{constructor(){super("moegirl.moepad.VoteActivityVoteRequest",[{no:1,name:"activity_id",kind:"scalar",T:9},{no:2,name:"vote_name",kind:"scalar",T:9},{no:3,name:"vote_for",kind:"scalar",T:9}])}}const qc=new $c;class Dc extends a{constructor(){super("moegirl.moepad.VoteActivityVoteResponse",[{no:1,name:"success",kind:"scalar",T:8},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"currency",kind:"scalar",T:5}])}}const Wc=new Dc;class Bc extends a{constructor(){super("moegirl.moepad.GetUserActivityStatsRequest",[{no:1,name:"activity_id",kind:"scalar",T:9}])}}const Fc=new Bc;class Hc extends a{constructor(){super("moegirl.moepad.GetUserActivityStatsResponse",[{no:1,name:"currency",kind:"scalar",T:5},{no:2,name:"quest_records",kind:"scalar",repeat:2,T:9},{no:3,name:"votes_commodity",kind:"map",K:9,V:{kind:"scalar",T:5}},{no:4,name:"prize_records",kind:"message",repeat:1,T:()=>qo}])}}const Vc=new Hc;class Kc extends a{constructor(){super("moegirl.moepad.CompleteActivityQuestRequest",[{no:1,name:"activity_id",kind:"scalar",T:9},{no:2,name:"activity_quest_name",kind:"scalar",T:9}])}}const jc=new Kc;class Yc extends a{constructor(){super("moegirl.moepad.CompleteActivityQuestResponse",[{no:1,name:"success",kind:"scalar",T:8},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"currency",kind:"scalar",T:5}])}}const zc=new Yc;class Jc extends a{constructor(){super("moegirl.moepad.NewActivityRequest",[{no:1,name:"activity_name",kind:"scalar",T:9}])}}const Xc=new Jc;class Zc extends a{constructor(){super("moegirl.moepad.NewActivityResponse",[{no:1,name:"activity_id",kind:"scalar",T:9}])}}const Qc=new Zc;class el extends a{constructor(){super("moegirl.moepad.GetActivityNameRequest",[{no:1,name:"activity_id",kind:"scalar",T:9}])}}const tl=new el;class nl extends a{constructor(){super("moegirl.moepad.GetActivityNameResponse",[{no:1,name:"activity_name",kind:"scalar",T:9}])}}const sl=new nl;class ol extends a{constructor(){super("moegirl.moepad.ReserveActivityRequest",[{no:1,name:"activity_id",kind:"scalar",T:9},{no:2,name:"value",kind:"scalar",T:5}])}}const rl=new ol;class il extends a{constructor(){super("moegirl.moepad.ReserveActivityResponse",[{no:1,name:"reservation_id",kind:"scalar",T:9}])}}const al=new il;class cl extends a{constructor(){super("moegirl.moepad.ReserveActivityWithCheckRequest",[{no:1,name:"activity_id",kind:"scalar",T:9},{no:2,name:"value",kind:"scalar",T:5}])}}const ll=new cl;class dl extends a{constructor(){super("moegirl.moepad.ReserveActivityWithCheckResponse",[{no:1,name:"successful",kind:"scalar",T:8}])}}const ul=new dl;class ml extends a{constructor(){super("moegirl.moepad.GetTotalReservationRequest",[{no:1,name:"activity_id",kind:"scalar",T:9}])}}const pl=new ml;class fl extends a{constructor(){super("moegirl.moepad.GetTotalReservationResponse",[{no:1,name:"total_reservation_number",kind:"scalar",T:5}])}}const hl=new fl;class gl extends a{constructor(){super("moegirl.moepad.QueryUserActivityRequest",[{no:1,name:"activity_id",kind:"scalar",T:9}])}}const _l=new gl;class Tl extends a{constructor(){super("moegirl.moepad.QueryUserActivityResponse",[{no:1,name:"is_participated",kind:"scalar",T:8}])}}const wl=new Tl;new ae("moegirl.moepad.MoepadActivityService",[{name:"NewActivity",options:{},I:Xc,O:Qc},{name:"GetActivityName",options:{},I:tl,O:sl},{name:"ReserveActivity",options:{},I:rl,O:al},{name:"ReserveActivityWithCheck",options:{},I:ll,O:ul},{name:"GetTotalReservation",options:{},I:pl,O:hl},{name:"QueryUserActivity",options:{},I:_l,O:wl},{name:"CompleteActivityQuest",options:{},I:jc,O:zc},{name:"VoteActivityVote",options:{},I:qc,O:Wc},{name:"GetVoteResults",options:{},I:Ic,O:Nc},{name:"ActivityGacha",options:{},I:Mc,O:Gc},{name:"GetUserActivityStats",options:{},I:Fc,O:Vc},{name:"GetRandomGachaRecords",options:{},I:Sc,O:Cc}]);var Do=(e=>(e[e.GENERAL=0]="GENERAL",e[e.NATIONAL_MEMORIAL_DAY=1]="NATIONAL_MEMORIAL_DAY",e[e.NATIONAL_DAY=2]="NATIONAL_DAY",e[e.SPRING_FESTIVAL=3]="SPRING_FESTIVAL",e[e.ANNIVERSARY_CELEBRATION=4]="ANNIVERSARY_CELEBRATION",e))(Do||{}),Wo=(e=>(e[e.WEB=0]="WEB",e[e.AI_DRAW=1]="AI_DRAW",e))(Wo||{}),Bo=(e=>(e[e.UNKNOWN=0]="UNKNOWN",e[e.APPLE=1]="APPLE",e[e.HUAWEI=2]="HUAWEI",e[e.HONOR=3]="HONOR",e[e.OPPO=4]="OPPO",e[e.XIAOMI=5]="XIAOMI",e[e.VIVO=6]="VIVO",e))(Bo||{}),Fo=(e=>(e[e.TITLE=0]="TITLE",e[e.TEXT=1]="TEXT",e[e.NEAR_MATCH=2]="NEAR_MATCH",e))(Fo||{}),Ho=(e=>(e[e.NONE=0]="NONE",e[e.IMAGE=1]="IMAGE",e[e.VIDEO=2]="VIDEO",e[e.GIF=3]="GIF",e))(Ho||{}),cs=(e=>(e[e.UNKNOW=0]="UNKNOW",e[e.RECOMMEND=1]="RECOMMEND",e[e.NEW_ANIMATION=2]="NEW_ANIMATION",e[e.LATES_PAGE=3]="LATES_PAGE",e[e.THEMATIC_NAVIGATION=4]="THEMATIC_NAVIGATION",e[e.VIRTUAL_UP=5]="VIRTUAL_UP",e[e.ACGN=6]="ACGN",e[e.MUSIC_ZONE=7]="MUSIC_ZONE",e[e.MEME=8]="MEME",e[e.SURROUNDING=9]="SURROUNDING",e[e.OTHER=10]="OTHER",e))(cs||{}),vt=(e=>(e[e.UNKNOWN=0]="UNKNOWN",e[e.WECHAT=1]="WECHAT",e[e.QQ=2]="QQ",e[e.WEIBO=3]="WEIBO",e[e.APPLE=4]="APPLE",e))(vt||{}),Vo=(e=>(e[e.NONE_TYPE=0]="NONE_TYPE",e[e.LOG_TYPE=1]="LOG_TYPE",e[e.THINKING_TYPE=2]="THINKING_TYPE",e))(Vo||{});class Rl extends a{constructor(){super("moegirl.moepad.PushInfo",[{no:1,name:"device_token",kind:"scalar",T:9},{no:2,name:"push_channel",kind:"enum",T:()=>["moegirl.moepad.PushInfo.PushChannel",Bo]}])}}const Ko=new Rl;class kl extends a{constructor(){super("moegirl.moepad.PushNotificationInfo",[{no:1,name:"apple_device_token",kind:"scalar",T:9},{no:2,name:"huawei_device_token",kind:"scalar",T:9},{no:3,name:"xiaomi_device_token",kind:"scalar",T:9},{no:4,name:"oppo_device_token",kind:"scalar",T:9},{no:5,name:"vivo_device_token",kind:"scalar",T:9},{no:6,name:"push_info",kind:"message",T:()=>Ko}])}}const tt=new kl;class yl extends a{constructor(){super("moegirl.moepad.GetHomePageFeedDataRequest",[{no:1,name:"page_start",kind:"scalar",T:5}])}}const bl=new yl;class Al extends a{constructor(){super("moegirl.moepad.GetHomePageFeedDataResponse",[{no:1,name:"pages",kind:"message",repeat:1,T:()=>Fe},{no:2,name:"next_page_start",kind:"scalar",T:5}])}}const El=new Al;class Il extends a{constructor(){super("moegirl.moepad.GetHomePageFeedMetadataRequest",[])}}const vl=new Il;class Nl extends a{constructor(){super("moegirl.moepad.GetHomePageFeedMetadataResponse",[{no:1,name:"home_latest_title_response",kind:"message",T:()=>jo},{no:2,name:"get_feed_ad_probability_response",kind:"message",T:()=>Jo},{no:3,name:"home_recommend_pages_response",kind:"message",T:()=>Yo}])}}const Ol=new Nl;class Sl extends a{constructor(){super("moegirl.moepad.CheckCodeAndChangePasswordRequest",[{no:1,name:"new_password",kind:"scalar",T:9},{no:2,name:"verification_code",kind:"scalar",T:9}])}}const xl=new Sl;class Ul extends a{constructor(){super("moegirl.moepad.CheckCodeAndChangePasswordResponse",[])}}const Cl=new Ul;class Pl extends a{constructor(){super("moegirl.moepad.CheckCodeAndResetPasswordRequest",[{no:1,name:"new_password",kind:"scalar",T:9},{no:2,name:"verification_code",kind:"scalar",T:9},{no:3,name:"user_id",kind:"scalar",T:5}])}}const Ml=new Pl;class Ll extends a{constructor(){super("moegirl.moepad.CheckCodeAndResetPasswordResponse",[])}}const Gl=new Ll;class $l extends a{constructor(){super("moegirl.moepad.RandomPagesRequest",[{no:1,name:"batch_size",kind:"scalar",T:3}])}}const ql=new $l;class Dl extends a{constructor(){super("moegirl.moepad.RandomPagesResponse",[{no:1,name:"page",kind:"message",T:()=>Fe}])}}const Wl=new Dl;class Bl extends a{constructor(){super("moegirl.moepad.PageEntry",[{no:1,name:"entry_id",kind:"scalar",T:3},{no:2,name:"entry_img_url",kind:"scalar",T:9},{no:3,name:"entry_title",kind:"scalar",T:9},{no:4,name:"entry_introduction",kind:"scalar",T:9},{no:5,name:"categories",kind:"scalar",repeat:2,T:9},{no:6,name:"entry_url",kind:"scalar",T:9},{no:7,name:"entry_img_width",kind:"scalar",T:5},{no:8,name:"entry_img_height",kind:"scalar",T:5}])}}const Fe=new Bl;class Fl extends a{constructor(){super("moegirl.moepad.HomePageSort",[{no:1,name:"sort_title",kind:"scalar",T:9},{no:2,name:"type",kind:"enum",T:()=>["moegirl.moepad.SortType",cs]}])}}const Hl=new Fl;class Vl extends a{constructor(){super("moegirl.moepad.LoginRequest",[{no:1,name:"username",kind:"scalar",T:9},{no:2,name:"password",kind:"scalar",T:9},{no:3,name:"remember_me",kind:"scalar",T:8},{no:4,name:"push_notification_info",kind:"message",T:()=>tt}])}}const Kl=new Vl;class jl extends a{constructor(){super("moegirl.moepad.LoginResponse",[{no:1,name:"tokens",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:2,name:"expires",kind:"message",T:()=>ce}])}}const Nt=new jl;class Yl extends a{constructor(){super("moegirl.moepad.LogoutRequest",[{no:1,name:"push_notification_info",kind:"message",T:()=>tt}])}}const zl=new Yl;class Jl extends a{constructor(){super("moegirl.moepad.LogoutResponse",[])}}const Xl=new Jl;class Zl extends a{constructor(){super("moegirl.moepad.PhoneNumberVerification",[{no:1,name:"phone_number",kind:"message",T:()=>sn},{no:2,name:"verification_code",kind:"scalar",T:9}])}}const nt=new Zl;class Ql extends a{constructor(){super("moegirl.moepad.SendPhoneVerificationCodeRequest",[{no:1,name:"phone_number",kind:"message",oneof:"sendWay",T:()=>sn},{no:2,name:"user_id",kind:"scalar",oneof:"sendWay",T:3}])}}const ed=new Ql;class td extends a{constructor(){super("moegirl.moepad.SendPhoneVerificationCodeResponse",[])}}const nd=new td;class sd extends a{constructor(){super("moegirl.moepad.SetPhoneNumberRequest",[{no:1,name:"phone_number_verification",kind:"message",T:()=>nt}])}}const od=new sd;class rd extends a{constructor(){super("moegirl.moepad.SetPhoneNumberResponse",[])}}const id=new rd;class ad extends a{constructor(){super("moegirl.moepad.UserPhoneNumberRegisterRequest",[{no:1,name:"phone_number_verification",kind:"message",T:()=>nt},{no:2,name:"username",kind:"scalar",T:9},{no:3,name:"ticket",kind:"scalar",T:9},{no:4,name:"rand_str",kind:"scalar",T:9},{no:5,name:"file",kind:"message",T:()=>on},{no:6,name:"push_notification_info",kind:"message",T:()=>tt}])}}const cd=new ad;class ld extends a{constructor(){super("moegirl.moepad.UserPhoneNumberRegisterResponse",[{no:1,name:"login_info",kind:"message",T:()=>Nt}])}}const dd=new ld;class ud extends a{constructor(){super("moegirl.moepad.UserThirdTokenHandleRequest",[{no:1,name:"third_type",kind:"enum",T:()=>["moegirl.moepad.ThirdParty",vt]},{no:2,name:"access_token",kind:"scalar",T:9},{no:3,name:"user_id",kind:"scalar",T:5}])}}const md=new ud;class pd extends a{constructor(){super("moegirl.moepad.UserThirdTokenHandleResponse",[])}}const fd=new pd;class hd extends a{constructor(){super("moegirl.moepad.UserThirdPartyRegisterRequest",[{no:1,name:"third_type",kind:"enum",T:()=>["moegirl.moepad.ThirdParty",vt]},{no:2,name:"access_token",kind:"scalar",T:9},{no:3,name:"username",kind:"scalar",T:9},{no:4,name:"ticket",kind:"scalar",T:9},{no:5,name:"rand_str",kind:"scalar",T:9},{no:6,name:"file",kind:"message",T:()=>on},{no:7,name:"push_notification_info",kind:"message",T:()=>tt}])}}const gd=new hd;class _d extends a{constructor(){super("moegirl.moepad.UserThirdPartyRegisterResponse",[{no:1,name:"login_info",kind:"message",T:()=>Nt}])}}const Td=new _d;class wd extends a{constructor(){super("moegirl.moepad.UserPhoneNumberLoginRequest",[{no:1,name:"phone_number_verification",kind:"message",T:()=>nt},{no:3,name:"remember_me",kind:"scalar",T:8},{no:4,name:"push_notification_info",kind:"message",T:()=>tt}])}}const Rd=new wd;class kd extends a{constructor(){super("moegirl.moepad.UserPhoneNumberLoginResponse",[{no:1,name:"login_info",kind:"message",T:()=>Nt}])}}const yd=new kd;class bd extends a{constructor(){super("moegirl.moepad.UserThirdPartyLoginRequest",[{no:1,name:"third_type",kind:"enum",T:()=>["moegirl.moepad.ThirdParty",vt]},{no:2,name:"access_token",kind:"scalar",T:9},{no:3,name:"push_notification_info",kind:"message",T:()=>tt}])}}const Ad=new bd;class Ed extends a{constructor(){super("moegirl.moepad.UserThirdPartyLoginResponse",[{no:1,name:"login_info",kind:"message",T:()=>Nt}])}}const Id=new Ed;class vd extends a{constructor(){super("moegirl.moepad.GetThirdPartyRequest",[{no:1,name:"third_type",kind:"enum",T:()=>["moegirl.moepad.ThirdParty",vt]},{no:2,name:"access_token",kind:"scalar",T:9}])}}const Nd=new vd;class Od extends a{constructor(){super("moegirl.moepad.GetThirdPartyResponse",[])}}const Sd=new Od;class xd extends a{constructor(){super("moegirl.moepad.HomePageSortRequest",[{no:1,name:"batch_size",kind:"scalar",T:3}])}}const Ud=new xd;class Cd extends a{constructor(){super("moegirl.moepad.HomePageSortResponse",[{no:1,name:"homepage_sort",kind:"message",repeat:1,T:()=>Hl}])}}const Pd=new Cd;class Md extends a{constructor(){super("moegirl.moepad.HomePageGetResListRequest",[{no:1,name:"sort_id",kind:"enum",T:()=>["moegirl.moepad.SortType",cs]},{no:2,name:"page_num",kind:"scalar",T:5},{no:3,name:"page_size",kind:"scalar",T:5}])}}const Ld=new Md;class Gd extends a{constructor(){super("moegirl.moepad.HomePageGetResListResponse",[{no:1,name:"pages",kind:"message",repeat:1,T:()=>Fe},{no:2,name:"total_size",kind:"scalar",T:5}])}}const $d=new Gd;class qd extends a{constructor(){super("moegirl.moepad.HomeRecommendTitleRequest",[])}}const Dd=new qd;class Wd extends a{constructor(){super("moegirl.moepad.HomeLatestTitleRequest",[{no:1,name:"page_start",kind:"scalar",T:5}])}}const Bd=new Wd;class Fd extends a{constructor(){super("moegirl.moepad.HomeRecommendTitleResponse",[{no:1,name:"titles",kind:"scalar",repeat:2,T:9}])}}const Hd=new Fd;class Vd extends a{constructor(){super("moegirl.moepad.HomeLatestTitleResponse",[{no:1,name:"titles",kind:"scalar",repeat:2,T:9},{no:2,name:"next_page_start",kind:"scalar",T:5}])}}const jo=new Vd;class Kd extends a{constructor(){super("moegirl.moepad.HomeRecommendPagesRequest",[{no:1,name:"titles",kind:"scalar",repeat:2,T:9}])}}const jd=new Kd;class Yd extends a{constructor(){super("moegirl.moepad.HomeRecommendPagesResponse",[{no:1,name:"pages",kind:"message",repeat:1,T:()=>Fe}])}}const Yo=new Yd;class zd extends a{constructor(){super("moegirl.moepad.HomeRecommendPagesVersionRequest",[])}}const Jd=new zd;class Xd extends a{constructor(){super("moegirl.moepad.HomeRecommendPagesVersionResponse",[{no:1,name:"version",kind:"scalar",T:5}])}}const Zd=new Xd;class Qd extends a{constructor(){super("moegirl.moepad.DiscussionBoardRequest",[])}}const eu=new Qd;class tu extends a{constructor(){super("moegirl.moepad.DiscussionBoardResponse",[{no:1,name:"url",kind:"scalar",T:9}])}}const nu=new tu;class su extends a{constructor(){super("moegirl.moepad.EntryStatisticsRequest",[{no:2,name:"entry_id",kind:"scalar",T:9},{no:3,name:"user_id",kind:"scalar",T:9}])}}const ou=new su;class ru extends a{constructor(){super("moegirl.moepad.EntryStatisticsResponse",[])}}const iu=new ru;class au extends a{constructor(){super("moegirl.moepad.SearchEntryRequest",[{no:1,name:"search_text",kind:"scalar",T:9},{no:2,name:"search_offset",kind:"scalar",T:5},{no:3,name:"page_size",kind:"scalar",T:5},{no:4,name:"search_type",kind:"enum",T:()=>["moegirl.moepad.SearchEntryRequest.SearchType",Fo]}])}}const cu=new au;class lu extends a{constructor(){super("moegirl.moepad.SearchEntryResponse",[{no:1,name:"page",kind:"message",repeat:1,T:()=>Fe},{no:2,name:"total_size",kind:"scalar",T:5}])}}const du=new lu;class uu extends a{constructor(){super("moegirl.moepad.GetUserinfoRequest",[])}}const mu=new uu;class pu extends a{constructor(){super("moegirl.moepad.GetUserinfoResponse",[{no:1,name:"user_id",kind:"scalar",T:3},{no:2,name:"username",kind:"scalar",T:9},{no:3,name:"groups",kind:"scalar",repeat:2,T:9},{no:4,name:"avatar",kind:"scalar",T:9},{no:5,name:"phone_number",kind:"message",T:()=>sn},{no:6,name:"email",kind:"scalar",T:9},{no:7,name:"qq_name",kind:"scalar",T:9},{no:8,name:"wechat_name",kind:"scalar",T:9},{no:9,name:"weibo_name",kind:"scalar",T:9},{no:10,name:"create_time",kind:"scalar",T:9},{no:11,name:"edit_count",kind:"scalar",T:5},{no:12,name:"contribution_count",kind:"scalar",T:5},{no:13,name:"apple_name",kind:"scalar",T:9}])}}const ls=new pu;class fu extends a{constructor(){super("moegirl.moepad.PageInfoRequest",[{no:1,name:"entry_title",kind:"scalar",T:9},{no:2,name:"page_titles",kind:"scalar",repeat:2,T:9}])}}const hu=new fu;class gu extends a{constructor(){super("moegirl.moepad.PageInfoResponse",[{no:1,name:"page",kind:"message",T:()=>Fe},{no:2,name:"pages",kind:"message",repeat:1,T:()=>Fe}])}}const _u=new gu;class Tu extends a{constructor(){super("moegirl.moepad.FeedbackRequest",[{no:1,name:"report_id",kind:"scalar",T:5},{no:2,name:"report_title",kind:"scalar",T:9},{no:3,name:"report_subtitle",kind:"scalar",T:9},{no:4,name:"report_url",kind:"scalar",T:9},{no:5,name:"report_origin",kind:"scalar",T:9},{no:6,name:"report_username",kind:"scalar",T:9},{no:7,name:"report_user_id",kind:"scalar",T:9},{no:8,name:"report_comment",kind:"scalar",T:9},{no:9,name:"report_contact",kind:"scalar",T:9},{no:10,name:"report_time",kind:"message",T:()=>ce},{no:11,name:"file",kind:"message",repeat:1,T:()=>on}])}}const wu=new Tu;class Ru extends a{constructor(){super("moegirl.moepad.BaseFile",[{no:1,name:"filename",kind:"scalar",T:9},{no:3,name:"data",kind:"scalar",T:12}])}}const on=new Ru;class ku extends a{constructor(){super("moegirl.moepad.FeedbackResponse",[{no:1,name:"result",kind:"scalar",T:9}])}}const yu=new ku;class bu extends a{constructor(){super("moegirl.moepad.RegisterAccountRequest",[{no:1,name:"username",kind:"scalar",T:9},{no:2,name:"password",kind:"scalar",T:9},{no:3,name:"email",kind:"scalar",T:9},{no:4,name:"ticket",kind:"scalar",T:9},{no:5,name:"rand_str",kind:"scalar",T:9}])}}const Au=new bu;class Eu extends a{constructor(){super("moegirl.moepad.RegisterAccountResponse",[{no:1,name:"success_message",kind:"scalar",T:9}])}}const Iu=new Eu;class vu extends a{constructor(){super("moegirl.moepad.CheckUpdateRequest",[{no:1,name:"is_new_download",kind:"scalar",T:8}])}}const Nu=new vu;class Ou extends a{constructor(){super("moegirl.moepad.CheckUpdateResponse",[{no:1,name:"android_version",kind:"message",T:()=>xu},{no:2,name:"ios_version",kind:"message",T:()=>Cu},{no:3,name:"message",kind:"scalar",T:9}])}}const ds=new Ou;class Su extends a{constructor(){super("moegirl.moepad.CheckUpdateResponse.AndroidVersion",[{no:1,name:"latest_android_version_code",kind:"scalar",T:5},{no:2,name:"latest_android_version_name",kind:"scalar",T:9},{no:3,name:"apk_url",kind:"scalar",T:9},{no:4,name:"is_force",kind:"scalar",T:8},{no:5,name:"latest_google_version_code",kind:"scalar",T:9},{no:6,name:"latest_google_version_name",kind:"scalar",T:9},{no:7,name:"latest_android_version_code_v2",kind:"scalar",T:9},{no:8,name:"latest_android_version_name_v2",kind:"scalar",T:9}])}}const xu=new Su;class Uu extends a{constructor(){super("moegirl.moepad.CheckUpdateResponse.IOSVersion",[{no:2,name:"latest_ios_version",kind:"scalar",T:9}])}}const Cu=new Uu;class Pu extends a{constructor(){super("moegirl.moepad.FavoritePageRequest",[{no:1,name:"title",kind:"scalar",repeat:2,T:9},{no:2,name:"is_favorite",kind:"scalar",T:8}])}}const Mu=new Pu;class Lu extends a{constructor(){super("moegirl.moepad.FavoritePageResponse",[])}}const Gu=new Lu;class $u extends a{constructor(){super("moegirl.moepad.CheckFavouriteRequest",[{no:1,name:"titles",kind:"scalar",repeat:2,T:9}])}}const qu=new $u;class Du extends a{constructor(){super("moegirl.moepad.CheckFavouriteResponse",[{no:1,name:"favourites",kind:"message",repeat:1,T:()=>Fu}])}}const Wu=new Du;class Bu extends a{constructor(){super("moegirl.moepad.CheckFavouriteResponse.Favourite",[{no:1,name:"titles",kind:"scalar",T:9},{no:2,name:"is_favourite",kind:"scalar",T:8}])}}const Fu=new Bu;class Hu extends a{constructor(){super("moegirl.moepad.GetFavouriteListRequest",[])}}const Vu=new Hu;class Ku extends a{constructor(){super("moegirl.moepad.GetFavouriteListResponse",[{no:1,name:"favorite_list",kind:"scalar",repeat:2,T:9}])}}const ju=new Ku;class Yu extends a{constructor(){super("moegirl.moepad.GetRecentChangesForFavouriteRequest",[{no:1,name:"include_minor",kind:"scalar",T:8},{no:2,name:"include_robot",kind:"scalar",T:8},{no:3,name:"include_mine",kind:"scalar",T:8}])}}const zu=new Yu;class Ju extends a{constructor(){super("moegirl.moepad.GetRecentChangesForFavouriteResponse",[{no:1,name:"page_recent_info_by_day",kind:"message",repeat:1,T:()=>om}])}}const Xu=new Ju;class Zu extends a{constructor(){super("moegirl.moepad.GetRecentChangesForFavouriteResponse.RecentChangesInfo",[{no:1,name:"comment",kind:"scalar",T:9},{no:2,name:"minor",kind:"scalar",T:8},{no:3,name:"new_len",kind:"scalar",T:5},{no:4,name:"ns",kind:"scalar",T:5},{no:5,name:"old_rev_id",kind:"scalar",T:5},{no:6,name:"old_len",kind:"scalar",T:5},{no:7,name:"page_id",kind:"scalar",T:5},{no:8,name:"rev_id",kind:"scalar",T:5},{no:9,name:"timestamp",kind:"message",T:()=>ce},{no:10,name:"title",kind:"scalar",T:9},{no:11,name:"type",kind:"scalar",T:9},{no:12,name:"user",kind:"scalar",T:9},{no:13,name:"user_avatar",kind:"scalar",T:9},{no:14,name:"page_url",kind:"scalar",T:9}])}}const zo=new Zu;class Qu extends a{constructor(){super("moegirl.moepad.GetRecentChangesForFavouriteResponse.EditUserOfChangesInfo",[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"avatar",kind:"scalar",T:9}])}}const em=new Qu;class tm extends a{constructor(){super("moegirl.moepad.GetRecentChangesForFavouriteResponse.PageRecentInfos",[{no:1,name:"recent_changes_info",kind:"message",T:()=>zo},{no:2,name:"change_detail",kind:"message",repeat:1,T:()=>zo},{no:3,name:"edit_user_infos",kind:"message",repeat:1,T:()=>em}])}}const nm=new tm;class sm extends a{constructor(){super("moegirl.moepad.GetRecentChangesForFavouriteResponse.PageRecentInfoByDay",[{no:1,name:"page_recent_info",kind:"message",repeat:1,T:()=>nm}])}}const om=new sm;class rm extends a{constructor(){super("moegirl.moepad.TelemetryParam",[{no:1,name:"param",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:2,name:"event_name",kind:"scalar",T:9},{no:3,name:"type",kind:"enum",T:()=>["moegirl.moepad.TelemetryType",Vo]},{no:4,name:"event_tag",kind:"scalar",T:5}])}}const im=new rm;class am extends a{constructor(){super("moegirl.moepad.TelemetryRequest",[{no:1,name:"telemetry_param",kind:"message",repeat:1,T:()=>im}])}}const cm=new am;class lm extends a{constructor(){super("moegirl.moepad.TelemetryResponse",[])}}const dm=new lm;class um extends a{constructor(){super("moegirl.moepad.GetFeedAdProbabilityRequest",[])}}const mm=new um;class pm extends a{constructor(){super("moegirl.moepad.GetFeedAdProbabilityResponse",[{no:1,name:"show",kind:"scalar",T:8}])}}const Jo=new pm;class fm extends a{constructor(){super("moegirl.moepad.GetLaunchAdPageRequest",[])}}const hm=new fm;class gm extends a{constructor(){super("moegirl.moepad.GetLaunchAdPageResponse",[{no:1,name:"download_url",kind:"scalar",T:9},{no:2,name:"file_type",kind:"enum",T:()=>["moegirl.moepad.GetLaunchAdPageResponse.LaunchAdFileType",Ho]},{no:3,name:"redirect_url",kind:"scalar",T:9},{no:4,name:"schema",kind:"scalar",T:9},{no:5,name:"is_third_party_ads",kind:"scalar",T:8}])}}const Xo=new gm;class _m extends a{constructor(){super("moegirl.moepad.UserUploadAvatarRequest",[{no:1,name:"file",kind:"message",T:()=>on}])}}const Tm=new _m;class wm extends a{constructor(){super("moegirl.moepad.UserUploadAvatarResponse",[])}}const Rm=new wm;class km extends a{constructor(){super("moegirl.moepad.UserVerifyPhoneNumberRequest",[{no:1,name:"phone_number_verification",kind:"message",oneof:"sendWay",T:()=>nt},{no:2,name:"user_id_way",kind:"message",oneof:"sendWay",T:()=>Am}])}}const ym=new km;class bm extends a{constructor(){super("moegirl.moepad.UserVerifyPhoneNumberRequest.PhoneNumberVerificationWithUserId",[{no:1,name:"user_id",kind:"scalar",T:3},{no:2,name:"verification_code",kind:"scalar",T:9}])}}const Am=new bm;class Em extends a{constructor(){super("moegirl.moepad.UserVerifyPhoneNumberResponse",[])}}const Im=new Em;class vm extends a{constructor(){super("moegirl.moepad.GetPhoneNumberRequest",[{no:1,name:"phone_number",kind:"message",T:()=>sn}])}}const Nm=new vm;class Om extends a{constructor(){super("moegirl.moepad.GetPhoneNumberResponse",[])}}const Sm=new Om;class xm extends a{constructor(){super("moegirl.moepad.ValidateUserNameRequest",[{no:1,name:"user_name",kind:"scalar",T:9}])}}const Um=new xm;class Cm extends a{constructor(){super("moegirl.moepad.ValidateUserNameResponse",[])}}const Pm=new Cm;class Mm extends a{constructor(){super("moegirl.moepad.ResetPasswordCheckUserRequest",[{no:1,name:"user_name",kind:"scalar",oneof:"userNameOneof",T:9},{no:2,name:"phone_number_verification",kind:"message",oneof:"userNameOneof",T:()=>nt}])}}const Lm=new Mm;class Gm extends a{constructor(){super("moegirl.moepad.ResetPasswordCheckUserResponse",[{no:1,name:"user_infos",kind:"message",repeat:1,T:()=>ls}])}}const $m=new Gm;class qm extends a{constructor(){super("moegirl.moepad.ResetPasswordRequest",[{no:1,name:"user_name",kind:"scalar",oneof:"userNameOneof",T:9},{no:2,name:"authenticated_user",kind:"message",oneof:"userNameOneof",T:()=>Bm}])}}const Dm=new qm;class Wm extends a{constructor(){super("moegirl.moepad.ResetPasswordRequest.AuthenticatedUser",[{no:1,name:"phone_number_verification",kind:"message",T:()=>nt},{no:2,name:"user_id",kind:"scalar",T:5},{no:3,name:"new_password",kind:"scalar",T:9}])}}const Bm=new Wm;class Fm extends a{constructor(){super("moegirl.moepad.ResetPasswordResponse",[])}}const Hm=new Fm;class Vm extends a{constructor(){super("moegirl.moepad.ChangePasswordRequest",[{no:1,name:"new_password",kind:"scalar",T:9}])}}const Km=new Vm;class jm extends a{constructor(){super("moegirl.moepad.ChangePasswordResponse",[])}}const Ym=new jm;class zm extends a{constructor(){super("moegirl.moepad.CustomMessageInfoRequest",[])}}const Jm=new zm;class Xm extends a{constructor(){super("moegirl.moepad.CustomMessageInfoResponse",[{no:1,name:"title",kind:"scalar",T:9},{no:2,name:"content",kind:"scalar",T:9},{no:3,name:"left_button_text",kind:"scalar",T:9},{no:4,name:"right_button_text",kind:"scalar",T:9},{no:5,name:"is_right_button_highlight",kind:"scalar",T:8},{no:6,name:"is_show_protocol_link",kind:"scalar",T:8},{no:7,name:"message_version",kind:"scalar",T:5},{no:8,name:"is_show",kind:"scalar",T:8}])}}const us=new Xm;class Zm extends a{constructor(){super("moegirl.moepad.GetBannerInfoRequest",[])}}const Qm=new Zm;class ep extends a{constructor(){super("moegirl.moepad.GetBannerInfoResponse",[{no:1,name:"banner_info",kind:"message",repeat:1,T:()=>np}])}}const ms=new ep;class tp extends a{constructor(){super("moegirl.moepad.GetBannerInfoResponse.BannerInfo",[{no:1,name:"image_url",kind:"scalar",T:9},{no:2,name:"link_url",kind:"scalar",T:9},{no:3,name:"view_name",kind:"scalar",T:9},{no:4,name:"is_show",kind:"scalar",T:8},{no:5,name:"title",kind:"scalar",T:9},{no:6,name:"banner_type",kind:"enum",T:()=>["moegirl.moepad.config_enums.BannerType",Wo]},{no:7,name:"native_route",kind:"scalar",oneof:"jumpMode",T:9},{no:8,name:"web_url",kind:"scalar",oneof:"jumpMode",T:9},{no:9,name:"is_vip",kind:"scalar",T:8}])}}const np=new tp;class sp extends a{constructor(){super("moegirl.moepad.GetCustomImageInfoRequest",[])}}const op=new sp;class rp extends a{constructor(){super("moegirl.moepad.GetCustomImageInfoResponse",[{no:1,name:"image_url",kind:"scalar",T:9},{no:2,name:"native_route",kind:"scalar",oneof:"jumpMode",T:9},{no:3,name:"web_url",kind:"scalar",oneof:"jumpMode",T:9},{no:4,name:"image_info_title",kind:"scalar",T:9},{no:5,name:"to_show",kind:"scalar",T:8},{no:6,name:"cool_down_duration_in_seconds",kind:"scalar",T:5},{no:7,name:"is_vip",kind:"scalar",T:8}])}}const ps=new rp;new ae("moegirl.moepad.MoepadService",[{name:"GetRandomPages",options:{},I:ql,O:Wl},{name:"GetHomePageSort",options:{},I:Ud,O:Pd},{name:"GetHomePageResList",options:{},I:Ld,O:$d},{name:"GetHomeRecommendTitle",options:{},I:Dd,O:Hd},{name:"GetHomeLatestTitle",options:{},I:Bd,O:jo},{name:"GetHomeRecommendPages",options:{},I:jd,O:Yo},{name:"GetHomeRecommendPagesVersion",options:{},I:Jd,O:Zd},{name:"GetDiscussionBoard",options:{},I:eu,O:nu},{name:"EntryStatistics",options:{},I:ou,O:iu},{name:"SearchEntry",options:{},I:cu,O:du},{name:"UserLogin",options:{},I:Kl,O:Nt},{name:"UserLogout",options:{},I:zl,O:Xl},{name:"GetUserinfo",options:{},I:mu,O:ls},{name:"GetPageInfo",options:{},I:hu,O:_u},{name:"Feedback",options:{},I:wu,O:yu},{name:"RegisterAccount",options:{},I:Au,O:Iu},{name:"CheckUpdate",options:{},I:Nu,O:ds},{name:"FavoritePage",options:{},I:Mu,O:Gu},{name:"CheckFavouriteStatus",options:{},I:qu,O:Wu},{name:"GetFavouriteList",options:{},I:Vu,O:ju},{name:"GetRecentChangesForFavourite",options:{},I:zu,O:Xu},{name:"SendPhoneVerificationCode",options:{},I:ed,O:nd},{name:"SetPhoneNumber",options:{},I:od,O:id},{name:"GetPhoneNumber",options:{},I:Nm,O:Sm},{name:"GetThirdParty",options:{},I:Nd,O:Sd},{name:"Telemetry",options:{},I:cm,O:dm},{name:"GetLaunchAdPage",options:{},I:hm,O:Xo},{name:"GetFeedAdProbability",options:{},I:mm,O:Jo},{name:"UserPhoneNumberRegister",options:{},I:cd,O:dd},{name:"UserThirdPartyRegister",options:{},I:gd,O:Td},{name:"UserPhoneNumberLogin",options:{},I:Rd,O:yd},{name:"UserThirdPartyLogin",options:{},I:Ad,O:Id},{name:"UserThirdTokenHandle",options:{},I:md,O:fd},{name:"UserUploadAvatar",options:{},I:Tm,O:Rm},{name:"UserVerifyPhoneNumber",options:{},I:ym,O:Im},{name:"CustomMessageInfo",options:{},I:Jm,O:us},{name:"ValidateUserName",options:{},I:Um,O:Pm},{name:"ResetPasswordCheckUser",options:{},I:Lm,O:$m},{name:"ResetPassword",options:{},I:Dm,O:Hm},{name:"CheckCodeAndResetPassword",options:{},I:Ml,O:Gl},{name:"ChangePassword",options:{},I:Km,O:Ym},{name:"CheckCodeAndChangePassword",options:{},I:xl,O:Cl},{name:"GetBannerInfo",options:{},I:Qm,O:ms},{name:"GetCustomImageInfo",options:{},I:op,O:ps},{name:"GetHomePageFeedMetadata",options:{},I:vl,O:Ol},{name:"GetHomePageFeedData",options:{},I:bl,O:El}]);var rn=(e=>(e[e.MOE_POWER_EXPERIMENT=0]="MOE_POWER_EXPERIMENT",e[e.MOE_COMMUNITY=1]="MOE_COMMUNITY",e[e.MOE_RECOMMEND=2]="MOE_RECOMMEND",e[e.MOE_SEARCH_RECOMMEND=3]="MOE_SEARCH_RECOMMEND",e[e.GACHA=4]="GACHA",e[e.CHAT=5]="CHAT",e[e.ART_WORK=6]="ART_WORK",e[e.FLIGHT_INVITE_MOE_POWER_LIMIT=7]="FLIGHT_INVITE_MOE_POWER_LIMIT",e[e.SHORT_REVIEW_SWITCH=8]="SHORT_REVIEW_SWITCH",e[e.LONG_REVIEW_SWITCH=9]="LONG_REVIEW_SWITCH",e[e.COMMUNITY_SWITCH=10]="COMMUNITY_SWITCH",e[e.SHOW_POST_DEPTH=11]="SHOW_POST_DEPTH",e[e.MEMBER_SWITCH=12]="MEMBER_SWITCH",e[e.MEMBER_PAYMENT_SWITCH=13]="MEMBER_PAYMENT_SWITCH",e[e.YUNJING_SWITCH=14]="YUNJING_SWITCH",e[e.TEMP_APPLE_LOGOUT=16]="TEMP_APPLE_LOGOUT",e[e.TEMP_HUAWEI_HEALTHY=17]="TEMP_HUAWEI_HEALTHY",e[e.MOEBAO_INPUT_MAX_LENGTH=18]="MOEBAO_INPUT_MAX_LENGTH",e[e.MOEBAO_AD_FREQUENCY=19]="MOEBAO_AD_FREQUENCY",e[e.MOEBAO_DAILY_SHARE_LIMIT=20]="MOEBAO_DAILY_SHARE_LIMIT",e[e.MOEBAO_HISTORY_NUMBER=21]="MOEBAO_HISTORY_NUMBER",e[e.TEMP_XIAOMI_HEALTHY=22]="TEMP_XIAOMI_HEALTHY",e[e.APPLE_NOLOGIN_PURCHASE=23]="APPLE_NOLOGIN_PURCHASE",e))(rn||{}),Ot=(e=>(e[e.DEV=0]="DEV",e[e.DOGFOOD=1]="DOGFOOD",e[e.INNERRING=2]="INNERRING",e[e.OUTERRING=3]="OUTERRING",e[e.PROD=4]="PROD",e))(Ot||{});class ip extends a{constructor(){super("moegirl.moepad.SetChannelToUserRequest",[{no:2,name:"channel",kind:"enum",T:()=>["moegirl.moepad.config_enums.Channel",Ot]}])}}const ap=new ip;class cp extends a{constructor(){super("moegirl.moepad.SetChannelToUserResponse",[])}}const lp=new cp;class dp extends a{constructor(){super("moegirl.moepad.GetUserChannelRequest",[])}}const up=new dp;class mp extends a{constructor(){super("moegirl.moepad.GetUserChannelResponse",[{no:1,name:"channel",kind:"enum",T:()=>["moegirl.moepad.config_enums.Channel",Ot]}])}}const Zo=new mp;class pp extends a{constructor(){super("moegirl.moepad.GetUserExperimentRequest",[{no:1,name:"user_id",kind:"scalar",T:5}])}}const fp=new pp;class hp extends a{constructor(){super("moegirl.moepad.ExperimentMapEntry",[{no:1,name:"experiment",kind:"enum",T:()=>["moegirl.moepad.config_enums.UserExperiment",rn]},{no:2,name:"value",kind:"scalar",T:9}])}}const Qo=new hp;class gp extends a{constructor(){super("moegirl.moepad.GetUserExperimentResponse",[{no:1,name:"experiments",kind:"enum",repeat:1,T:()=>["moegirl.moepad.config_enums.UserExperiment",rn]},{no:2,name:"experiments_map",kind:"message",repeat:1,T:()=>Qo}])}}const er=new gp;class _p extends a{constructor(){super("moegirl.moepad.GetDefaultExperimentRequest",[])}}const Tp=new _p;class wp extends a{constructor(){super("moegirl.moepad.GetDefaultExperimentResponse",[{no:1,name:"experiments",kind:"enum",repeat:1,T:()=>["moegirl.moepad.config_enums.UserExperiment",rn]},{no:2,name:"experiments_map",kind:"message",repeat:1,T:()=>Qo}])}}const tr=new wp;new ae("moegirl.moepad.MoepadFlightService",[{name:"SetChannelToUser",options:{},I:ap,O:lp},{name:"GetUserChannel",options:{},I:up,O:Zo},{name:"GetUserExperiments",options:{},I:fp,O:er},{name:"GetDefaultExperiment",options:{},I:Tp,O:tr}]);class Rp extends a{constructor(){super("moegirl.moepad.SendDeviceTokenRequest",[{no:1,name:"device_token",kind:"scalar",T:9},{no:2,name:"push_info",kind:"message",T:()=>Ko}])}}const kp=new Rp;class yp extends a{constructor(){super("moegirl.moepad.SendDeviceTokenResponse",[])}}const bp=new yp;class Ap extends a{constructor(){super("moegirl.moepad.GetAppInitialInfoRequest",[{no:1,name:"is_new_download",kind:"scalar",T:8}])}}const Ep=new Ap;class Ip extends a{constructor(){super("moegirl.moepad.GetAppInitialInfoResponse",[{no:1,name:"get_default_experiment_response",kind:"message",T:()=>tr},{no:2,name:"get_banner_info_response",kind:"message",T:()=>ms},{no:3,name:"custom_message_info_response",kind:"message",T:()=>us},{no:4,name:"get_custom_image_info_response",kind:"message",T:()=>ps},{no:5,name:"get_context_status_response",kind:"message",T:()=>nr},{no:6,name:"check_update_response",kind:"message",T:()=>ds}])}}const vp=new Ip;class Np extends a{constructor(){super("moegirl.moepad.GetIpLocationRequest",[{no:1,name:"ip",kind:"scalar",T:9}])}}const Op=new Np;class Sp extends a{constructor(){super("moegirl.moepad.GetIpLocationResponse",[{no:1,name:"location",kind:"scalar",T:9}])}}const xp=new Sp;class Up extends a{constructor(){super("moegirl.moepad.GetContextStatusRequest",[])}}const Cp=new Up;class Pp extends a{constructor(){super("moegirl.moepad.GetContextStatusResponse",[{no:1,name:"context_enum",kind:"enum",T:()=>["moegirl.moepad.config_enums.ContextEnum",Do]}])}}const nr=new Pp;new ae("moegirl.moepad.MoepadAppMetaService",[{name:"GetContextStatus",options:{},I:Cp,O:nr},{name:"GetIpLocation",options:{},I:Op,O:xp},{name:"GetAppInitialInfo",options:{},I:Ep,O:vp},{name:"SendDeviceToken",options:{},I:kp,O:bp}]);var ie=(e=>(e[e.PERSONAL=0]="PERSONAL",e[e.AUTHORIZATION_TO_MOE=1]="AUTHORIZATION_TO_MOE",e[e.OUT_OF_COPYRIGHT=2]="OUT_OF_COPYRIGHT",e[e.COPYRIGHT_MOE=3]="COPYRIGHT_MOE",e[e.CC_0=4]="CC_0",e[e.CC_BY_3=5]="CC_BY_3",e[e.CC_BY_SA_3=6]="CC_BY_SA_3",e[e.CC_BY_NC_SA_3=7]="CC_BY_NC_SA_3",e))(ie||{}),St=(e=>(e[e.NO_FILTER=0]="NO_FILTER",e[e.GOOD_REVIEW=1]="GOOD_REVIEW",e[e.MODERATE_REVIEW=2]="MODERATE_REVIEW",e[e.CRITICAL_REVIEW=3]="CRITICAL_REVIEW",e))(St||{}),an=(e=>(e[e.GAME=0]="GAME",e[e.BOOK=1]="BOOK",e[e.VIDEO=2]="VIDEO",e[e.MUSIC=3]="MUSIC",e))(an||{}),cn=(e=>(e[e.SIMPLE_AVERAGE=0]="SIMPLE_AVERAGE",e[e.TIME_RECENT_AVERAGE=1]="TIME_RECENT_AVERAGE",e))(cn||{});class Mp extends a{constructor(){super("moegirl.moepad.type.RelatedArtWork",[{no:1,name:"art_work_id",kind:"scalar",T:9},{no:2,name:"title",kind:"scalar",T:9},{no:3,name:"logo_url",kind:"scalar",T:9}])}}const fs=new Mp;var Ne=(e=>(e[e.UNREVIEWED=0]="UNREVIEWED",e[e.PASSED=1]="PASSED",e[e.REJECTED=2]="REJECTED",e))(Ne||{});class Lp extends a{constructor(){super("moegirl.moepad.type.Gift",[{no:1,name:"gift_id",kind:"scalar",T:9},{no:2,name:"gift_name",kind:"scalar",T:9},{no:3,name:"gift_message",kind:"scalar",T:9},{no:4,name:"gift_creation_time",kind:"message",T:()=>ce},{no:5,name:"gift_value",kind:"scalar",T:5},{no:6,name:"donated_by_user_id",kind:"scalar",T:5},{no:7,name:"donated_by_user_name",kind:"scalar",T:9},{no:8,name:"donated_to_post_id",kind:"scalar",T:9}])}}const Gp=new Lp;class $p extends a{constructor(){super("moegirl.moepad.type.Post",[{no:1,name:"post_id",kind:"scalar",T:9},{no:2,name:"parent_post_id",kind:"scalar",T:9},{no:3,name:"root_post_id",kind:"scalar",T:9},{no:4,name:"community_id",kind:"scalar",T:9},{no:5,name:"username",kind:"scalar",T:9},{no:6,name:"user_id",kind:"scalar",T:5},{no:7,name:"content",kind:"scalar",T:9},{no:8,name:"like_count",kind:"scalar",T:5},{no:9,name:"dislike_count",kind:"scalar",T:5},{no:10,name:"gift_count",kind:"scalar",T:5},{no:11,name:"gift_record",kind:"message",repeat:1,T:()=>Gp},{no:12,name:"report_count",kind:"scalar",T:5},{no:13,name:"report_record",kind:"scalar",repeat:1,T:5},{no:14,name:"post_update_time",kind:"message",T:()=>ce},{no:15,name:"post_create_time",kind:"message",T:()=>ce},{no:16,name:"customization",kind:"scalar",T:9},{no:17,name:"revoke",kind:"scalar",T:8},{no:18,name:"client_ip_address",kind:"scalar",T:9},{no:19,name:"client_ip_region",kind:"scalar",T:9},{no:20,name:"picture_links",kind:"scalar",repeat:2,T:9},{no:21,name:"censor_status",kind:"enum",T:()=>["moegirl.moepad.config_enums.CensorStatus",Ne]},{no:22,name:"first_level_reply_count",kind:"scalar",T:5}])}}const He=new $p;class qp extends a{constructor(){super("moegirl.moepad.type.LongReviewPost",[{no:1,name:"post",kind:"message",T:()=>He},{no:2,name:"art_work_id",kind:"scalar",T:9},{no:3,name:"title",kind:"scalar",T:9},{no:4,name:"rating",kind:"scalar",T:5},{no:5,name:"license",kind:"enum",T:()=>["moegirl.moepad.config_enums.LicenseEnum",ie]},{no:6,name:"total_number_reviews",kind:"scalar",T:5}])}}const hs=new qp;var ne=(e=>(e[e.NEUTRAL=0]="NEUTRAL",e[e.LIKE=1]="LIKE",e[e.DISLIKE=2]="DISLIKE",e))(ne||{});class Dp extends a{constructor(){super("moegirl.moepad.type.ReviewPost",[{no:1,name:"post",kind:"message",T:()=>He},{no:2,name:"art_work_id",kind:"scalar",T:9},{no:3,name:"title",kind:"scalar",T:9},{no:4,name:"rating",kind:"scalar",T:5},{no:5,name:"license",kind:"enum",T:()=>["moegirl.moepad.config_enums.LicenseEnum",ie]}])}}const sr=new Dp;class Wp extends a{constructor(){super("moegirl.moepad.type.ArtWork",[{no:1,name:"art_work_id",kind:"scalar",T:9},{no:2,name:"title",kind:"scalar",T:9},{no:3,name:"description",kind:"scalar",T:9},{no:4,name:"content",kind:"scalar",T:9},{no:5,name:"logo_url",kind:"scalar",T:9},{no:6,name:"description_url",kind:"scalar",T:9},{no:7,name:"wanted_count",kind:"scalar",T:5},{no:8,name:"finished_count",kind:"scalar",T:5},{no:9,name:"review_count",kind:"scalar",T:5},{no:10,name:"score",kind:"scalar",T:1},{no:11,name:"covers",kind:"scalar",repeat:2,T:9},{no:12,name:"related_art_works",kind:"message",repeat:1,T:()=>fs},{no:13,name:"score_counts",kind:"map",K:5,V:{kind:"scalar",T:5}},{no:14,name:"art_work_score_type",kind:"enum",T:()=>["moegirl.moepad.config_enums.ArtWorkScoreType",cn]},{no:15,name:"related_titles",kind:"scalar",repeat:2,T:9},{no:16,name:"art_work_type",kind:"enum",T:()=>["moegirl.moepad.config_enums.ArtWorkType",an]},{no:17,name:"tags",kind:"scalar",repeat:2,T:9},{no:18,name:"long_review_count",kind:"scalar",T:5},{no:19,name:"community_id",kind:"scalar",repeat:2,T:9},{no:20,name:"description_img_width",kind:"scalar",T:5},{no:21,name:"description_img_height",kind:"scalar",T:5}])}}const Oe=new Wp;class Bp extends a{constructor(){super("moegirl.moepad.ArtWorkAndShortReviewPostData",[{no:1,name:"art_work",kind:"message",T:()=>Oe},{no:2,name:"short_review_post_with_user_info",kind:"message",T:()=>rr}])}}const Fp=new Bp;class Hp extends a{constructor(){super("moegirl.moepad.ArtWorkAndLongReviewPostData",[{no:1,name:"art_work",kind:"message",T:()=>Oe},{no:2,name:"long_review_post_with_user_info",kind:"message",T:()=>ir}])}}const Vp=new Hp;class Kp extends a{constructor(){super("moegirl.moepad.ArtWorkWithUserInfo",[{no:1,name:"art_work",kind:"message",T:()=>Oe},{no:2,name:"user_wanted",kind:"scalar",T:8},{no:3,name:"user_finished",kind:"scalar",T:8},{no:4,name:"user_reviewed",kind:"scalar",T:8},{no:5,name:"user_long_reviewed",kind:"scalar",T:8}])}}const or=new Kp;class jp extends a{constructor(){super("moegirl.moepad.ReviewPagedWithUserInfo",[{no:1,name:"review_post",kind:"message",T:()=>sr},{no:2,name:"user_review_post_expression",kind:"enum",T:()=>["moegirl.moepad.config_enums.UserPostExpression",ne]}])}}const rr=new jp;class Yp extends a{constructor(){super("moegirl.moepad.LongReviewPostPagedWithUserInfo",[{no:1,name:"long_review_post",kind:"message",T:()=>hs},{no:2,name:"user_long_review_post_expression",kind:"enum",T:()=>["moegirl.moepad.config_enums.UserPostExpression",ne]}])}}const ir=new Yp;class zp extends a{constructor(){super("moegirl.moepad.LongReviewCommentPagedWithUserInfo",[{no:1,name:"long_review_comment",kind:"message",T:()=>He},{no:2,name:"user_long_review_comment_expression",kind:"enum",T:()=>["moegirl.moepad.config_enums.UserPostExpression",ne]}])}}const Jp=new zp;class Xp extends a{constructor(){super("moegirl.moepad.SetRelationshipWithCommunityRequest",[{no:1,name:"art_work_id",kind:"scalar",T:9},{no:2,name:"community_id",kind:"scalar",T:9}])}}const Zp=new Xp;class Qp extends a{constructor(){super("moegirl.moepad.SetRelationshipWithCommunityResponse",[])}}const ef=new Qp;class tf extends a{constructor(){super("moegirl.moepad.CreateListOfArtWorksRequest",[{no:1,name:"art_work_list_name",kind:"scalar",T:9}])}}const nf=new tf;class sf extends a{constructor(){super("moegirl.moepad.CreateListOfArtWorksResponse",[{no:1,name:"art_work_list_id",kind:"scalar",T:9}])}}const of=new sf;class rf extends a{constructor(){super("moegirl.moepad.GetListOfArtWorksWithUserInfoRequest",[{no:1,name:"art_work_list_id",kind:"scalar",T:9}])}}const af=new rf;class cf extends a{constructor(){super("moegirl.moepad.GetListOfArtWorksWithUserInfoResponse",[{no:1,name:"art_work_list_name",kind:"scalar",T:9},{no:2,name:"art_works_with_user_info",kind:"message",repeat:1,T:()=>or}])}}const lf=new cf;class df extends a{constructor(){super("moegirl.moepad.GetListOfArtWorksRequest",[{no:1,name:"art_work_list_id",kind:"scalar",T:9}])}}const uf=new df;class mf extends a{constructor(){super("moegirl.moepad.GetListOfArtWorksResponse",[{no:1,name:"art_work_list_name",kind:"scalar",T:9},{no:2,name:"art_works",kind:"message",repeat:1,T:()=>Oe}])}}const pf=new mf;class ff extends a{constructor(){super("moegirl.moepad.SetListOfArtWorksRequest",[{no:1,name:"art_work_list_id",kind:"scalar",T:9},{no:2,name:"art_work_list_name",kind:"scalar",T:9},{no:3,name:"art_work_id",kind:"scalar",repeat:2,T:9}])}}const hf=new ff;class gf extends a{constructor(){super("moegirl.moepad.SetListOfArtWorksResponse",[])}}const _f=new gf;class Tf extends a{constructor(){super("moegirl.moepad.ModifyArtworkRequest",[{no:1,name:"art_work_id",kind:"scalar",T:9},{no:2,name:"title",kind:"scalar",T:9},{no:3,name:"description",kind:"scalar",T:9},{no:4,name:"content",kind:"scalar",T:9},{no:5,name:"logo_url",kind:"scalar",T:9},{no:6,name:"description_url",kind:"scalar",T:9},{no:7,name:"related_art_works",kind:"message",repeat:1,T:()=>fs},{no:8,name:"covers",kind:"scalar",repeat:2,T:9},{no:9,name:"art_work_score_type",kind:"enum",T:()=>["moegirl.moepad.config_enums.ArtWorkScoreType",cn]},{no:10,name:"related_titles",kind:"scalar",repeat:2,T:9},{no:11,name:"art_work_type",kind:"enum",T:()=>["moegirl.moepad.config_enums.ArtWorkType",an]},{no:12,name:"tags",kind:"scalar",repeat:2,T:9},{no:13,name:"art_work_communities",kind:"scalar",repeat:2,T:9}])}}const wf=new Tf;class Rf extends a{constructor(){super("moegirl.moepad.ModifyArtworkResponse",[])}}const kf=new Rf;class yf extends a{constructor(){super("moegirl.moepad.GetArtWorkTagsRequest",[{no:1,name:"art_work_id",kind:"scalar",T:9}])}}new yf;class bf extends a{constructor(){super("moegirl.moepad.GetArtWorkTagsResponse",[{no:1,name:"art_work_tags",kind:"scalar",repeat:2,T:9}])}}new bf;class Af extends a{constructor(){super("moegirl.moepad.RemoveArtWorkTagsRequest",[{no:1,name:"art_work_id",kind:"scalar",T:9},{no:2,name:"art_work_tags",kind:"scalar",repeat:2,T:9}])}}new Af;class Ef extends a{constructor(){super("moegirl.moepad.RemoveArtWorkTagsResponse",[])}}new Ef;class If extends a{constructor(){super("moegirl.moepad.NewLongReviewCommentRequest",[{no:1,name:"long_review_post_id",kind:"scalar",T:9},{no:2,name:"parent_long_review_comment_id",kind:"scalar",T:9},{no:3,name:"content",kind:"scalar",T:9},{no:4,name:"picture_links",kind:"scalar",repeat:2,T:9}])}}const vf=new If;class Nf extends a{constructor(){super("moegirl.moepad.NewLongReviewCommentResponse",[{no:1,name:"long_review_comment_id",kind:"scalar",T:9}])}}const Of=new Nf;class Sf extends a{constructor(){super("moegirl.moepad.ModifyLongReviewCommentRequest",[{no:1,name:"long_review_comment_id",kind:"scalar",T:9},{no:2,name:"content",kind:"scalar",T:9},{no:3,name:"picture_links",kind:"scalar",repeat:2,T:9}])}}const xf=new Sf;class Uf extends a{constructor(){super("moegirl.moepad.ModifyLongReviewCommentResponse",[{no:1,name:"long_review_comment_id",kind:"scalar",T:9}])}}const Cf=new Uf;class Pf extends a{constructor(){super("moegirl.moepad.GetLongReviewCommentPagedRequest",[{no:1,name:"long_review_post_id",kind:"scalar",T:9},{no:2,name:"page_number",kind:"scalar",T:5},{no:3,name:"page_size",kind:"scalar",T:5}])}}const Mf=new Pf;class Lf extends a{constructor(){super("moegirl.moepad.GetLongReviewCommentPagedWithUserInfoRequest",[{no:1,name:"long_review_post_id",kind:"scalar",T:9},{no:2,name:"page_number",kind:"scalar",T:5},{no:3,name:"page_size",kind:"scalar",T:5}])}}const Gf=new Lf;class $f extends a{constructor(){super("moegirl.moepad.ExpressLongReviewCommentRequest",[{no:1,name:"long_review_comment_id",kind:"scalar",T:9},{no:2,name:"user_long_review_comment_expression",kind:"enum",T:()=>["moegirl.moepad.config_enums.UserPostExpression",ne]}])}}const qf=new $f;class Df extends a{constructor(){super("moegirl.moepad.ExpressLongReviewCommentResponse",[])}}const Wf=new Df;class Bf extends a{constructor(){super("moegirl.moepad.CreateDefaultArtWorkRequest",[{no:1,name:"title",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9},{no:3,name:"content",kind:"scalar",T:9},{no:4,name:"logo_url",kind:"scalar",T:9},{no:5,name:"description_url",kind:"scalar",T:9},{no:6,name:"related_art_works",kind:"message",repeat:1,T:()=>fs},{no:7,name:"covers",kind:"scalar",repeat:2,T:9},{no:8,name:"art_work_score_type",kind:"enum",T:()=>["moegirl.moepad.config_enums.ArtWorkScoreType",cn]},{no:9,name:"related_titles",kind:"scalar",repeat:2,T:9},{no:10,name:"art_work_type",kind:"enum",T:()=>["moegirl.moepad.config_enums.ArtWorkType",an]},{no:11,name:"tags",kind:"scalar",repeat:2,T:9},{no:12,name:"art_work_communities",kind:"scalar",repeat:2,T:9}])}}const ar=new Bf;class Ff extends a{constructor(){super("moegirl.moepad.CreateDefaultArtWorkWithIdRequest",[{no:1,name:"create_default_art_work_request",kind:"message",T:()=>ar},{no:2,name:"art_work_id",kind:"scalar",T:9}])}}const Hf=new Ff;class Vf extends a{constructor(){super("moegirl.moepad.CreateDefaultArtWorkWithIdResponse",[{no:1,name:"create_default_art_work_response",kind:"message",T:()=>cr}])}}const Kf=new Vf;class jf extends a{constructor(){super("moegirl.moepad.CreateDefaultArtWorkResponse",[{no:1,name:"new_art_work_id",kind:"scalar",T:9}])}}const cr=new jf;class Yf extends a{constructor(){super("moegirl.moepad.GetArtWorkRequest",[{no:1,name:"art_work_id",kind:"scalar",T:9}])}}const zf=new Yf;class Jf extends a{constructor(){super("moegirl.moepad.GetArtWorkWithUserInfoRequest",[{no:1,name:"art_work_id",kind:"scalar",T:9}])}}const Xf=new Jf;class Zf extends a{constructor(){super("moegirl.moepad.GetReviewPagedRequest",[{no:1,name:"art_work_id",kind:"scalar",T:9},{no:2,name:"page_number",kind:"scalar",T:5},{no:3,name:"page_size",kind:"scalar",T:5},{no:4,name:"review_filter",kind:"enum",T:()=>["moegirl.moepad.config_enums.Filter",St]}])}}const Qf=new Zf;class eh extends a{constructor(){super("moegirl.moepad.GetReviewPagedWithUserInfoRequest",[{no:1,name:"art_work_id",kind:"scalar",T:9},{no:2,name:"page_number",kind:"scalar",T:5},{no:3,name:"page_size",kind:"scalar",T:5},{no:4,name:"review_filter",kind:"enum",T:()=>["moegirl.moepad.config_enums.Filter",St]}])}}const th=new eh;class nh extends a{constructor(){super("moegirl.moepad.ExpressReviewPostRequest",[{no:1,name:"review_post_id",kind:"scalar",T:9},{no:2,name:"user_review_post_expression",kind:"enum",T:()=>["moegirl.moepad.config_enums.UserPostExpression",ne]}])}}const sh=new nh;class oh extends a{constructor(){super("moegirl.moepad.ExpressReviewPostResponse",[])}}const rh=new oh;class ih extends a{constructor(){super("moegirl.moepad.GetReviewPostExpressionRequest",[{no:1,name:"review_post_id",kind:"scalar",T:9},{no:2,name:"user_review_post_expressions",kind:"enum",repeat:1,T:()=>["moegirl.moepad.config_enums.UserPostExpression",ne]}])}}const ah=new ih;class ch extends a{constructor(){super("moegirl.moepad.GetReviewPostExpressionResponse",[{no:1,name:"user_post_expressions",kind:"map",K:5,V:{kind:"scalar",T:5}}])}}const lh=new ch;class dh extends a{constructor(){super("moegirl.moepad.FinshedArtWorkRequest",[{no:1,name:"art_work_id",kind:"scalar",T:9}])}}const uh=new dh;class mh extends a{constructor(){super("moegirl.moepad.UnFinshedArtWorkRequest",[{no:1,name:"art_work_id",kind:"scalar",T:9}])}}const ph=new mh;class fh extends a{constructor(){super("moegirl.moepad.WantedArtWorkRequest",[{no:1,name:"art_work_id",kind:"scalar",T:9}])}}const hh=new fh;class gh extends a{constructor(){super("moegirl.moepad.UnWantedArtWorkRequest",[{no:1,name:"art_work_id",kind:"scalar",T:9}])}}const _h=new gh;class Th extends a{constructor(){super("moegirl.moepad.FinishedArtWorkResponse",[])}}const wh=new Th;class Rh extends a{constructor(){super("moegirl.moepad.UnFinishedArtWorkResponse",[])}}const kh=new Rh;class yh extends a{constructor(){super("moegirl.moepad.WantedArtWorkResponse",[])}}const bh=new yh;class Ah extends a{constructor(){super("moegirl.moepad.UnWantedArtWorkResponse",[])}}const Eh=new Ah;class Ih extends a{constructor(){super("moegirl.moepad.NewReviewPostRequest",[{no:1,name:"art_work_id",kind:"scalar",T:9},{no:2,name:"title",kind:"scalar",T:9},{no:3,name:"content",kind:"scalar",T:9},{no:4,name:"rating",kind:"scalar",T:5},{no:5,name:"license",kind:"enum",T:()=>["moegirl.moepad.config_enums.LicenseEnum",ie]}])}}const vh=new Ih;class Nh extends a{constructor(){super("moegirl.moepad.NewReviewPostResponse",[{no:1,name:"post_id",kind:"scalar",T:9}])}}const Oh=new Nh;class Sh extends a{constructor(){super("moegirl.moepad.ModifyReviewRequest",[{no:1,name:"post_id",kind:"scalar",T:9},{no:2,name:"title",kind:"scalar",T:9},{no:3,name:"content",kind:"scalar",T:9},{no:4,name:"rating",kind:"scalar",T:5},{no:5,name:"license",kind:"enum",T:()=>["moegirl.moepad.config_enums.LicenseEnum",ie]}])}}const xh=new Sh;class Uh extends a{constructor(){super("moegirl.moepad.ModifyReviewResponse",[{no:1,name:"post_id",kind:"scalar",T:9}])}}const Ch=new Uh;class Ph extends a{constructor(){super("moegirl.moepad.NewLongReviewPostRequest",[{no:1,name:"art_work_id",kind:"scalar",T:9},{no:2,name:"title",kind:"scalar",T:9},{no:3,name:"content",kind:"scalar",T:9},{no:4,name:"rating",kind:"scalar",T:5},{no:5,name:"license",kind:"enum",T:()=>["moegirl.moepad.config_enums.LicenseEnum",ie]},{no:6,name:"picture_links",kind:"scalar",repeat:2,T:9}])}}const Mh=new Ph;class Lh extends a{constructor(){super("moegirl.moepad.NewLongReviewPostResponse",[{no:1,name:"long_review_post_id",kind:"scalar",T:9}])}}const Gh=new Lh;class $h extends a{constructor(){super("moegirl.moepad.ModifyLongReviewPostRequest",[{no:1,name:"long_review_post_id",kind:"scalar",T:9},{no:2,name:"title",kind:"scalar",T:9},{no:3,name:"content",kind:"scalar",T:9},{no:4,name:"rating",kind:"scalar",T:5},{no:5,name:"license",kind:"enum",T:()=>["moegirl.moepad.config_enums.LicenseEnum",ie]},{no:6,name:"picture_links",kind:"scalar",repeat:2,T:9}])}}const qh=new $h;class Dh extends a{constructor(){super("moegirl.moepad.ModifyLongReviewPostResponse",[{no:1,name:"long_review_post_id",kind:"scalar",T:9}])}}const Wh=new Dh;class Bh extends a{constructor(){super("moegirl.moepad.GetLongReviewPostPagedRequest",[{no:1,name:"art_work_id",kind:"scalar",T:9},{no:2,name:"page_number",kind:"scalar",T:5},{no:3,name:"page_size",kind:"scalar",T:5},{no:4,name:"review_filter",kind:"enum",T:()=>["moegirl.moepad.config_enums.Filter",St]}])}}const Fh=new Bh;class Hh extends a{constructor(){super("moegirl.moepad.GetLongReviewPostPagedWithUserInfoRequest",[{no:1,name:"art_work_id",kind:"scalar",T:9},{no:2,name:"page_number",kind:"scalar",T:5},{no:3,name:"page_size",kind:"scalar",T:5},{no:4,name:"review_filter",kind:"enum",T:()=>["moegirl.moepad.config_enums.Filter",St]}])}}const Vh=new Hh;class Kh extends a{constructor(){super("moegirl.moepad.ExpressLongReviewPostRequest",[{no:1,name:"long_review_post_id",kind:"scalar",T:9},{no:2,name:"user_long_review_post_expression",kind:"enum",T:()=>["moegirl.moepad.config_enums.UserPostExpression",ne]}])}}const jh=new Kh;class Yh extends a{constructor(){super("moegirl.moepad.ExpressLongReviewPostResponse",[])}}const zh=new Yh;class Jh extends a{constructor(){super("moegirl.moepad.GetLongReviewPostExpressionRequest",[{no:1,name:"long_review_post_id",kind:"scalar",T:9},{no:2,name:"user_long_review_post_expressions",kind:"enum",repeat:1,T:()=>["moegirl.moepad.config_enums.UserPostExpression",ne]}])}}const Xh=new Jh;class Zh extends a{constructor(){super("moegirl.moepad.GetLongReviewPostExpressionResponse",[{no:1,name:"user_long_review_post_expressions",kind:"map",K:5,V:{kind:"scalar",T:5}}])}}const Qh=new Zh;class eg extends a{constructor(){super("moegirl.moepad.GetLicenseListRequest",[])}}const tg=new eg;class ng extends a{constructor(){super("moegirl.moepad.GetLicenseListResponse",[{no:1,name:"license_list",kind:"enum",repeat:1,T:()=>["moegirl.moepad.config_enums.LicenseEnum",ie]}])}}const sg=new ng;class og extends a{constructor(){super("moegirl.moepad.GetAllArtworksRequest",[{no:1,name:"page_number",kind:"scalar",T:5},{no:2,name:"page_size",kind:"scalar",T:5}])}}const rg=new og;class ig extends a{constructor(){super("moegirl.moepad.GetLongReviewPostRequest",[{no:1,name:"art_work_id",kind:"scalar",T:9},{no:2,name:"long_review_post_id",kind:"scalar",T:9}])}}const ag=new ig;class cg extends a{constructor(){super("moegirl.moepad.GetLongReviewPostResponse",[{no:1,name:"long_review_post",kind:"message",T:()=>hs}])}}const lg=new cg;class dg extends a{constructor(){super("moegirl.moepad.GetAllArtworksResponse",[{no:1,name:"art_works",kind:"message",repeat:1,T:()=>Oe},{no:2,name:"total_art_work_number",kind:"scalar",T:5}])}}const ug=new dg;class mg extends a{constructor(){super("moegirl.moepad.GetPersonalizedArtWorkListsRequest",[{no:1,name:"page_number",kind:"scalar",T:5},{no:2,name:"page_size",kind:"scalar",T:5}])}}const pg=new mg;class fg extends a{constructor(){super("moegirl.moepad.GetPersonalizedArtWorkListsResponse",[{no:1,name:"art_work_list_id",kind:"scalar",repeat:2,T:9}])}}const hg=new fg;class gg extends a{constructor(){super("moegirl.moepad.GetDefaultArtWorkListsRequest",[{no:1,name:"page_number",kind:"scalar",T:5},{no:2,name:"page_size",kind:"scalar",T:5}])}}const _g=new gg;class Tg extends a{constructor(){super("moegirl.moepad.GetDefaultArtWorkListsResponse",[{no:1,name:"art_work_list_id",kind:"scalar",repeat:2,T:9}])}}const wg=new Tg;class Rg extends a{constructor(){super("moegirl.moepad.DeleteListOfArtWorksRequest",[{no:1,name:"art_work_list_id",kind:"scalar",T:9}])}}const kg=new Rg;class yg extends a{constructor(){super("moegirl.moepad.DeleteListOfArtWorksResponse",[])}}const bg=new yg;class Ag extends a{constructor(){super("moegirl.moepad.GetUserIdPagedShortReviewPostWithUserInfoRequest",[{no:1,name:"page_number",kind:"scalar",T:5},{no:2,name:"page_size",kind:"scalar",T:5},{no:3,name:"user_id",kind:"scalar",T:5}])}}const Eg=new Ag;class Ig extends a{constructor(){super("moegirl.moepad.GetUserIdPagedShortReviewPostWithUserInfoResponse",[{no:1,name:"art_work_short_review_data",kind:"message",repeat:1,T:()=>Fp}])}}const vg=new Ig;class Ng extends a{constructor(){super("moegirl.moepad.GetUserIdPagedLongReviewPostWithUserInfoRequest",[{no:1,name:"page_number",kind:"scalar",T:5},{no:2,name:"page_size",kind:"scalar",T:5},{no:3,name:"user_id",kind:"scalar",T:5}])}}const Og=new Ng;class Sg extends a{constructor(){super("moegirl.moepad.GetUserIdPagedLongReviewPostWithUserInfoResponse",[{no:1,name:"art_work_long_review_data",kind:"message",repeat:1,T:()=>Vp}])}}const xg=new Sg;class Ug extends a{constructor(){super("moegirl.moepad.GetUserIdPagedWantedArtworkRequest",[{no:1,name:"page_number",kind:"scalar",T:5},{no:2,name:"page_size",kind:"scalar",T:5},{no:3,name:"user_id",kind:"scalar",T:5}])}}const Cg=new Ug;class Pg extends a{constructor(){super("moegirl.moepad.GetUserIdPagedWantedArtworkResponse",[{no:1,name:"wanted_art_works",kind:"message",repeat:1,T:()=>Oe}])}}const Mg=new Pg;class Lg extends a{constructor(){super("moegirl.moepad.GetUserIdPagedFinishedArtworkRequest",[{no:1,name:"page_number",kind:"scalar",T:5},{no:2,name:"page_size",kind:"scalar",T:5},{no:3,name:"user_id",kind:"scalar",T:5}])}}const Gg=new Lg;class $g extends a{constructor(){super("moegirl.moepad.GetUserIdPagedFinishedArtworkResponse",[{no:1,name:"finished_art_works",kind:"message",repeat:1,T:()=>Oe}])}}const qg=new $g;class Dg extends a{constructor(){super("moegirl.moepad.HomeRecommendArtworksRequest",[])}}const Wg=new Dg;class Bg extends a{constructor(){super("moegirl.moepad.HomeRecommendArtworksResponse",[{no:1,name:"artworks",kind:"message",repeat:1,T:()=>Oe}])}}const Fg=new Bg;new ae("moegirl.moepad.MoepadArtWorkService",[{name:"NewReview",options:{},I:vh,O:Oh},{name:"ModifyReview",options:{},I:xh,O:Ch},{name:"GetReviewPaged",serverStreaming:!0,options:{},I:Qf,O:sr},{name:"GetReviewPagedWithUserInfo",serverStreaming:!0,options:{},I:th,O:rr},{name:"ExpressReviewPost",options:{},I:sh,O:rh},{name:"GetReviewPostExpression",options:{},I:ah,O:lh},{name:"GetUserIdPagedShortReviewPostWithUserInfo",options:{},I:Eg,O:vg},{name:"NewLongReviewPost",options:{},I:Mh,O:Gh},{name:"ModifyLongReviewPost",options:{},I:qh,O:Wh},{name:"GetLongReviewPostPaged",serverStreaming:!0,options:{},I:Fh,O:hs},{name:"GetLongReviewPostPagedWithUserInfo",serverStreaming:!0,options:{},I:Vh,O:ir},{name:"ExpressLongReviewPost",options:{},I:jh,O:zh},{name:"GetLongReviewPostExpression",options:{},I:Xh,O:Qh},{name:"GetLongReviewPost",options:{},I:ag,O:lg},{name:"GetUserIdPagedLongReviewPostWithUserInfo",options:{},I:Og,O:xg},{name:"NewLongReviewComment",options:{},I:vf,O:Of},{name:"ModifyLongReviewComment",options:{},I:xf,O:Cf},{name:"GetLongReviewCommentPaged",serverStreaming:!0,options:{},I:Mf,O:He},{name:"GetLongReviewCommentPagedWithUserInfo",serverStreaming:!0,options:{},I:Gf,O:Jp},{name:"ExpressLongReviewComment",options:{},I:qf,O:Wf},{name:"CreateDefaultArtWork",options:{},I:ar,O:cr},{name:"CreateDefaultArtWorkWithId",options:{},I:Hf,O:Kf},{name:"ModifyArtWork",options:{},I:wf,O:kf},{name:"GetArtWork",options:{},I:zf,O:Oe},{name:"GetArtWorkWithUserInfo",options:{},I:Xf,O:or},{name:"FinishedArtWork",options:{},I:uh,O:wh},{name:"UnFinishedArtWork",options:{},I:ph,O:kh},{name:"WantedArtWork",options:{},I:hh,O:bh},{name:"UnWantedArtWork",options:{},I:_h,O:Eh},{name:"GetLicenseList",options:{},I:tg,O:sg},{name:"GetUserIdPagedWantedArtwork",options:{},I:Cg,O:Mg},{name:"GetUserIdPagedFinishedArtwork",options:{},I:Gg,O:qg},{name:"GetListOfArtWorksWithUserInfo",options:{},I:af,O:lf},{name:"GetListOfArtWorks",options:{},I:uf,O:pf},{name:"SetListOfArtWorks",options:{},I:hf,O:_f},{name:"CreateListOfArtWorks",options:{},I:nf,O:of},{name:"SetRelationshipWithCommunity",options:{},I:Zp,O:ef},{name:"GetAllArtworks",options:{},I:rg,O:ug},{name:"GetPersonalizedArtWorkLists",options:{},I:pg,O:hg},{name:"GetDefaultArtWorkLists",options:{},I:_g,O:wg},{name:"DeleteListOfArtWorks",options:{},I:kg,O:bg},{name:"HomeRecommendArtworks",options:{},I:Wg,O:Fg}]);var lr=(e=>(e[e.UNKNOWN=0]="UNKNOWN",e[e.AI=1]="AI",e[e.USER=2]="USER",e))(lr||{});class Hg extends a{constructor(){super("moegirl.moepad.ConversationRequest",[{no:1,name:"question_text",kind:"scalar",T:9},{no:2,name:"context",kind:"message",repeat:1,T:()=>jg}])}}const Vg=new Hg;class Kg extends a{constructor(){super("moegirl.moepad.ConversationRequest.Message",[{no:1,name:"role",kind:"enum",T:()=>["moegirl.moepad.ConversationRequest.Role",lr]},{no:2,name:"text",kind:"scalar",T:9}])}}const jg=new Kg;class Yg extends a{constructor(){super("moegirl.moepad.ConversationResponse",[{no:1,name:"answer_text",kind:"scalar",T:9},{no:2,name:"total_token_used",kind:"scalar",T:3}])}}const zg=new Yg;new ae("moegirl.moepad.MoepadChatService",[{name:"Conversation",options:{},I:Vg,O:zg}]);var dr=(e=>(e[e.GAME_COMMUNITY=0]="GAME_COMMUNITY",e[e.ANIME_VIDEO_COMMUNITY=1]="ANIME_VIDEO_COMMUNITY",e[e.ANIME_MANGA_COMMUNITY=2]="ANIME_MANGA_COMMUNITY",e[e.MUSIC_COMMUNITY=3]="MUSIC_COMMUNITY",e[e.ANIME_GENERAL_COMMUNITY=4]="ANIME_GENERAL_COMMUNITY",e[e.VUP_COMMUNITY=5]="VUP_COMMUNITY",e[e.VOICE_CASTER_COMMUNITY=6]="VOICE_CASTER_COMMUNITY",e[e.WRITER_COMMUNITY=7]="WRITER_COMMUNITY",e[e.STAFF_COMMUNITY=8]="STAFF_COMMUNITY",e[e.SINGER_COMMUNITY=9]="SINGER_COMMUNITY",e[e.SCHOOL_COMMUNITY=10]="SCHOOL_COMMUNITY",e[e.CAREER_COMMUNITY=11]="CAREER_COMMUNITY",e[e.RELATIONSHIP_COMMUNITY=12]="RELATIONSHIP_COMMUNITY",e[e.STUDY_COMMUNITY=13]="STUDY_COMMUNITY",e[e.TECH_COMMUNITY=14]="TECH_COMMUNITY",e[e.JUST_CHATTING_COMMUNITY=15]="JUST_CHATTING_COMMUNITY",e[e.COSPLAY_COMMUNITY=16]="COSPLAY_COMMUNITY",e[e.COMPANY_COMMUNITY=17]="COMPANY_COMMUNITY",e))(dr||{});class Jg extends a{constructor(){super("moegirl.moepad.type.Community",[{no:1,name:"community_id",kind:"scalar",T:9},{no:2,name:"community_name",kind:"scalar",T:9},{no:3,name:"community_icon",kind:"scalar",T:9},{no:4,name:"community_tags",kind:"enum",repeat:1,T:()=>["moegirl.moepad.config_enums.CommunityTag",dr]},{no:5,name:"community_description",kind:"scalar",T:9},{no:6,name:"community_cover_url",kind:"scalar",T:9},{no:7,name:"community_custom_like_url",kind:"scalar",T:9},{no:8,name:"community_custom_dislike_url",kind:"scalar",T:9},{no:9,name:"community_custom_member_name",kind:"scalar",T:9},{no:10,name:"is_public_community",kind:"scalar",T:8},{no:11,name:"created_time",kind:"message",T:()=>ce},{no:12,name:"last_update_time",kind:"message",T:()=>ce},{no:30,name:"related_community_id",kind:"scalar",repeat:2,T:9},{no:31,name:"related_artwork_id",kind:"scalar",repeat:2,T:9},{no:32,name:"related_wiki_title",kind:"scalar",repeat:2,T:9},{no:50,name:"created_user_id",kind:"scalar",T:5},{no:51,name:"moderator_user_ids",kind:"scalar",repeat:1,T:5},{no:52,name:"member_user_ids",kind:"scalar",repeat:1,T:5},{no:53,name:"blocked_user_ids",kind:"scalar",repeat:1,T:5},{no:71,name:"topped_article_ids",kind:"scalar",repeat:2,T:9},{no:73,name:"total_number_article",kind:"scalar",T:3}])}}const ln=new Jg;var st=(e=>(e[e.FREE_MEMBERSHIP=0]="FREE_MEMBERSHIP",e[e.BASIC_MEMBERSHIP=1]="BASIC_MEMBERSHIP",e))(st||{});class Xg extends a{constructor(){super("moegirl.moepad.type.ArticleComment",[{no:1,name:"post",kind:"message",T:()=>He},{no:2,name:"license",kind:"enum",T:()=>["moegirl.moepad.config_enums.LicenseEnum",ie]}])}}const xt=new Xg;class Zg extends a{constructor(){super("moegirl.moepad.type.Article",[{no:1,name:"post",kind:"message",T:()=>He},{no:2,name:"title",kind:"scalar",T:9},{no:3,name:"license",kind:"enum",T:()=>["moegirl.moepad.config_enums.LicenseEnum",ie]},{no:4,name:"sub_community_name",kind:"scalar",T:9},{no:5,name:"total_number_comments",kind:"scalar",T:5}])}}const dn=new Zg;var un=(e=>(e[e.UNKNOWN=0]="UNKNOWN",e[e.REPLY=1]="REPLY",e[e.LIKE=2]="LIKE",e))(un||{});class Qg extends a{constructor(){super("moegirl.moepad.ArticleWithUserInfo",[{no:1,name:"article",kind:"message",T:()=>dn},{no:2,name:"user_article_expression",kind:"enum",T:()=>["moegirl.moepad.config_enums.UserPostExpression",ne]}])}}const gs=new Qg;class e_ extends a{constructor(){super("moegirl.moepad.ArticleCommentWithUserInfo",[{no:1,name:"article_comment",kind:"message",T:()=>xt},{no:2,name:"user_article_comment_expression",kind:"enum",T:()=>["moegirl.moepad.config_enums.UserPostExpression",ne]}])}}const t_=new e_;class n_ extends a{constructor(){super("moegirl.moepad.WikiPageArticleCommentWithUserInfo",[{no:1,name:"article_comment",kind:"message",T:()=>xt},{no:2,name:"user_article_comment_expression",kind:"enum",T:()=>["moegirl.moepad.config_enums.UserPostExpression",ne]},{no:3,name:"sender_expression_to_article",kind:"enum",T:()=>["moegirl.moepad.config_enums.UserPostExpression",ne]},{no:4,name:"sender_membership",kind:"enum",T:()=>["moegirl.moepad.config_enums.UserMembership",st]}])}}const s_=new n_;class o_ extends a{constructor(){super("moegirl.moepad.CommunityWithUserInfo",[{no:1,name:"community",kind:"message",T:()=>ln},{no:2,name:"user_joined",kind:"scalar",T:8},{no:3,name:"user_applied",kind:"scalar",T:8},{no:4,name:"user_rejected",kind:"scalar",T:8},{no:5,name:"user_followed",kind:"scalar",T:8}])}}const r_=new o_;class i_ extends a{constructor(){super("moegirl.moepad.PostFilters",[{no:1,name:"parent_post_id",kind:"scalar",T:9},{no:2,name:"first_level_offset",kind:"scalar",T:5},{no:3,name:"first_level_size",kind:"scalar",T:5},{no:4,name:"deep_level_size",kind:"scalar",T:5},{no:5,name:"level_depth",kind:"scalar",T:5},{no:6,name:"censor_status_filters",kind:"enum",repeat:1,T:()=>["moegirl.moepad.config_enums.CensorStatus",Ne]}])}}const ur=new i_;class a_ extends a{constructor(){super("moegirl.moepad.MessageItem",[{no:1,name:"message_id",kind:"scalar",T:9},{no:2,name:"type",kind:"enum",T:()=>["moegirl.moepad.MessageItem.MessageType",un]},{no:3,name:"post_id",kind:"scalar",T:9},{no:4,name:"sender_name",kind:"scalar",T:9},{no:5,name:"sender_avatar",kind:"scalar",T:9},{no:6,name:"content",kind:"scalar",T:9},{no:7,name:"related_post_id",kind:"scalar",T:9},{no:8,name:"related_content",kind:"scalar",T:9},{no:9,name:"timestamp",kind:"message",T:()=>ce},{no:10,name:"is_read",kind:"scalar",T:8}])}}const c_=new a_;class l_ extends a{constructor(){super("moegirl.moepad.GetMessagesListRequest",[{no:1,name:"type",kind:"enum",T:()=>["moegirl.moepad.MessageItem.MessageType",un]},{no:2,name:"offset",kind:"scalar",T:5},{no:3,name:"size",kind:"scalar",T:5}])}}const d_=new l_;class u_ extends a{constructor(){super("moegirl.moepad.GetMessagesListResponse",[{no:1,name:"total",kind:"scalar",T:5},{no:2,name:"messages",kind:"message",repeat:1,T:()=>c_}])}}const m_=new u_;class p_ extends a{constructor(){super("moegirl.moepad.FetchUnreadCountRequest",[])}}const f_=new p_;class h_ extends a{constructor(){super("moegirl.moepad.FetchUnreadCountResponse",[{no:1,name:"unread_reply_count",kind:"scalar",T:5},{no:2,name:"unread_like_count",kind:"scalar",T:5},{no:3,name:"has_unread",kind:"scalar",T:8}])}}const g_=new h_;class __ extends a{constructor(){super("moegirl.moepad.MarkAsReadRequest",[{no:1,name:"type",kind:"enum",T:()=>["moegirl.moepad.MessageItem.MessageType",un]},{no:2,name:"message_ids",kind:"scalar",repeat:2,T:9}])}}const T_=new __;class w_ extends a{constructor(){super("moegirl.moepad.MarkAsReadResponse",[])}}const R_=new w_;class k_ extends a{constructor(){super("moegirl.moepad.DeleteUserOwnArticleCommentRequest",[{no:1,name:"article_comment_id",kind:"scalar",T:9}])}}const y_=new k_;class b_ extends a{constructor(){super("moegirl.moepad.DeleteUserOwnArticleCommentResponse",[])}}const A_=new b_;class E_ extends a{constructor(){super("moegirl.moepad.GetWikiPageArticleCommentListWithUserInfoRequest",[{no:3,name:"post_filters",kind:"message",T:()=>ur}])}}const I_=new E_;class v_ extends a{constructor(){super("moegirl.moepad.GetWikiPageArticleByWikiPageIdWithUserInfoRequest",[{no:1,name:"wiki_site_id",kind:"scalar",T:9},{no:2,name:"wiki_page_id",kind:"scalar",T:9}])}}const N_=new v_;class O_ extends a{constructor(){super("moegirl.moepad.GetArticleByIdWithUserInfoRequest",[{no:1,name:"community_id",kind:"scalar",T:9},{no:2,name:"article_id",kind:"scalar",T:9}])}}const S_=new O_;class x_ extends a{constructor(){super("moegirl.moepad.CreateDefaultCommunityRequest",[{no:1,name:"community",kind:"message",T:()=>ln}])}}const U_=new x_;class C_ extends a{constructor(){super("moegirl.moepad.CreateDefaultCommunityResponse",[{no:1,name:"community_id",kind:"scalar",T:9}])}}const P_=new C_;class M_ extends a{constructor(){super("moegirl.moepad.GetCommunityRequest",[{no:1,name:"community_id",kind:"scalar",T:9}])}}const L_=new M_;class G_ extends a{constructor(){super("moegirl.moepad.GetCommunityResponse",[{no:1,name:"community",kind:"message",T:()=>ln}])}}const $_=new G_;class q_ extends a{constructor(){super("moegirl.moepad.ModifyCommunityRequest",[{no:1,name:"community_id",kind:"scalar",T:9},{no:2,name:"community",kind:"message",T:()=>ln}])}}const D_=new q_;class W_ extends a{constructor(){super("moegirl.moepad.ModifyCommunityResponse",[{no:1,name:"community_id",kind:"scalar",T:9}])}}const B_=new W_;class F_ extends a{constructor(){super("moegirl.moepad.GetListOfCommunitiesWithUserInfoRequest",[{no:1,name:"community_list_id",kind:"scalar",T:9}])}}const H_=new F_;class V_ extends a{constructor(){super("moegirl.moepad.SetListOfCommunitiesRequest",[{no:1,name:"community_list_id",kind:"scalar",T:9},{no:2,name:"community_list_name",kind:"scalar",T:9},{no:3,name:"community_id",kind:"scalar",repeat:2,T:9}])}}const K_=new V_;class j_ extends a{constructor(){super("moegirl.moepad.SetListOfCommunitiesResponse",[])}}const Y_=new j_;class z_ extends a{constructor(){super("moegirl.moepad.CreateListOfCommunitiesRequest",[{no:1,name:"community_list_name",kind:"scalar",T:9}])}}const J_=new z_;class X_ extends a{constructor(){super("moegirl.moepad.CreateListOfCommunitiesResponse",[{no:1,name:"community_list_id",kind:"scalar",T:9}])}}const Z_=new X_;class Q_ extends a{constructor(){super("moegirl.moepad.NewArticleCommentRequest",[{no:1,name:"article_id",kind:"scalar",T:9},{no:2,name:"parent_id",kind:"scalar",T:9},{no:3,name:"content",kind:"scalar",T:9},{no:4,name:"community_id",kind:"scalar",T:9},{no:5,name:"license",kind:"enum",T:()=>["moegirl.moepad.config_enums.LicenseEnum",ie]},{no:6,name:"picture_links",kind:"scalar",repeat:2,T:9}])}}const eT=new Q_;class tT extends a{constructor(){super("moegirl.moepad.NewArticleCommentResponse",[{no:1,name:"article_comment_id",kind:"scalar",T:9},{no:2,name:"article_comment",kind:"message",T:()=>xt}])}}const nT=new tT;class sT extends a{constructor(){super("moegirl.moepad.ModifyArticleCommentRequest",[{no:1,name:"article_comment_id",kind:"scalar",T:9},{no:2,name:"content",kind:"scalar",T:9},{no:3,name:"community_id",kind:"scalar",T:9},{no:4,name:"license",kind:"enum",T:()=>["moegirl.moepad.config_enums.LicenseEnum",ie]},{no:5,name:"picture_links",kind:"scalar",repeat:2,T:9}])}}const oT=new sT;class rT extends a{constructor(){super("moegirl.moepad.ModifyArticleCommentResponse",[{no:1,name:"article_comment_id",kind:"scalar",T:9}])}}const iT=new rT;class aT extends a{constructor(){super("moegirl.moepad.GetArticleCommentListRequest",[{no:1,name:"article_id",kind:"scalar",T:9},{no:2,name:"offset",kind:"scalar",T:5},{no:3,name:"size",kind:"scalar",T:5}])}}const cT=new aT;class lT extends a{constructor(){super("moegirl.moepad.GetArticleCommentListWithUserInfoRequest",[{no:1,name:"post_filters",kind:"message",T:()=>ur}])}}const dT=new lT;class uT extends a{constructor(){super("moegirl.moepad.ExpressArticleCommentRequest",[{no:1,name:"article_comment_id",kind:"scalar",T:9},{no:2,name:"user_article_comment_expression",kind:"enum",T:()=>["moegirl.moepad.config_enums.UserPostExpression",ne]}])}}const mT=new uT;class pT extends a{constructor(){super("moegirl.moepad.ExpressArticleCommentResponse",[])}}const fT=new pT;class hT extends a{constructor(){super("moegirl.moepad.GetArticleCommentExpressionRequest",[{no:1,name:"article_comment_id",kind:"scalar",T:9},{no:2,name:"user_article_comment_expressions",kind:"enum",repeat:1,T:()=>["moegirl.moepad.config_enums.UserPostExpression",ne]}])}}const gT=new hT;class _T extends a{constructor(){super("moegirl.moepad.GetArticleCommentExpressionResponse",[{no:1,name:"user_article_comment_expressions",kind:"map",K:5,V:{kind:"scalar",T:5}}])}}const TT=new _T;class wT extends a{constructor(){super("moegirl.moepad.NewArticleRequest",[{no:1,name:"title",kind:"scalar",T:9},{no:2,name:"content",kind:"scalar",T:9},{no:3,name:"community_id",kind:"scalar",T:9},{no:4,name:"license",kind:"enum",T:()=>["moegirl.moepad.config_enums.LicenseEnum",ie]},{no:5,name:"picture_links",kind:"scalar",repeat:2,T:9}])}}const RT=new wT;class kT extends a{constructor(){super("moegirl.moepad.NewArticleResponse",[{no:1,name:"article_id",kind:"scalar",T:9}])}}const yT=new kT;class bT extends a{constructor(){super("moegirl.moepad.ModifyArticleRequest",[{no:1,name:"article_id",kind:"scalar",T:9},{no:2,name:"title",kind:"scalar",T:9},{no:3,name:"content",kind:"scalar",T:9},{no:4,name:"community_id",kind:"scalar",T:9},{no:5,name:"license",kind:"enum",T:()=>["moegirl.moepad.config_enums.LicenseEnum",ie]},{no:6,name:"picture_links",kind:"scalar",repeat:2,T:9}])}}const AT=new bT;class ET extends a{constructor(){super("moegirl.moepad.ModifyArticleResponse",[{no:1,name:"article_id",kind:"scalar",T:9}])}}const IT=new ET;class vT extends a{constructor(){super("moegirl.moepad.GetArticleListRequest",[{no:1,name:"community_id",kind:"scalar",T:9},{no:2,name:"offset",kind:"scalar",T:5},{no:3,name:"size",kind:"scalar",T:5}])}}const NT=new vT;class OT extends a{constructor(){super("moegirl.moepad.GetArticleListWithUserInfoRequest",[{no:1,name:"community_id",kind:"scalar",T:9},{no:2,name:"offset",kind:"scalar",T:5},{no:3,name:"size",kind:"scalar",T:5},{no:4,name:"censor_status_filters",kind:"enum",repeat:1,T:()=>["moegirl.moepad.config_enums.CensorStatus",Ne]}])}}const ST=new OT;class xT extends a{constructor(){super("moegirl.moepad.ExpressArticleRequest",[{no:1,name:"article_id",kind:"scalar",T:9},{no:2,name:"user_article_expression",kind:"enum",T:()=>["moegirl.moepad.config_enums.UserPostExpression",ne]}])}}const UT=new xT;class CT extends a{constructor(){super("moegirl.moepad.ExpressArticleResponse",[])}}const PT=new CT;class MT extends a{constructor(){super("moegirl.moepad.GetArticleExpressionRequest",[{no:1,name:"article_id",kind:"scalar",T:9},{no:2,name:"user_article_expressions",kind:"enum",repeat:1,T:()=>["moegirl.moepad.config_enums.UserPostExpression",ne]}])}}const LT=new MT;class GT extends a{constructor(){super("moegirl.moepad.GetArticleExpressionResponse",[{no:1,name:"user_article_expressions",kind:"map",K:5,V:{kind:"scalar",T:5}}])}}const $T=new GT;class qT extends a{constructor(){super("moegirl.moepad.SendGiftArticleRequest",[{no:1,name:"gift_name",kind:"scalar",T:9},{no:2,name:"gift_value",kind:"scalar",T:5},{no:3,name:"gift_message",kind:"scalar",T:9},{no:4,name:"donated_to_article_id",kind:"scalar",T:9}])}}const DT=new qT;class WT extends a{constructor(){super("moegirl.moepad.SendGiftArticleResponse",[{no:1,name:"gift_id",kind:"scalar",T:9}])}}const BT=new WT;class FT extends a{constructor(){super("moegirl.moepad.GetArticleRequest",[{no:1,name:"community_id",kind:"scalar",T:9},{no:2,name:"article_id",kind:"scalar",T:9}])}}const HT=new FT;class VT extends a{constructor(){super("moegirl.moepad.GetArticleResponse",[{no:1,name:"article",kind:"message",T:()=>dn}])}}const KT=new VT;new ae("moegirl.moepad.MoepadCommunityService",[{name:"NewArticle",options:{},I:RT,O:yT},{name:"ModifyArticle",options:{},I:AT,O:IT},{name:"GetArticleList",serverStreaming:!0,options:{},I:NT,O:dn},{name:"GetArticleListWithUserInfo",serverStreaming:!0,options:{},I:ST,O:gs},{name:"ExpressArticle",options:{},I:UT,O:PT},{name:"GetArticleExpression",options:{},I:LT,O:$T},{name:"GetArticle",options:{},I:HT,O:KT},{name:"GetArticleByIdWithUserInfo",options:{},I:S_,O:gs},{name:"NewArticleComment",options:{},I:eT,O:nT},{name:"ModifyArticleComment",options:{},I:oT,O:iT},{name:"GetArticleCommentList",serverStreaming:!0,options:{},I:cT,O:xt},{name:"GetArticleCommentListWithUserInfo",serverStreaming:!0,options:{},I:dT,O:t_},{name:"ExpressArticleComment",options:{},I:mT,O:fT},{name:"GetArticleCommentExpression",options:{},I:gT,O:TT},{name:"DeleteUserOwnArticleComment",options:{},I:y_,O:A_},{name:"CreateCommunity",options:{},I:U_,O:P_},{name:"GetCommunity",options:{},I:L_,O:$_},{name:"ModifyCommunity",options:{},I:D_,O:B_},{name:"GetWikiPageArticleByWikiPageIdWithUserInfo",options:{},I:N_,O:gs},{name:"GetWikiPageArticleCommentListWithUserInfo",serverStreaming:!0,options:{},I:I_,O:s_},{name:"GetListOfCommunitiesWithUserInfo",serverStreaming:!0,options:{},I:H_,O:r_},{name:"SetListOfCommunities",options:{},I:K_,O:Y_},{name:"CreateListOfCommunities",options:{},I:J_,O:Z_},{name:"SendGiftArticle",options:{},I:DT,O:BT},{name:"GetMessagesList",options:{},I:d_,O:m_},{name:"FetchUnreadCount",options:{},I:f_,O:g_},{name:"MarkAsRead",options:{},I:T_,O:R_}]);var mr=(e=>(e[e.UNKNOWN=0]="UNKNOWN",e[e.SERVING=1]="SERVING",e[e.NOT_SERVING=2]="NOT_SERVING",e[e.SERVICE_UNKNOWN=3]="SERVICE_UNKNOWN",e))(mr||{});class jT extends a{constructor(){super("grpc.health.v1.HealthCheckRequest",[{no:1,name:"service",kind:"scalar",T:9}])}}const pr=new jT;class YT extends a{constructor(){super("grpc.health.v1.HealthCheckResponse",[{no:1,name:"status",kind:"enum",T:()=>["grpc.health.v1.HealthCheckResponse.ServingStatus",mr]}])}}const fr=new YT;new ae("grpc.health.v1.Health",[{name:"Check",options:{},I:pr,O:fr},{name:"Watch",serverStreaming:!0,options:{},I:pr,O:fr}]);var hr=(e=>(e[e.DAILY=0]="DAILY",e[e.WEEKLY=1]="WEEKLY",e))(hr||{});class zT extends a{constructor(){super("moegirl.moepad.GetHomePopularTitleRequest",[{no:1,name:"mode",kind:"enum",T:()=>["moegirl.moepad.GetHomePopularTitleRequest.PopularTitleMode",hr]}])}}const JT=new zT;class XT extends a{constructor(){super("moegirl.moepad.GetHomePopularTitleResponse",[{no:1,name:"titles",kind:"scalar",T:9}])}}const ZT=new XT;class QT extends a{constructor(){super("moegirl.moepad.GetHomeRecentChangesRequest",[{no:1,name:"show",kind:"scalar",T:9},{no:2,name:"limit",kind:"scalar",T:9},{no:3,name:"type",kind:"scalar",T:9}])}}const ew=new QT;class tw extends a{constructor(){super("moegirl.moepad.GetHomeRecentChangesResponse",[{no:1,name:"result",kind:"scalar",T:9}])}}const nw=new tw;class sw extends a{constructor(){super("moegirl.moepad.GetSiteStatisticsRequest",[])}}const ow=new sw;class rw extends a{constructor(){super("moegirl.moepad.GetSiteStatisticsResponse",[{no:1,name:"result",kind:"scalar",T:9}])}}const iw=new rw;new ae("moegirl.moepad.MoepadHomelandService",[{name:"GetHomePopularTitle",options:{},I:JT,O:ZT},{name:"GetHomeRecentChanges",options:{},I:ew,O:nw},{name:"GetSiteStatistics",options:{},I:ow,O:iw}]);var mn=(e=>(e[e.COMMODITY_TYPE_UNDEFINED=0]="COMMODITY_TYPE_UNDEFINED",e[e.TOKEN_ONETIME=1]="TOKEN_ONETIME",e[e.MEMBERSHIP_ONETIME=2]="MEMBERSHIP_ONETIME",e[e.MEMBERSHIP_RECURRING=3]="MEMBERSHIP_RECURRING",e[e.MEMBERSHIP_TEST_ONE_TIME_2023_09_04=4]="MEMBERSHIP_TEST_ONE_TIME_2023_09_04",e[e.MEMBERSHIP_FIRST_TIME_DISCOUNT=5]="MEMBERSHIP_FIRST_TIME_DISCOUNT",e[e.MEMBERSHIP_FREE_FOR_ACTIVE_USER=6]="MEMBERSHIP_FREE_FOR_ACTIVE_USER",e[e.MEMBERSHIP_DOUBLE_FOR_FIRST_TWO_WEEK_BUYERS=7]="MEMBERSHIP_DOUBLE_FOR_FIRST_TWO_WEEK_BUYERS",e))(mn||{});class aw extends a{constructor(){super("moegirl.payment.UserPayment",[{no:1,name:"payment_id",kind:"scalar",T:3},{no:2,name:"commodity_title",kind:"scalar",T:9},{no:3,name:"payment_status",kind:"enum",T:()=>["moegirl.shared.payment.Payment.PaymentStatus",It]},{no:4,name:"commodity_type",kind:"enum",T:()=>["moegirl.payment.UserPayment.CommodityType",mn]},{no:5,name:"buy_time",kind:"message",T:()=>ce},{no:6,name:"duration_day",kind:"scalar",T:5},{no:7,name:"price",kind:"scalar",T:5},{no:8,name:"extra_info",kind:"scalar",T:9}])}}const cw=new aw;class lw extends a{constructor(){super("moegirl.moepad.ReceiveAppleReceiptRequest",[{no:1,name:"receipt",kind:"scalar",T:9},{no:2,name:"commodity_id",kind:"scalar",T:5},{no:3,name:"transaction_id",kind:"scalar",T:9}])}}const dw=new lw;class uw extends a{constructor(){super("moegirl.moepad.ReceiveAppleReceiptResponse",[{no:1,name:"order_id",kind:"scalar",T:3},{no:2,name:"order_status",kind:"enum",T:()=>["moegirl.shared.payment.Payment.PaymentStatus",It]}])}}const pw=new uw;class fw extends a{constructor(){super("moegirl.moepad.GetPaymentHistoryRequest",[{no:1,name:"page_index",kind:"scalar",T:5},{no:2,name:"page_size",kind:"scalar",T:5}])}}const hw=new fw;class gw extends a{constructor(){super("moegirl.moepad.GetPaymentHistoryResponse",[{no:1,name:"payment_history",kind:"message",repeat:1,T:()=>cw}])}}const _w=new gw;class Tw extends a{constructor(){super("moegirl.moepad.PurchaseRequest",[{no:1,name:"commodity_id",kind:"scalar",T:5},{no:2,name:"quantity",kind:"scalar",T:5},{no:3,name:"payment_method",kind:"enum",T:()=>["moegirl.shared.payment.Payment.PaymentMethod",Go]}])}}const ww=new Tw;class Rw extends a{constructor(){super("moegirl.moepad.PurchaseResponse",[{no:1,name:"order_id",kind:"scalar",T:3},{no:2,name:"status",kind:"enum",T:()=>["moegirl.shared.payment.Payment.PaymentStatus",It]},{no:3,name:"pay_platform_signature",kind:"scalar",T:9},{no:4,name:"order_id_v2",kind:"message",T:()=>as}])}}const kw=new Rw;class yw extends a{constructor(){super("moegirl.moepad.CheckAndUpdatePaymentStatusRequest",[{no:1,name:"order_id",kind:"scalar",T:3},{no:2,name:"order_id_v2",kind:"message",T:()=>as},{no:3,name:"apple_transaction",kind:"message",T:()=>Ew}])}}const bw=new yw;class Aw extends a{constructor(){super("moegirl.moepad.CheckAndUpdatePaymentStatusRequest.AppleTransaction",[{no:1,name:"transaction_id",kind:"scalar",T:9},{no:2,name:"receipt",kind:"scalar",T:9},{no:3,name:"is_sandbox",kind:"scalar",T:8}])}}const Ew=new Aw;class Iw extends a{constructor(){super("moegirl.moepad.CheckAndUpdatePaymentStatusResponse",[{no:1,name:"order_id",kind:"scalar",T:3},{no:2,name:"order_status",kind:"enum",T:()=>["moegirl.shared.payment.Payment.PaymentStatus",It]},{no:3,name:"order_id_v2",kind:"message",T:()=>as}])}}const vw=new Iw;class Nw extends a{constructor(){super("moegirl.moepad.Commodity",[{no:1,name:"id",kind:"scalar",T:5},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"description",kind:"scalar",T:9},{no:4,name:"type",kind:"enum",T:()=>["moegirl.payment.UserPayment.CommodityType",mn]},{no:5,name:"price",kind:"scalar",T:5},{no:6,name:"image",kind:"scalar",T:9},{no:7,name:"validity_period",kind:"scalar",T:5},{no:8,name:"discount",kind:"scalar",T:5},{no:9,name:"is_available",kind:"scalar",T:8},{no:10,name:"commodity_detail",kind:"message",T:()=>pn}])}}const Ow=new Nw;class Sw extends a{constructor(){super("moegirl.moepad.CommodityDetail",[{no:1,name:"commodity_type",kind:"enum",T:()=>["moegirl.payment.UserPayment.CommodityType",mn]},{no:2,name:"commodity_basic_info",kind:"message",T:()=>_c}])}}const pn=new Sw;class xw extends a{constructor(){super("moegirl.moepad.GetCommodityListRequest",[{no:1,name:"page",kind:"scalar",T:5},{no:2,name:"page_size",kind:"scalar",T:5}])}}const Uw=new xw;class Cw extends a{constructor(){super("moegirl.moepad.GetCommodityListResponse",[{no:1,name:"commodities",kind:"message",repeat:1,T:()=>Ow}])}}const Pw=new Cw;new ae("moegirl.moepad.MoepadPurchaseService",[{name:"Purchase",options:{},I:ww,O:kw},{name:"CheckAndUpdatePaymentStatus",options:{},I:bw,O:vw},{name:"GetCommodityList",options:{},I:Uw,O:Pw},{name:"GetPaymentHistory",options:{},I:hw,O:_w},{name:"ReceiveAppleReceipt",options:{},I:dw,O:pw}]);var gr=(e=>(e[e.UNKNOWN=0]="UNKNOWN",e[e.SHORT_REVIEW=1]="SHORT_REVIEW",e[e.LONG_REVIEW=2]="LONG_REVIEW",e[e.LONG_REVIEW_COMMENT=3]="LONG_REVIEW_COMMENT",e[e.ARTICLE=4]="ARTICLE",e[e.ARTICLE_COMMENT=5]="ARTICLE_COMMENT",e))(gr||{});class Mw extends a{constructor(){super("moegirl.moepad.ModifyArtworkCensorStatusRequest",[{no:1,name:"artwork_id",kind:"scalar",T:9},{no:2,name:"censor_status",kind:"enum",T:()=>["moegirl.moepad.config_enums.CensorStatus",Ne]}])}}const Lw=new Mw;class Gw extends a{constructor(){super("moegirl.moepad.ModifyArtworkCensorStatusResponse",[])}}const $w=new Gw;class qw extends a{constructor(){super("moegirl.moepad.GetArticleCensorStatusRequest",[{no:1,name:"offset",kind:"scalar",T:5},{no:2,name:"size",kind:"scalar",T:5},{no:3,name:"censor_status_filters",kind:"enum",repeat:1,T:()=>["moegirl.moepad.config_enums.CensorStatus",Ne]}])}}const Dw=new qw;class Ww extends a{constructor(){super("moegirl.moepad.GetArticleCensorStatusResponse",[{no:1,name:"articles",kind:"message",repeat:1,T:()=>dn}])}}const Bw=new Ww;class Fw extends a{constructor(){super("moegirl.moepad.GetArticleCommentCensorStatusRequest",[{no:1,name:"offset",kind:"scalar",T:5},{no:2,name:"size",kind:"scalar",T:5},{no:3,name:"censor_status_filters",kind:"enum",repeat:1,T:()=>["moegirl.moepad.config_enums.CensorStatus",Ne]}])}}const Hw=new Fw;class Vw extends a{constructor(){super("moegirl.moepad.GetArticleCommentCensorStatusResponse",[{no:1,name:"article_comments",kind:"message",repeat:1,T:()=>xt}])}}const Kw=new Vw;class jw extends a{constructor(){super("moegirl.moepad.ModifyPostCensorStatusRequest",[{no:1,name:"post_type_enum",kind:"enum",T:()=>["moegirl.moepad.config_enums.PostTypeEnum",gr]},{no:2,name:"post_id",kind:"scalar",T:9},{no:3,name:"censor_status",kind:"enum",T:()=>["moegirl.moepad.config_enums.CensorStatus",Ne]}])}}const Yw=new jw;class zw extends a{constructor(){super("moegirl.moepad.ModifyPostCensorStatusResponse",[])}}const Jw=new zw;class Xw extends a{constructor(){super("moegirl.moepad.GetAdminCommodityRequest",[{no:1,name:"page_index",kind:"scalar",T:5},{no:2,name:"page_size",kind:"scalar",T:5}])}}const Zw=new Xw;class Qw extends a{constructor(){super("moegirl.moepad.GetAdminCommoditytResponse",[{no:1,name:"commodity_detail",kind:"message",repeat:1,T:()=>pn}])}}const eR=new Qw;class tR extends a{constructor(){super("moegirl.moepad.CreateCommodityRequest",[{no:1,name:"commodity_detail",kind:"message",T:()=>pn}])}}const nR=new tR;class sR extends a{constructor(){super("moegirl.moepad.CreateCommodityResponse",[{no:1,name:"id",kind:"scalar",T:5}])}}const oR=new sR;class rR extends a{constructor(){super("moegirl.moepad.UpdateCommodityRequest",[{no:1,name:"id",kind:"scalar",T:5},{no:2,name:"commodity_detail",kind:"message",T:()=>pn}])}}const iR=new rR;class aR extends a{constructor(){super("moegirl.moepad.UpdateCommodityResponse",[{no:1,name:"id",kind:"scalar",T:5}])}}const cR=new aR;class lR extends a{constructor(){super("moegirl.moepad.RemoveCommodityRequest",[{no:1,name:"id",kind:"scalar",T:5}])}}new lR;class dR extends a{constructor(){super("moegirl.moepad.RemoveCommodityResponse",[{no:1,name:"id",kind:"scalar",T:5}])}}new dR;class uR extends a{constructor(){super("moegirl.moepad.RefundRequest",[{no:1,name:"order_id",kind:"scalar",T:3}])}}const mR=new uR;class pR extends a{constructor(){super("moegirl.moepad.RefundResponse",[{no:1,name:"refund_id",kind:"scalar",T:3},{no:2,name:"status",kind:"scalar",T:5}])}}const fR=new pR;class hR extends a{constructor(){super("moegirl.moepad.AddPaymentToUserRequest",[{no:1,name:"user_id",kind:"scalar",T:5},{no:2,name:"price",kind:"scalar",T:5},{no:3,name:"device_id",kind:"scalar",T:9},{no:4,name:"os",kind:"scalar",T:9},{no:5,name:"app_version",kind:"scalar",T:9},{no:6,name:"commodity_id",kind:"scalar",T:5},{no:7,name:"status",kind:"scalar",T:5},{no:8,name:"pay_method",kind:"scalar",T:5},{no:9,name:"pay_platform_order_id",kind:"scalar",T:9},{no:10,name:"pay_platform_detail",kind:"scalar",T:9},{no:11,name:"pay_platform_user_id",kind:"scalar",T:9},{no:12,name:"agreement_no",kind:"scalar",T:9},{no:13,name:"message",kind:"scalar",T:9}])}}const gR=new hR;class _R extends a{constructor(){super("moegirl.moepad.AddPaymentToUserResponse",[])}}const TR=new _R;class wR extends a{constructor(){super("moegirl.moepad.GetAllArtworksInCensorStatusPagedRequest",[{no:1,name:"page_index",kind:"scalar",T:5},{no:2,name:"page_size",kind:"scalar",T:5},{no:3,name:"censor_status",kind:"enum",repeat:1,T:()=>["moegirl.moepad.config_enums.CensorStatus",Ne]}])}}const RR=new wR;class kR extends a{constructor(){super("moegirl.moepad.GetAllArtworksInCensorStatusPagedResponse",[{no:1,name:"art_work",kind:"message",repeat:1,T:()=>Oe}])}}const yR=new kR;class bR extends a{constructor(){super("moegirl.moepad.ChangeArtworkCensorStatusRequest",[{no:1,name:"artwork_id",kind:"scalar",T:9},{no:2,name:"censor_status",kind:"enum",T:()=>["moegirl.moepad.config_enums.CensorStatus",Ne]}])}}const AR=new bR;class ER extends a{constructor(){super("moegirl.moepad.ChangeArtworkCensorStatusResponse",[])}}const IR=new ER;class vR extends a{constructor(){super("moegirl.moepad.UpdateArtworkTitleRequest",[{no:1,name:"artwork_id",kind:"scalar",T:9},{no:2,name:"title",kind:"scalar",T:9}])}}const NR=new vR;class OR extends a{constructor(){super("moegirl.moepad.UpdateArtworkTitleResponse",[])}}const SR=new OR;class xR extends a{constructor(){super("moegirl.moepad.UpdateArtworkLogoUrlRequest",[{no:1,name:"artwork_id",kind:"scalar",T:9},{no:2,name:"logo_url",kind:"scalar",T:9}])}}const UR=new xR;class CR extends a{constructor(){super("moegirl.moepad.UpdateArtworkLogoUrlResponse",[])}}const PR=new CR;class MR extends a{constructor(){super("moegirl.moepad.AddArtworkRelatedArtworkRequest",[{no:1,name:"artwork_id",kind:"scalar",T:9},{no:2,name:"related_artwork_id",kind:"scalar",T:9}])}}const LR=new MR;class GR extends a{constructor(){super("moegirl.moepad.AddArtworkRelatedArtworkResponse",[])}}const $R=new GR;class qR extends a{constructor(){super("moegirl.moepad.RemoveArtworkRelatedArtworkRequest",[{no:1,name:"artwork_id",kind:"scalar",T:9},{no:2,name:"related_artwork_id",kind:"scalar",T:9}])}}const DR=new qR;class WR extends a{constructor(){super("moegirl.moepad.RemoveArtworkRelatedArtworkResponse",[])}}const BR=new WR;class FR extends a{constructor(){super("moegirl.moepad.AddArtworkRelatedTitleRequest",[{no:1,name:"artwork_id",kind:"scalar",T:9},{no:2,name:"related_title",kind:"scalar",T:9}])}}const HR=new FR;class VR extends a{constructor(){super("moegirl.moepad.AddArtworkRelatedTitleResponse",[])}}const KR=new VR;class jR extends a{constructor(){super("moegirl.moepad.RemoveArtworkRelatedTitleRequest",[{no:1,name:"artwork_id",kind:"scalar",T:9},{no:2,name:"related_title",kind:"scalar",T:9}])}}const YR=new jR;class zR extends a{constructor(){super("moegirl.moepad.RemoveArtworkRelatedTitleResponse",[])}}const JR=new zR;new ae("moegirl.moepad.MoepadPurchaseAdministratorService",[{name:"GetAdminCommodityList",options:{},I:Zw,O:eR},{name:"CreateCommodity",options:{},I:nR,O:oR},{name:"UpdateCommodity",options:{},I:iR,O:cR},{name:"Refund",options:{},I:mR,O:fR},{name:"AddPaymentToUser",options:{},I:gR,O:TR},{name:"GetAllArtworksInCensorStatusPaged",options:{},I:RR,O:yR},{name:"ChangeArtworkCensorStatus",options:{},I:AR,O:IR},{name:"UpdateArtworkTitle",options:{},I:NR,O:SR},{name:"UpdateArtworkLogoUrl",options:{},I:UR,O:PR},{name:"AddArtworkRelatedArtwork",options:{},I:LR,O:$R},{name:"RemoveArtworkRelatedArtwork",options:{},I:DR,O:BR},{name:"AddArtworkRelatedTitle",options:{},I:HR,O:KR},{name:"RemoveArtworkRelatedTitle",options:{},I:YR,O:JR},{name:"ModifyPostCensorStatus",options:{},I:Yw,O:Jw},{name:"ModifyArtworkCensorStatus",options:{},I:Lw,O:$w},{name:"GetArticleCommentCensorStatus",options:{},I:Hw,O:Kw},{name:"GetArticleCensorStatus",options:{},I:Dw,O:Bw}]);var _r=(e=>(e[e.JPG=0]="JPG",e[e.PNG=1]="PNG",e[e.MP4=2]="MP4",e))(_r||{});class XR extends a{constructor(){super("moegirl.moepad.StoreFileRequest",[{no:1,name:"file_data",kind:"scalar",T:12},{no:2,name:"file_type",kind:"enum",T:()=>["moegirl.moepad.config_enums.FileType",_r]}])}}const ZR=new XR;class QR extends a{constructor(){super("moegirl.moepad.StoreFileResponse",[{no:1,name:"file_url",kind:"scalar",T:9}])}}const ek=new QR;new ae("moegirl.moepad.MoepadStorageService",[{name:"StoreFile",options:{},I:ZR,O:ek}]);var Tr=(e=>(e[e.TEN_YEAR_ANNIVERSARY=0]="TEN_YEAR_ANNIVERSARY",e))(Tr||{}),wr=(e=>(e[e.FIRST_EDIT=0]="FIRST_EDIT",e))(wr||{}),Rr=(e=>(e[e.EDITOR=0]="EDITOR",e))(Rr||{}),_s=(e=>(e[e.CHECKIN=0]="CHECKIN",e[e.USAGETIME=1]="USAGETIME",e[e.REVIEW=2]="REVIEW",e[e.SHARE=3]="SHARE",e[e.SPECIAL_CONTRIBUTION=4]="SPECIAL_CONTRIBUTION",e[e.PUNISHMENT=5]="PUNISHMENT",e[e.FIRST_TIME_LOGIN=6]="FIRST_TIME_LOGIN",e[e.FIRST_TIME_SET_MOBILE=7]="FIRST_TIME_SET_MOBILE",e[e.FIRST_TIME_SET_EMAIL=8]="FIRST_TIME_SET_EMAIL",e[e.FIRST_TIME_SET_AVATAR=9]="FIRST_TIME_SET_AVATAR",e))(_s||{});class tk extends a{constructor(){super("moegirl.moepad.type.MoePower",[{no:1,name:"moe_power_value",kind:"scalar",T:5},{no:2,name:"moe_power_record_number",kind:"scalar",T:3},{no:3,name:"moe_power_type",kind:"enum",T:()=>["moegirl.moepad.config_enums.MoePowerType",_s]},{no:4,name:"moe_power_create_time",kind:"message",T:()=>ce},{no:5,name:"revoked",kind:"scalar",T:8}])}}const nk=new tk;class sk extends a{constructor(){super("moegirl.moepad.type.UserExtraMoePower",[{no:1,name:"user_id",kind:"scalar",T:5},{no:2,name:"moe_power_record",kind:"message",repeat:1,T:()=>nk},{no:3,name:"total_moe_power",kind:"scalar",T:3},{no:4,name:"total_moe_power_record_number",kind:"scalar",T:3},{no:5,name:"check_in_times_today",kind:"scalar",T:5},{no:6,name:"usage_times_today",kind:"scalar",T:5},{no:7,name:"review_times_today",kind:"scalar",T:5},{no:8,name:"share_times_today",kind:"scalar",T:5}])}}const fn=new sk;class ok extends a{constructor(){super("moegirl.moepad.IsUserLoggedInRequest",[])}}const rk=new ok;class ik extends a{constructor(){super("moegirl.moepad.IsUserLoggedInResponse",[{no:1,name:"is_logged_in",kind:"scalar",T:8}])}}const ak=new ik;class ck extends a{constructor(){super("moegirl.moepad.GetUserMetadataRequest",[])}}const lk=new ck;class dk extends a{constructor(){super("moegirl.moepad.GetUserMetadataResponse",[{no:1,name:"get_user_info_response",kind:"message",T:()=>ls},{no:2,name:"get_user_membership_response",kind:"message",T:()=>kr},{no:3,name:"get_user_experiment_response",kind:"message",T:()=>er},{no:4,name:"get_user_moe_power_metadata_response",kind:"message",T:()=>yr},{no:5,name:"get_user_channel_response",kind:"message",T:()=>Zo}])}}const uk=new dk;class mk extends a{constructor(){super("moegirl.moepad.SetUserMembershipRequest",[{no:1,name:"user_id",kind:"scalar",T:5},{no:2,name:"user_membership",kind:"enum",T:()=>["moegirl.moepad.config_enums.UserMembership",st]},{no:3,name:"expiry_in_seconds",kind:"scalar",T:3}])}}const pk=new mk;class fk extends a{constructor(){super("moegirl.moepad.SetUserMembershipResponse",[])}}const hk=new fk;class gk extends a{constructor(){super("moegirl.moepad.GetUserMembershipRequest",[])}}const _k=new gk;class Tk extends a{constructor(){super("moegirl.moepad.GetUserMembershipResponse",[{no:1,name:"user_membership",kind:"enum",T:()=>["moegirl.moepad.config_enums.UserMembership",st]},{no:2,name:"expiry_in_seconds",kind:"scalar",T:3},{no:3,name:"user_id",kind:"scalar",T:5},{no:4,name:"username",kind:"scalar",T:9},{no:5,name:"original_member_start_in_seconds",kind:"scalar",T:3}])}}const kr=new Tk;class wk extends a{constructor(){super("moegirl.moepad.AddMoePowerRequest",[{no:1,name:"moe_power_type",kind:"enum",T:()=>["moegirl.moepad.config_enums.MoePowerType",_s]},{no:2,name:"user_id",kind:"scalar",T:5}])}}const Rk=new wk;class kk extends a{constructor(){super("moegirl.moepad.AddMoePowerResponse",[])}}const yk=new kk;class bk extends a{constructor(){super("moegirl.moepad.GetUserExtraMoePowerAllRecordRequest",[{no:1,name:"user_id",kind:"scalar",T:5}])}}const Ak=new bk;class Ek extends a{constructor(){super("moegirl.moepad.GetUserExtraMoePowerPageRequest",[{no:1,name:"user_id",kind:"scalar",T:5},{no:2,name:"page_number",kind:"scalar",T:5},{no:3,name:"page_size",kind:"scalar",T:5}])}}const Ik=new Ek;class vk extends a{constructor(){super("moegirl.moepad.GetUserMoePowerRankRequest",[{no:1,name:"user_id",kind:"scalar",T:5}])}}const Nk=new vk;class Ok extends a{constructor(){super("moegirl.moepad.GetUserMoePowerRankResponse",[{no:1,name:"rank",kind:"scalar",T:3}])}}const Sk=new Ok;class xk extends a{constructor(){super("moegirl.moepad.GetUserMoePowerMetadataRequest",[{no:1,name:"user_id",kind:"scalar",T:5}])}}const Uk=new xk;class Ck extends a{constructor(){super("moegirl.moepad.GetUserMoePowerMetadataResponse",[{no:1,name:"user_extra_moe_power",kind:"message",T:()=>fn}])}}const yr=new Ck;class Pk extends a{constructor(){super("moegirl.moepad.AddUserGroupToUserRequest",[{no:1,name:"user_group",kind:"enum",repeat:1,T:()=>["moegirl.moepad.config_enums.UserGroup",Rr]}])}}const Mk=new Pk;class Lk extends a{constructor(){super("moegirl.moepad.AddUserGroupToUserResponse",[])}}const Gk=new Lk;class $k extends a{constructor(){super("moegirl.moepad.AddAchievementToUserRequest",[{no:1,name:"user_achievement",kind:"enum",repeat:1,T:()=>["moegirl.moepad.config_enums.UserAchievement",wr]}])}}const qk=new $k;class Dk extends a{constructor(){super("moegirl.moepad.AddAchievementToUserResponse",[])}}const Wk=new Dk;class Bk extends a{constructor(){super("moegirl.moepad.AddBadgeToUserRequest",[{no:1,name:"user_badge",kind:"enum",repeat:1,T:()=>["moegirl.moepad.config_enums.UserBadge",Tr]}])}}const Fk=new Bk;class Hk extends a{constructor(){super("moegirl.moepad.AddBadgeToUserResponse",[])}}const Vk=new Hk;class Kk extends a{constructor(){super("moegirl.moepad.GetUserIdScoreRequest",[{no:1,name:"user_id",kind:"scalar",T:5}])}}const jk=new Kk;class Yk extends a{constructor(){super("moegirl.moepad.GetUserIdScoreResponse",[{no:1,name:"like_number",kind:"scalar",T:5}])}}const zk=new Yk,Ts=new ae("moegirl.moepad.MoepadUserService",[{name:"AddMoePowerToUser",options:{},I:Rk,O:yk},{name:"GetUserExtraMoePowerAllRecord",options:{},I:Ak,O:fn},{name:"GetUserExtraMoePowerPaged",options:{},I:Ik,O:fn},{name:"GetUserMoePowerRank",options:{},I:Nk,O:Sk},{name:"GetUserMoePowerMetadata",options:{},I:Uk,O:yr},{name:"AddUserGroupToUser",options:{},I:Mk,O:Gk},{name:"AddAchievementToUser",options:{},I:qk,O:Wk},{name:"AddBadgeToUser",options:{},I:Fk,O:Vk},{name:"GetUserIdScore",options:{},I:jk,O:zk},{name:"SetUserMemberShip",options:{},I:pk,O:hk},{name:"GetUserMemberShip",options:{},I:_k,O:kr},{name:"GetUserMetadata",options:{},I:lk,O:uk},{name:"IsUserLoggedIn",options:{},I:rk,O:ak}]);class Jk extends a{constructor(){super("moegirl.moepad.type.CommunityPost",[{no:1,name:"post",kind:"message",T:()=>He},{no:2,name:"title",kind:"scalar",T:9},{no:3,name:"license",kind:"enum",T:()=>["moegirl.moepad.config_enums.LicenseEnum",ie]},{no:4,name:"total_number_replies",kind:"scalar",T:5}])}}new Jk;class Xk extends a{constructor(){super("moegirl.moepad.type.MoepadConfig",[{no:1,name:"check_update_response",kind:"message",T:()=>ds},{no:2,name:"get_launch_ad_page_response",kind:"message",T:()=>Xo},{no:3,name:"custom_message_info_response",kind:"message",T:()=>us},{no:4,name:"get_banner_info_response",kind:"message",T:()=>ms},{no:5,name:"get_custom_image_info_response",kind:"message",T:()=>ps}])}}new Xk;class Zk extends a{constructor(){super("moegirl.moepad.type.Reservation",[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"activity_id",kind:"scalar",T:9},{no:3,name:"user_id",kind:"scalar",T:5},{no:4,name:"user_name",kind:"scalar",T:9},{no:5,name:"value",kind:"scalar",T:5},{no:6,name:"reservation_creation_time",kind:"message",T:()=>ce}])}}new Zk;class Qk extends a{constructor(){super("moegirl.moepad.type.UserExtraFlight",[{no:1,name:"user_id",kind:"scalar",T:5},{no:2,name:"channel",kind:"enum",T:()=>["moegirl.moepad.config_enums.Channel",Ot]}])}}const ey=new Qk;class ty extends a{constructor(){super("moegirl.moepad.type.UserExtra",[{no:10,name:"user_extra_moe_power",kind:"message",T:()=>fn},{no:11,name:"user_extra_flight",kind:"message",T:()=>ey}])}}new ty;var br=(e=>(e[e.UNKNOWN=0]="UNKNOWN",e[e.PROCESSING=1]="PROCESSING",e[e.COMPLETED=2]="COMPLETED",e))(br||{});class ny extends a{constructor(){super("moegirl.moepad.GeneratedImageDetail",[{no:1,name:"tags",kind:"scalar",repeat:1,T:5},{no:2,name:"thumbnail_url",kind:"scalar",T:9},{no:3,name:"image_url",kind:"scalar",T:9},{no:4,name:"create_time",kind:"message",T:()=>ce},{no:5,name:"status",kind:"enum",T:()=>["moegirl.moepad.GeneratedImageDetail.Status",br]}])}}const sy=new ny;var ws=(e=>(e[e.MENGBAO=0]="MENGBAO",e[e.QIANZHU=1]="QIANZHU",e[e.TIFA=2]="TIFA",e[e.QIANZHU_ENGLISH=3]="QIANZHU_ENGLISH",e[e.TIFA_ENGLISH=4]="TIFA_ENGLISH",e[e.HEIMUXING=5]="HEIMUXING",e[e.FULEI=6]="FULEI",e))(ws||{}),Ar=(e=>(e[e.STYLE=0]="STYLE",e[e.CHARACTER=1]="CHARACTER",e[e.HAIR_TYPE=2]="HAIR_TYPE",e[e.COSTUME=3]="COSTUME",e[e.FACIAL_EXPRESSION=4]="FACIAL_EXPRESSION",e[e.STANCE=5]="STANCE",e[e.BACKGROUND=6]="BACKGROUND",e[e.THEME=7]="THEME",e[e.TIME=8]="TIME",e[e.HAIR_COLOR=9]="HAIR_COLOR",e[e.IRIS_COLOR=10]="IRIS_COLOR",e[e.SPECIAL=11]="SPECIAL",e))(Ar||{}),Er=(e=>(e[e.SQUARE=0]="SQUARE",e[e.RECTANGLE_9_16=1]="RECTANGLE_9_16",e[e.RECTANGLE_3_4=2]="RECTANGLE_3_4",e[e.RECTANGLE_4_3=3]="RECTANGLE_4_3",e[e.RECTANGLE_16_9=4]="RECTANGLE_16_9",e))(Er||{}),Ir=(e=>(e[e.XIAOHANGSHU_CONTENT=0]="XIAOHANGSHU_CONTENT",e[e.XIAOHANGSHU_TITLE=1]="XIAOHANGSHU_TITLE",e[e.READING_ASSISTANT=2]="READING_ASSISTANT",e[e.DREAM_INTERPRETATION=3]="DREAM_INTERPRETATION",e[e.EMOJI_TRANSLATION=4]="EMOJI_TRANSLATION",e[e.CYBER_BUDDHA=5]="CYBER_BUDDHA",e[e.FORTUNE_TELLING=6]="FORTUNE_TELLING",e[e.STUDY_PLAN_DEVELOPMENT=7]="STUDY_PLAN_DEVELOPMENT",e[e.RECIPE_GENERATION=8]="RECIPE_GENERATION",e[e.BLAME_SHIFTING_ASSISTANT=9]="BLAME_SHIFTING_ASSISTANT",e[e.ARGUMENTATIVE_ASSISTANT=10]="ARGUMENTATIVE_ASSISTANT",e[e.OKR_GENERATOR=11]="OKR_GENERATOR",e[e.PRODUCT_REVIEW=12]="PRODUCT_REVIEW",e))(Ir||{});class oy extends a{constructor(){super("moegirl.moepad.ImageGenHistoryRequest",[{no:1,name:"offset",kind:"scalar",T:13},{no:2,name:"size",kind:"scalar",T:13}])}}const ry=new oy;class iy extends a{constructor(){super("moegirl.moepad.ImageGenHistoryResponse",[{no:1,name:"histories",kind:"message",repeat:1,T:()=>sy}])}}const ay=new iy;class cy extends a{constructor(){super("moegirl.moepad.AIConversationRequest",[{no:1,name:"question_text",kind:"scalar",T:9},{no:2,name:"context",kind:"message",repeat:1,T:()=>Ac},{no:3,name:"ai_chats",kind:"enum",T:()=>["moegirl.moepad.AIConversationRequest.AIChats",ws]},{no:4,name:"tts",kind:"scalar",T:8}])}}const ly=new cy;class dy extends a{constructor(){super("moegirl.moepad.AIConversationResponse",[{no:1,name:"answer_text",kind:"scalar",T:9},{no:2,name:"total_token_used",kind:"scalar",T:3},{no:3,name:"tts_output",kind:"scalar",T:12}])}}const uy=new dy;class my extends a{constructor(){super("moegirl.moepad.GetAIPhotoGenerationMetadataRequest",[])}}const py=new my;class fy extends a{constructor(){super("moegirl.moepad.GetAIPhotoGenerationMetadataResponse",[{no:1,name:"photo_generation_metadata_entry",kind:"message",repeat:1,T:()=>_y}])}}const hy=new fy;class gy extends a{constructor(){super("moegirl.moepad.GetAIPhotoGenerationMetadataResponse.PhotoGenerationMetadataEntry",[{no:1,name:"title",kind:"scalar",T:9},{no:2,name:"id",kind:"scalar",T:5},{no:3,name:"image_url",kind:"scalar",T:9},{no:4,name:"ai_tag_group",kind:"enum",T:()=>["moegirl.moepad.GetAIPhotoGenerationMetadataResponse.PhotoGenerationMetadataEntry.AITagGroup",Ar]}])}}const _y=new gy;class Ty extends a{constructor(){super("moegirl.moepad.GeneratePhotoRequest",[{no:1,name:"ids",kind:"scalar",repeat:1,T:5},{no:2,name:"ai_shape",kind:"enum",T:()=>["moegirl.moepad.GeneratePhotoRequest.AIShape",Er]},{no:3,name:"async",kind:"scalar",T:8}])}}const wy=new Ty;class Ry extends a{constructor(){super("moegirl.moepad.GeneratePhotoResponse",[{no:1,name:"image",kind:"scalar",T:9}])}}const ky=new Ry;class yy extends a{constructor(){super("moegirl.moepad.GenerateSpeechRequest",[{no:1,name:"charactor",kind:"enum",T:()=>["moegirl.moepad.AIConversationRequest.AIChats",ws]},{no:2,name:"text",kind:"scalar",T:9}])}}const by=new yy;class Ay extends a{constructor(){super("moegirl.moepad.GenerateSpeechResponse",[{no:1,name:"tts_output",kind:"scalar",T:12}])}}const Ey=new Ay;class Iy extends a{constructor(){super("moegirl.moepad.AIToolsRequest",[{no:1,name:"ai_tools",kind:"enum",T:()=>["moegirl.moepad.AIToolsRequest.AITools",Ir]},{no:2,name:"input_text",kind:"scalar",T:9}])}}const vy=new Iy;class Ny extends a{constructor(){super("moegirl.moepad.AIToolsResponse",[{no:1,name:"result_text",kind:"scalar",T:9},{no:2,name:"total_token_used",kind:"scalar",T:3}])}}const Oy=new Ny;new ae("moegirl.moepad.MoepadAIService",[{name:"Conversation",options:{},I:ly,O:uy},{name:"GetAIPhotoGenerationMetaData",options:{},I:py,O:hy},{name:"GeneratePhoto",options:{},I:wy,O:ky},{name:"GenerateSpeech",options:{},I:by,O:Ey},{name:"AITools",options:{},I:vy,O:Oy},{name:"GetImageGenHistory",options:{},I:ry,O:ay}]);class Sy{constructor(t){E(this,"typeName",Ts.typeName);E(this,"methods",Ts.methods);E(this,"options",Ts.options);this._transport=t}addMoePowerToUser(t,n){const s=this.methods[0],o=this._transport.mergeOptions(n);return ue("unary",this._transport,s,o,t)}getUserExtraMoePowerAllRecord(t,n){const s=this.methods[1],o=this._transport.mergeOptions(n);return ue("unary",this._transport,s,o,t)}getUserExtraMoePowerPaged(t,n){const s=this.methods[2],o=this._transport.mergeOptions(n);return ue("unary",this._transport,s,o,t)}getUserMoePowerRank(t,n){const s=this.methods[3],o=this._transport.mergeOptions(n);return ue("unary",this._transport,s,o,t)}getUserMoePowerMetadata(t,n){const s=this.methods[4],o=this._transport.mergeOptions(n);return ue("unary",this._transport,s,o,t)}addUserGroupToUser(t,n){const s=this.methods[5],o=this._transport.mergeOptions(n);return ue("unary",this._transport,s,o,t)}addAchievementToUser(t,n){const s=this.methods[6],o=this._transport.mergeOptions(n);return ue("unary",this._transport,s,o,t)}addBadgeToUser(t,n){const s=this.methods[7],o=this._transport.mergeOptions(n);return ue("unary",this._transport,s,o,t)}getUserIdScore(t,n){const s=this.methods[8],o=this._transport.mergeOptions(n);return ue("unary",this._transport,s,o,t)}setUserMemberShip(t,n){const s=this.methods[9],o=this._transport.mergeOptions(n);return ue("unary",this._transport,s,o,t)}getUserMemberShip(t,n){const s=this.methods[10],o=this._transport.mergeOptions(n);return ue("unary",this._transport,s,o,t)}getUserMetadata(t,n){const s=this.methods[11],o=this._transport.mergeOptions(n);return ue("unary",this._transport,s,o,t)}isUserLoggedIn(t,n){const s=this.methods[12],o=this._transport.mergeOptions(n);return ue("unary",this._transport,s,o,t)}}class xy extends Kt{constructor(n){super(n,"grpc");E(this,"transport",fc("https://api.moegirl.org.cn",{},{}));E(this,"userService",new Sy(this.transport));this.ctx=n}}var Uy=[{name:"",code:"AF",dial_code:"+93"},{name:"land",code:"AX",dial_code:"+358"},{name:"Shqipria",code:"AL",dial_code:"+355"},{name:"",code:"DZ",dial_code:"+213"},{name:"American Samoa",code:"AS",dial_code:"+1684"},{name:"Andorra",code:"AD",dial_code:"+376"},{name:"Angola",code:"AO",dial_code:"+244"},{name:"Anguilla",code:"AI",dial_code:"+1264"},{name:"Antarctica",code:"AQ",dial_code:"+672"},{name:"Antigua and Barbuda",code:"AG",dial_code:"+1268"},{name:"Argentina",code:"AR",dial_code:"+54"},{name:"",code:"AM",dial_code:"+374"},{name:"Aruba",code:"AW",dial_code:"+297"},{name:"Australia",code:"AU",dial_code:"+61"},{name:"sterreich",code:"AT",dial_code:"+43"},{name:"Azrbaycan",code:"AZ",dial_code:"+994"},{name:"Bahamas",code:"BS",dial_code:"+1242"},{name:"",code:"BH",dial_code:"+973"},{name:"Bangladesh",code:"BD",dial_code:"+880"},{name:"Barbados",code:"BB",dial_code:"+1246"},{name:"",code:"BY",dial_code:"+375"},{name:"Belgi",code:"BE",dial_code:"+32"},{name:"Belize",code:"BZ",dial_code:"+501"},{name:"Bnin",code:"BJ",dial_code:"+229"},{name:"Bermuda",code:"BM",dial_code:"+1441"},{name:"brug-yul",code:"BT",dial_code:"+975"},{name:"Bolivia",code:"BO",dial_code:"+591"},{name:"Bosna i Hercegovina",code:"BA",dial_code:"+387"},{name:"Botswana",code:"BW",dial_code:"+267"},{name:"Bouvetya",code:"BV",dial_code:"+47"},{name:"Brasil",code:"BR",dial_code:"+55"},{name:"British Indian Ocean Territory",code:"IO",dial_code:"+246"},{name:"Negara Brunei Darussalam",code:"BN",dial_code:"+673"},{name:"",code:"BG",dial_code:"+359"},{name:"Burkina Faso",code:"BF",dial_code:"+226"},{name:"Burundi",code:"BI",dial_code:"+257"},{name:"Cambodia",code:"KH",dial_code:"+855"},{name:"Cameroon",code:"CM",dial_code:"+237"},{name:"Canada",code:"CA",dial_code:"+1"},{name:"Cabo Verde",code:"CV",dial_code:"+238"},{name:"Cayman Islands",code:"KY",dial_code:"+1345"},{name:"Kdrsse t Bafrka",code:"CF",dial_code:"+236"},{name:"Tchad",code:"TD",dial_code:"+235"},{name:"Chile",code:"CL",dial_code:"+56"},{name:"",code:"CN",dial_code:"+86"},{name:"Christmas Island",code:"CX",dial_code:"+61"},{name:"Cocos (Keeling) Islands",code:"CC",dial_code:"+61"},{name:"Colombia",code:"CO",dial_code:"+57"},{name:"Komori",code:"KM",dial_code:"+269"},{name:"Rpublique du Congo",code:"CG",dial_code:"+242"},{name:"Rpublique dmocratique du Congo",code:"CD",dial_code:"+243"},{name:"Cook Islands",code:"CK",dial_code:"+682"},{name:"Costa Rica",code:"CR",dial_code:"+506"},{name:"Cte d'Ivoire",code:"CI",dial_code:"+225"},{name:"Hrvatska",code:"HR",dial_code:"+385"},{name:"Cuba",code:"CU",dial_code:"+53"},{name:"",code:"CY",dial_code:"+357"},{name:"esk republika",code:"CZ",dial_code:"+420"},{name:"Danmark",code:"DK",dial_code:"+45"},{name:"Djibouti",code:"DJ",dial_code:"+253"},{name:"Dominica",code:"DM",dial_code:"+1767"},{name:"Repblica Dominicana",code:"DO",dial_code:"+1"},{name:"Ecuador",code:"EC",dial_code:"+593"},{name:"",code:"EG",dial_code:"+20"},{name:"El Salvador",code:"SV",dial_code:"+503"},{name:"Guinea Ecuatorial",code:"GQ",dial_code:"+240"},{name:"",code:"ER",dial_code:"+291"},{name:"Eesti",code:"EE",dial_code:"+372"},{name:"",code:"ET",dial_code:"+251"},{name:"Falkland Islands",code:"FK",dial_code:"+500"},{name:"Froyar",code:"FO",dial_code:"+298"},{name:"Fiji",code:"FJ",dial_code:"+679"},{name:"Suomi",code:"FI",dial_code:"+358"},{name:"France",code:"FR",dial_code:"+33"},{name:"Guyane franaise",code:"GF",dial_code:"+594"},{name:"Polynsie franaise",code:"PF",dial_code:"+689"},{name:"Territoire des Terres australes et antarctiques fr",code:"TF",dial_code:"+262"},{name:"Gabon",code:"GA",dial_code:"+241"},{name:"Gambia",code:"GM",dial_code:"+220"},{name:"",code:"GE",dial_code:"+995"},{name:"Deutschland",code:"DE",dial_code:"+49"},{name:"Ghana",code:"GH",dial_code:"+233"},{name:"Gibraltar",code:"GI",dial_code:"+350"},{name:"",code:"GR",dial_code:"+30"},{name:"Kalaallit Nunaat",code:"GL",dial_code:"+299"},{name:"Grenada",code:"GD",dial_code:"+1473"},{name:"Guadeloupe",code:"GP",dial_code:"+590"},{name:"Guam",code:"GU",dial_code:"+1671"},{name:"Guatemala",code:"GT",dial_code:"+502"},{name:"Guernsey",code:"GG",dial_code:"+44"},{name:"Guine",code:"GN",dial_code:"+224"},{name:"Guin-Bissau",code:"GW",dial_code:"+245"},{name:"Guyana",code:"GY",dial_code:"+592"},{name:"Hati",code:"HT",dial_code:"+509"},{name:"Heard Island and McDonald Islands",code:"HM",dial_code:"+0"},{name:"Vaticano",code:"VA",dial_code:"+379"},{name:"Honduras",code:"HN",dial_code:"+504"},{name:"",code:"HK",dial_code:"+852"},{name:"Magyarorszg",code:"HU",dial_code:"+36"},{name:"sland",code:"IS",dial_code:"+354"},{name:"",code:"IN",dial_code:"+91"},{name:"Indonesia",code:"ID",dial_code:"+62"},{name:"",code:"IR",dial_code:"+98"},{name:"",code:"IQ",dial_code:"+964"},{name:"ire",code:"IE",dial_code:"+353"},{name:"Isle of Man",code:"IM",dial_code:"+44"},{name:"",code:"IL",dial_code:"+972"},{name:"Italia",code:"IT",dial_code:"+39"},{name:"Jamaica",code:"JM",dial_code:"+1876"},{name:"",code:"JP",dial_code:"+81"},{name:"Jersey",code:"JE",dial_code:"+44"},{name:"",code:"JO",dial_code:"+962"},{name:"",code:"KZ",dial_code:"+7"},{name:"Kenya",code:"KE",dial_code:"+254"},{name:"Kiribati",code:"KI",dial_code:"+686"},{name:"",code:"KP",dial_code:"+850"},{name:"",code:"KR",dial_code:"+82"},{name:"Republika e Kosovs",code:"XK",dial_code:"+383"},{name:"",code:"KW",dial_code:"+965"},{name:"",code:"KG",dial_code:"+996"},{name:"",code:"LA",dial_code:"+856"},{name:"Latvija",code:"LV",dial_code:"+371"},{name:"",code:"LB",dial_code:"+961"},{name:"Lesotho",code:"LS",dial_code:"+266"},{name:"Liberia",code:"LR",dial_code:"+231"},{name:"",code:"LY",dial_code:"+218"},{name:"Liechtenstein",code:"LI",dial_code:"+423"},{name:"Lietuva",code:"LT",dial_code:"+370"},{name:"Luxembourg",code:"LU",dial_code:"+352"},{name:"",code:"MO",dial_code:"+853"},{name:"",code:"MK",dial_code:"+389"},{name:"Madagasikara",code:"MG",dial_code:"+261"},{name:"Malawi",code:"MW",dial_code:"+265"},{name:"Malaysia",code:"MY",dial_code:"+60"},{name:"Maldives",code:"MV",dial_code:"+960"},{name:"Mali",code:"ML",dial_code:"+223"},{name:"Malta",code:"MT",dial_code:"+356"},{name:"Maje",code:"MH",dial_code:"+692"},{name:"Martinique",code:"MQ",dial_code:"+596"},{name:"",code:"MR",dial_code:"+222"},{name:"Maurice",code:"MU",dial_code:"+230"},{name:"Mayotte",code:"YT",dial_code:"+262"},{name:"Mxico",code:"MX",dial_code:"+52"},{name:"Micronesia",code:"FM",dial_code:"+691"},{name:"Moldova",code:"MD",dial_code:"+373"},{name:"Monaco",code:"MC",dial_code:"+377"},{name:" ",code:"MN",dial_code:"+976"},{name:" ",code:"ME",dial_code:"+382"},{name:"Montserrat",code:"MS",dial_code:"+1664"},{name:"",code:"MA",dial_code:"+212"},{name:"Moambique",code:"MZ",dial_code:"+258"},{name:"Myanmar",code:"MM",dial_code:"+95"},{name:"Namibia",code:"NA",dial_code:"+264"},{name:"Nauru",code:"NR",dial_code:"+674"},{name:"",code:"NP",dial_code:"+977"},{name:"Nederland",code:"NL",dial_code:"+31"},{name:"Netherlands Antilles",code:"AN",dial_code:"+599"},{name:"Nouvelle-Caldonie",code:"NC",dial_code:"+687"},{name:"New Zealand",code:"NZ",dial_code:"+64"},{name:"Nicaragua",code:"NI",dial_code:"+505"},{name:"Niger",code:"NE",dial_code:"+227"},{name:"Nigeria",code:"NG",dial_code:"+234"},{name:"Niu",code:"NU",dial_code:"+683"},{name:"Norfolk Island",code:"NF",dial_code:"+672"},{name:"Northern Mariana Islands",code:"MP",dial_code:"+1670"},{name:"Norge",code:"NO",dial_code:"+47"},{name:"",code:"OM",dial_code:"+968"},{name:"Pakistan",code:"PK",dial_code:"+92"},{name:"Palau",code:"PW",dial_code:"+680"},{name:"",code:"PS",dial_code:"+970"},{name:"Panam",code:"PA",dial_code:"+507"},{name:"Papua Niugini",code:"PG",dial_code:"+675"},{name:"Paraguay",code:"PY",dial_code:"+595"},{name:"Per",code:"PE",dial_code:"+51"},{name:"Pilipinas",code:"PH",dial_code:"+63"},{name:"Pitcairn Islands",code:"PN",dial_code:"+64"},{name:"Polska",code:"PL",dial_code:"+48"},{name:"Portugal",code:"PT",dial_code:"+351"},{name:"Puerto Rico",code:"PR",dial_code:"+1939"},{name:"Puerto Rico",code:"PR",dial_code:"+1787"},{name:"",code:"QA",dial_code:"+974"},{name:"Romnia",code:"RO",dial_code:"+40"},{name:"",code:"RU",dial_code:"+7"},{name:"Rwanda",code:"RW",dial_code:"+250"},{name:"La Runion",code:"RE",dial_code:"+262"},{name:"Saint-Barthlemy",code:"BL",dial_code:"+590"},{name:"Saint Helena",code:"SH",dial_code:"+290"},{name:"Saint Kitts and Nevis",code:"KN",dial_code:"+1869"},{name:"Saint Lucia",code:"LC",dial_code:"+1758"},{name:"Saint-Martin",code:"MF",dial_code:"+590"},{name:"Saint-Pierre-et-Miquelon",code:"PM",dial_code:"+508"},{name:"Saint Vincent and the Grenadines",code:"VC",dial_code:"+1784"},{name:"Samoa",code:"WS",dial_code:"+685"},{name:"San Marino",code:"SM",dial_code:"+378"},{name:"So Tom e Prncipe",code:"ST",dial_code:"+239"},{name:" ",code:"SA",dial_code:"+966"},{name:"Sngal",code:"SN",dial_code:"+221"},{name:"",code:"RS",dial_code:"+381"},{name:"Seychelles",code:"SC",dial_code:"+248"},{name:"Sierra Leone",code:"SL",dial_code:"+232"},{name:"Singapore",code:"SG",dial_code:"+65"},{name:"Slovensko",code:"SK",dial_code:"+421"},{name:"Slovenija",code:"SI",dial_code:"+386"},{name:"Solomon Islands",code:"SB",dial_code:"+677"},{name:"Soomaaliya",code:"SO",dial_code:"+252"},{name:"South Africa",code:"ZA",dial_code:"+27"},{name:"South Sudan",code:"SS",dial_code:"+211"},{name:"South Georgia",code:"GS",dial_code:"+500"},{name:"Espaa",code:"ES",dial_code:"+34"},{name:"Sri Lanka",code:"LK",dial_code:"+94"},{name:"",code:"SD",dial_code:"+249"},{name:"Suriname",code:"SR",dial_code:"+597"},{name:"Svalbard og Jan Mayen",code:"SJ",dial_code:"+47"},{name:"Swaziland",code:"SZ",dial_code:"+268"},{name:"Sverige",code:"SE",dial_code:"+46"},{name:"Schweiz",code:"CH",dial_code:"+41"},{name:"",code:"SY",dial_code:"+963"},{name:"",code:"TW",dial_code:"+886"},{name:"",code:"TJ",dial_code:"+992"},{name:"Tanzania",code:"TZ",dial_code:"+255"},{name:"",code:"TH",dial_code:"+66"},{name:"Timor-Leste",code:"TL",dial_code:"+670"},{name:"Togo",code:"TG",dial_code:"+228"},{name:"Tokelau",code:"TK",dial_code:"+690"},{name:"Tonga",code:"TO",dial_code:"+676"},{name:"Trinidad and Tobago",code:"TT",dial_code:"+1868"},{name:"",code:"TN",dial_code:"+216"},{name:"Trkiye",code:"TR",dial_code:"+90"},{name:"Trkmenistan",code:"TM",dial_code:"+993"},{name:"Turks and Caicos Islands",code:"TC",dial_code:"+1649"},{name:"Tuvalu",code:"TV",dial_code:"+688"},{name:"Uganda",code:"UG",dial_code:"+256"},{name:"",code:"UA",dial_code:"+380"},{name:"   ",code:"AE",dial_code:"+971"},{name:"United Kingdom",code:"GB",dial_code:"+44"},{name:"United States",code:"US",dial_code:"+1"},{name:"Uruguay",code:"UY",dial_code:"+598"},{name:"Ozbekiston",code:"UZ",dial_code:"+998"},{name:"Vanuatu",code:"VU",dial_code:"+678"},{name:"Venezuela",code:"VE",dial_code:"+58"},{name:"Vit Nam",code:"VN",dial_code:"+84"},{name:"British Virgin Islands",code:"VG",dial_code:"+1284"},{name:"United States Virgin Islands",code:"VI",dial_code:"+1340"},{name:"Wallis et Futuna",code:"WF",dial_code:"+681"},{name:"",code:"YE",dial_code:"+967"},{name:"Zambia",code:"ZM",dial_code:"+260"},{name:"Zimbabwe",code:"ZW",dial_code:"+263"}];Uy.map(e=>Ue(K({},e),{label:`${e.code} ${e.name} ${e.dial_code}`,value:`${e.dial_code}|${e.code}`,flag:`https://app.moegirl.org.cn/wiki/extensions/MoeAuth/assets/flags/${e.code.toLowerCase()}.png`}));var Rs;(e=>{function t(o,r){if(typeof o=="string")return{kind:{oneofKind:"e164Number",e164Number:s(`${o}${r}`)},extension:""};if("areaCode"in o)return{kind:{oneofKind:"e164Number",e164Number:s(`${o.areaCode}${o.phoneNumber}`)},extension:""};if("kind"in o&&o.kind.oneofKind==="e164Number")return o.kind.e164Number=s(o.kind.e164Number),o;throw new Error("Invalid input")}e.toGooglePhoneNumber=t;function n(o){if(o.kind.oneofKind==="e164Number")return s(o.kind.e164Number);throw new TypeError("Invalid phoneNumber")}e.toPhoneString=n;function s(o){return o.split("").reduce((r,i)=>i==="+"||!isNaN(Number(i))?r.concat(i):r,"")}})(Rs||(Rs={}));var vr;(e=>{function t({mostSignificantBits:s,leastSignificantBits:o}){const r=BigInt(s),i=BigInt(o),c=r.toString(16).padStart(16,"0"),l=i.toString(16).padStart(16,"0"),d=r<0?(Je(BigInt(2),BigInt(64))+r).toString(16):c,_=i<0?(Je(BigInt(2),BigInt(64))+i).toString(16):l;return`${d.substring(0,8)}-${d.substring(8,12)}-${d.substring(12,16)}-${_.substring(0,4)}-${_.substring(4,16)}`}e.toStandardUUID=t;function n(s){const o=s.replace(/-/g,""),r=o.substring(0,16),i=o.substring(16),c=BigInt(`0x${r}`),l=BigInt(`0x${i}`),d=c>Je(BigInt(2),BigInt(63))-BigInt(1)?(c-Je(BigInt(2),BigInt(64))).toString():c.toString(),_=l>Je(BigInt(2),BigInt(63))-BigInt(1)?(l-Je(BigInt(2),BigInt(64))).toString():l.toString();return{mostSignificantBits:d,leastSignificantBits:_}}e.fromStandardUUID=n})(vr||(vr={}));const Cy=e=>new Promise(t=>setTimeout(t,e)),Py=(e,t)=>G(this,null,function*(){return Promise.race([e,Cy(t).then(()=>{throw new Error("timeout",{cause:e})})])});class Pe{constructor(t){E(this,"_raw");E(this,"info");E(this,"membership");E(this,"channel");E(this,"moepower");this._raw=t,this.info=Pe.normalizeBasicInfo(t),this.membership=Pe.normalizeMembership(t),this.channel=Pe.normalizeUserChannel(t),this.moepower=Pe.normalizeMoePowerInfo(t)}static createDefault(){return new Pe({getUserInfoResponse:void 0,getUserMembershipResponse:void 0,getUserChannelResponse:void 0,getUserMoePowerMetadataResponse:void 0})}get raw(){return this._raw}get isLoggedIn(){return!!this.info.userId}get isGood(){var t,n;return((t=this._raw.getUserInfoResponse.userId)==null?void 0:t.toString())===((n=this._raw.getUserMembershipResponse.userId)==null?void 0:n.toString())}static normalizeBasicInfo(t){const n=t.getUserInfoResponse;return{userName:(n==null?void 0:n.username)||"",userId:+((n==null?void 0:n.userId)||"0"),userAvatar:(n==null?void 0:n.avatar)||"",userGroups:(n==null?void 0:n.groups)||[],phoneNumber:n!=null&&n.phoneNumber?Rs.toPhoneString(n.phoneNumber):""}}static normalizeMembership(t){var n,s,o;return{type:((n=t.getUserMembershipResponse)==null?void 0:n.userMembership)||st.FREE_MEMBERSHIP,expiryInSeconds:((s=t.getUserMembershipResponse)==null?void 0:s.expiryInSeconds)||"0",originalMemberStartInSeconds:((o=t.getUserMembershipResponse)==null?void 0:o.originalMemberStartInSeconds)||"0"}}static normalizeUserChannel(t){var n;return((n=t.getUserChannelResponse)==null?void 0:n.channel)||Ot.PROD}static normalizeMoePowerInfo(t){var n,s,o,r;return{total:((s=(n=t.getUserMoePowerMetadataResponse)==null?void 0:n.userExtraMoePower)==null?void 0:s.totalMoePower)||"0",records:((r=(o=t.getUserMoePowerMetadataResponse)==null?void 0:o.userExtraMoePower)==null?void 0:r.moePowerRecord)||[]}}}const hn=Symbol.for("__MOEPAD_USER_DATA__");function Nr(e,t=!1,n=3){return(!window[hn]||t)&&(window[hn]=Py(e.getUserMetadata({}).response,5*1e3).then(s=>new Pe(s)).catch(s=>{if((s==null?void 0:s.code)===v.UNAUTHENTICATED||(s==null?void 0:s.code)==="UNAUTHENTICATED")return Pe.createDefault();if(window[hn]=void 0,n>0)return Nr(e,t,n-1);throw s})),window[hn]}class Or extends Kt{constructor(n){super(n,"user",!1);E(this,"userData");E(this,"client");this.ctx=n,this.client=this.ctx.grpc.userService}start(){return G(this,null,function*(){this.userData=yield this.init()})}init(){return G(this,null,function*(){return Nr(this.client,!1,0).then(n=>n).catch(n=>Pe.createDefault())})}isVIP(){return!!(this!=null&&this.userData&&this.userData.isLoggedIn&&this.userData.membership.type===st.BASIC_MEMBERSHIP&&Date.now()<=+this.userData.membership.expiryInSeconds*1e3)}}E(Or,"inject",["grpc"]);function $(e,t,n){const s=document.createElement(e);if((t instanceof Element||typeof t=="string")&&(t=[t]),Array.isArray(t))s.append(...t);else if(t){const o=t;Object.keys(o).forEach(r=>{typeof r!="undefined"&&s.setAttribute(r,""+o[r])})}return(n instanceof Element||typeof n=="string")&&(n=[n]),Array.isArray(n)&&s.append(...n),s}function My(e,t){const n=Date.now();(e===null||typeof e=="undefined")&&(e=0),(t===null||typeof t=="undefined")&&(t=n+1e3*60*60*24);let s=new Date(e).getTime(),o=new Date(t).getTime();return[s,o].includes(NaN)?!0:(s>o&&([s,o]=[o,s]),n>s&&n<o)}function Sr(e=""){const t=Ur(e),n=Date.now(),s=localStorage.getItem(t)||"";let o=0;try{o=Gy(s).getTime()}catch(r){return!1}return!(isNaN(o)||o-n<0||o-n>24*60*60*1e3)}function xr(e="",t=0){const n=Ur(e),s=Date.now(),o=new Date(s+t);return localStorage.setItem(n,Ly(o)),o}const gn=e=>e.split("").reverse().join(""),Ur=(e="")=>btoa(`MoegirlInsight-dissmiss-${e}`),Ly=e=>gn(btoa(gn(e.toISOString()))),Gy=e=>new Date(gn(atob(gn(e))));class _n extends Xn{constructor(t,n){super(),this.config=t,this.options=n}apply(t){return $("div")}}class Tn extends _n{constructor(t){super(t),this.config=t,window.adsbygoogle=window.adsbygoogle||[];const n=new URL(t.links_to).searchParams.get("adClient");n&&!document.querySelector(`script[insight-slot="adsense"][client="${n}"]`)&&document.body.append($("script",{src:`https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?${new URLSearchParams({client:n})}`,async:!0,crossOrigin:"anonymous",client:n,"insight-slot":"adsense"}))}apply(t){var i;const n=Tn.createNode(this.config),s=$("span",{style:"font-family:monospace;line-height:0;word-break:break-all"},"0".repeat(document.documentElement.clientWidth));if(!n.style.width){t.append(s);const c=s.offsetWidth;n.dataset.availableWidth=""+c,n.style.width=`${c}px`,s.style.display="none"}t.append(n),setTimeout(()=>{adsbygoogle.push({})});const o=setTimeout(()=>{this.emit("unfilled")},((i=this.config.slot_options)==null?void 0:i.timeout)||7e3);return new MutationObserver(()=>{const c=n.dataset.adStatus;typeof c=="undefined"||(["done","unfilled"].includes(c)?(clearTimeout(o),n.remove(),this.bail("unfilled")):(clearTimeout(o),this.bail("filled")))}).observe(n,{attributes:!0,childList:!1}),n}static createNode(t){var o;const n=$("ins",{class:"adsbygoogle",style:`display:inline-block;${((o=t.slot_options)==null?void 0:o.style)||""}`}),s=Object.fromEntries(new URL(t.links_to).searchParams);for(const r in s)n.dataset[r]=s[r];return n}}class Cr extends _n{constructor(n,s={delay:3e3}){document.querySelector('script[insight-slot="baidu-union"]')||document.body.append($("script",{src:"https://cpro.baidustatic.com/cpro/ui/cm.js",async:!0,"insight-slot":"baidu-union"}));super(n,s);E(this,"_params");E(this,"_className");E(this,"_sid");E(this,"_tuid");this.config=n,this.options=s,this._params=Object.fromEntries(new URL(this.config.links_to).searchParams.entries())}apply(n){if(!n)throw new Error("Missing parent");const s=this.createNode();return n.appendChild(s),this.listenMessage(s),(window.slotbydup=window.slotbydup||[]).push({id:this._params.id,container:this._className,async:!0}),s}createNode(){const n=this._className=Math.random().toString(32).substring(2),s=$("div");return s.classList.add(n),this._sid=s.dataset.sid=this._params.id,this._tuid=s.dataset.tuid=this._sid+"_"+document.querySelectorAll(`[data-sid="${this._params.id}"]`).length,s}listenMessage(n){const s=setTimeout(()=>{this.emit("unfilled")},this.options.delay);window.addEventListener("message",o=>{if(o.origin!=="https://pos.baidu.com"||!o.data)return;const r=JSON.parse(o.data);r.tuid===this._tuid&&r.dspid&&(clearTimeout(s),r.dspid==="0"||r.noadx==="1"?this.emit("unfilled"):this.emit("filled"))})}}function $y(e,t){const n={};return e.forEach(s=>{const o=t(s);n[o]=n[o]!=null?[...n[o],s]:[s]}),n}function qy(e,t=0){return G(this,null,function*(){if(t=Math.max(0,Math.min(1,t)),!e)return Promise.reject(new Error("Missing selector"));const n=typeof e=="string"?document.querySelector(e):e;return n?new Promise(s=>{const o=new IntersectionObserver(r=>{const{isIntersecting:i,intersectionRatio:c}=r[0];i&&c>=t&&(o.disconnect(),s(n))},{threshold:[0,1,t]});o.observe(n)}):Promise.reject(new Error("Missing parent node"))})}function Pr(e,t,n=5e3){return G(this,null,function*(){return e?e.querySelector(t)||new Promise(s=>{const o=setTimeout(()=>{r.disconnect(),s(null)},n),r=new MutationObserver(()=>{const i=e.querySelector(t);i&&(r.disconnect(),clearTimeout(o),s(i))});r.observe(e,{childList:!0,subtree:!0})}):null})}const Dy=["Googlebot","Googlebot-Image","Googlebot-Video","Googlebot-Mobile","Mediapartners-Google","AdsBot-Google","Bingbot","BingPreview","msnbot","Slurp","Baiduspider","BaiduImageSpider","BaiduVideoSpider","Yandex","YandexBot","YandexImages","YandexMobileBot","YandexVideo","DuckDuckBot","Sogou","Sogou web spider","Sogou spider","Sogou Orion spider","360Spider"];function Wy(e=navigator.userAgent){return Dy.some(t=>e.includes(t))}class Me{constructor(t,n,s=!0){E(this,"getElementUntilIntoView",qy.bind(this));this.ctx=t,this.name=n,t.root.render[n]=this,s&&this.autoApplyInOrder()}autoApplyInOrder(){return this.relatedConfigs.length&&Object.values(this.relatedConfigsByGroup).forEach(t=>this.apply(t)),this}apply(t){}get relatedConfigs(){const t=this.ctx.configs.filter(n=>n.render===this.name&&My(n.enable_from,n.enable_to)).filter(n=>n.disabled?!1:this.checkDeviceType(n)?this.ctx.region.checkRegion(n)?!0:(this.traceEvent(n,"skipped/region-mismatch"),!1):(this.traceEvent(n,"skipped/device-mismatch"),!1));return Object.defineProperty(this,"relatedConfigs",{value:t}),t}get relatedConfigsByGroup(){const t=$y(this.relatedConfigs,n=>{var s;return(s=n.group_by)!=null?s:"__default__"});return Object.defineProperty(this,"relatedConfigsByGroup",{value:t}),t}get pageCategories(){const t=document.querySelectorAll("#catlinks li > a[href]"),n=Array.from(t).map(s=>{var o;return decodeURI((o=s.href.split("Category:"))==null?void 0:o[1])||s.textContent||""}).filter(Boolean).map(s=>new mw.Title(s,14).getMain());return Object.defineProperty(this,"pageCategories",{value:n}),n}get pageName(){return mw.config.get("wgPageName")}get pageTitle(){return new mw.Title(this.pageName)}isEnvAndUserMatched(t){return G(this,null,function*(){const n=`false-${new Date().toISOString().split("T")[0]}`,s=localStorage.getItem("moegirl-insight/force-show");if(s!==null&&["true",n].includes(s))return s==="true";const o=window.mediaWiki||window.mw;if(!o||!o.config)return!0;if(this.isSearchEngine)return this.traceEvent(t,"skipped/search-engine-bot"),!1;if(!this.checkIsArticle())return this.traceEvent(t,"skipped/not-article"),!1;if(yield this.checkDismissUserGroups(t))return this.traceEvent(t,"skipped/no-ad-user-groups"),!1;if(this.ctx.user.isVIP())return this.traceEvent(t,"skipped/vip-membership"),!1;const c=this.checkPageNamesFilter(t);if(c!==null)return c;const l=this.checkPageCategoriesFilter(t);return l!==null?l:(typeof t.rarity!="number"&&(t.rarity=1),Math.random()>t.rarity?(this.traceEvent(t,"skipped/rarity-mismatch"),!1):!0)})}checkIsArticle(){return mw.config.get("wgIsArticle")}checkDeviceType(t){return[null,void 0,"","*","all"].includes(t.device)||this.ctx.device.matchDevice(t)}checkDismissUserGroups(t){return G(this,null,function*(){const n=t.filter_dismiss_user_groups||t.no_ad_user_groups||[];if(!n.length)return!1;const s=yield mw.user.getGroups();return!!n.some(r=>s.includes(r))})}checkPageNamesFilter(t){return Array.isArray(t.filter_page_names)&&t.filter_page_names.length?t.filter_page_names.map(n=>new mw.Title(n).getPrefixedDb()).some(n=>n===this.pageName):null}checkPageCategoriesFilter(t){return Array.isArray(t.filter_page_categories)&&t.filter_page_categories.length?t.filter_page_categories.map(n=>new mw.Title(n,14).getMain()).some(n=>this.pageCategories.includes(n)):null}checkDismiss(t){return Sr(`${this.name}/${t.group_by||"default"}`)}setDismiss(t){return t.cooldown>10*60*1e3&&(t.cooldown=10*60*1e3),t.links_to.startsWith("adsense://")&&(t.cooldown=0),xr(`${this.name}/${t.group_by||"default"}`,t.cooldown||0),this}get isSearchEngine(){const t=Wy();return Object.defineProperty(this,"isSearchEngine",{value:t}),t}getSlotRender(t,n){return t.links_to.startsWith("adsense://")?Tn:t.links_to.startsWith("baidu-union://")?Cr:(t.links_to.startsWith("http")||t.links_to.startsWith("//"))&&n||null}getSlotDismissText(t){return t instanceof Tn?"":t instanceof Cr?"":""}handleApplySlot(t){return G(this,null,function*(){return new Promise(n=>{const{slot:s,config:o,container:r}=t;s.once("filled",()=>{this.handleShown(i,o),n({slotFilled:!0,slotElement:i})}),s.once("unfilled",c=>{this.handleUnfilled(i,o,o.force_show?`force-show${c?`/${c}`:""}`:c),n({slotFilled:!!o.force_show,slotElement:i})});const i=s.apply(r)})})}handleShown(t,n){t.addEventListener("click",s=>{s.stopPropagation(),this.traceEvent(n,"clicked")}),this.getElementUntilIntoView(t,.1).then(()=>{this.traceEvent(n,"shown")})}handleUnfilled(t,n,s){this.traceEvent(n,s?`error/${s}`:"error/slot-unfilled")}traceEvent(t,n){const s=[n,{event_category:`moegirl-insight-${this.ctx.device.isMobile?"mobile":"desktop"}`,event_label:`${t.render_preset||this.name}:${t.links_to}`,event_origin:location.origin,insight_uuid:t.uuid}];window.gtag&&window.gtag("event",...s)}}E(Me,"inject",["device","region","user"]);const Ve={root:"LKiWAjzNmD_ty3zf5",hidden:"sMucBzwNly_ty3zf5",container:"B3PE627t18_ty3zf5",customAsset:"Qywd9h41yZ_ty3zf5",closeBtn:"PNd4yOeDM7_ty3zf5"},ks={anchor:"xUkJeF1d7d_ty3zf5",error:"X7tHwc6gRp_ty3zf5",assets:"RPb6qQr-eq_ty3zf5"};class Ke extends _n{constructor(n){super(n);E(this,"emitted",!1);this.config=n}apply(n){const s=this.config,o=this.createAnchor(s),r=this.createAsset(s);return o.appendChild(r),this.on("unfilled",()=>{r.style.display="none",r.after($("i",`${s.slot_options.alt||""}`)),o.classList.add(ks.error)}),n.appendChild(o),o}createAnchor(n){const s=$(["script","iframe-standalone"].includes(n.slot_options.type)?"div":"a",{class:ks.anchor,href:n.links_to,target:"_blank",rel:"noopener noreferrer"});return s.addEventListener("click",o=>{o.stopPropagation()}),s}createAsset(n){let s;switch(n.slot_options.type){case"image":default:s="img";break;case"video":case"iframe":case"iframe-standalone":s="iframe";break;case"video-embed":s="video";break;case"script":s="script";break}const o=$(s,K({src:n.slot_options.src,alt:n.slot_options.alt||"",class:ks.assets,style:n.slot_options.style||"",loading:"lazy"},n.slot_options.attributes));if(o.addEventListener("load",()=>{this.emitted||(this.emitted=!0,this.emit("filled"))}),o.addEventListener("error",()=>{this.emitted||(this.emitted=!0,this.emit("unfilled","assets-loading-error",!0))}),n.slot_options.aspect_ratio){const[r,i]=n.slot_options.aspect_ratio.split(/\/|\*|x||\s+/).map(c=>Number(c));!isNaN(r+i)&&r>0&&i>0&&new ResizeObserver(([c])=>{o.style.height=`${o.clientWidth/r*i}px`}).observe(o)}return o}}class By extends Me{constructor(t){super(t,"BackgroundRender"),this.ctx=t}apply(t){return G(this,null,function*(){var c;const n=t[0];if(!n||!n.render_target||!n.render_position||!(yield this.isEnvAndUserMatched(n)))return;if(this.checkDismiss(n))return this.traceEvent(n,"skipped/user-dismiss");const r=this.createNode(n),i=document.querySelector(n.render_target);if(!i)return this.traceEvent(n,"error/missing-target-element");if(n.links_to.includes("stgowan.com")){const l=r.root.querySelector(`.${Ve.container}`),d=$("div",{class:`${Ve.container} ${((c=n.slot_options)==null?void 0:c.class)||""}`}),_=new Ke(n);l.insertAdjacentElement("afterend",d),l.remove(),this.handleApplySlot({slot:_,config:n,container:d});const k=new MutationObserver(([m])=>{var f;const[g]=m.addedNodes;if(g.nodeName==="DIV"&&g.childNodes.length===1&&((f=g.firstChild)==null?void 0:f.nodeName)==="A"){k.disconnect();const w=d.querySelector(`[href="${n.links_to}"]`);w==null||w.appendChild(g)}});k.observe(i,{attributes:!1,childList:!0}),k.observe(document.body,{attributes:!1,childList:!0})}else this.traceEvent(n,"shown");i.insertAdjacentElement(n.render_position||"beforeend",r.root)})}createNode(t){var r,i,c,l,d,_,k;const n=$("div",{class:`${Ve.root} ${((r=t.render_options)==null?void 0:r.class)||""}`,style:`${((i=t.slot_options)==null?void 0:i.style)||""}`});n.addEventListener("transitionend",m=>{(m.propertyName==="opacity"||getComputedStyle(n).opacity==="0")&&n.remove()});let s;(c=t.slot_options)!=null&&c.type?(s=new Ke(t).apply(n),s.className=`${Ve.customAsset} ${((l=t.slot_options)==null?void 0:l.class)||""}`):s=$("a",{class:`${Ve.container} ${((d=t.slot_options)==null?void 0:d.class)||""}`,href:t.links_to,target:t.links_to&&t.links_to.startsWith("#")?"_blank":void 0,style:`--background-url: url(${(_=t.slot_options)==null?void 0:_.src});${((k=t.slot_options)==null?void 0:k.style)||""}`}),s.addEventListener("click",()=>{this.traceEvent(t,"clicked")});const o=$("a",{class:Ve.closeBtn},"");return o.addEventListener("click",()=>{this.close(n,t)}),n.append(s,o),{root:n,asset:s,close:o}}close(t,n){t.classList.add(Ve.hidden),this.setDismiss(n),this.traceEvent(n,"dismiss")}}const ot={root:"X-2JFOXOR1_ty3zf5",hidden:"fSlmkxM5cg_ty3zf5",capsule:"_4JuHzMsWcH_ty3zf5",close:"GwGomSd0p9_ty3zf5",region:"_5lkkF7XtM1_ty3zf5"};class me extends Me{constructor(t){super(t,"MoeskinCardRender"),this.ctx=t,t.render[this.name]=this}apply(t){return G(this,null,function*(){let n;if(this.checkDismiss(t[0]))return this.traceEvent(t[0],"skipped/user-dismiss");let s=!1;for(n of t){if(s){s&&this.traceEvent(n,"skipped/sibling-filled");continue}const{root:o,close:r,region:i}=me.createNode(n);if(r.addEventListener("click",()=>{me.removeNode(o),s&&(this.setDismiss(n),this.traceEvent(n,"dismiss"))}),!n.render_target)continue;const c=document.querySelector(n.render_target),l=this.getSlotRender(n,Ke);if(!c||!l||!(yield this.isEnvAndUserMatched(n)))continue;const d=new l(n);n.region==="oversea"&&(i.style.display="block"),c.insertAdjacentElement(n.render_position||"beforeend",o),yield this.getElementUntilIntoView(o),s=(yield this.handleApplySlot({slot:d,container:o,config:n})).slotFilled,s?r.innerText=this.getSlotDismissText(d):me.removeNode(o)}})}static createNode(t){var r,i;const n=$("div",{class:`moe-card ${ot.root} ${((r=t.render_options)==null?void 0:r.class)||""}`,style:((i=t.render_options)==null?void 0:i.style)||""}),s=$("a",{class:`${ot.close} ${ot.capsule}`},""),o=$("div",{class:`${ot.region} ${ot.capsule}`},`${t.region} AD`);return n.append(o,s),{root:n,close:s,region:o}}static removeNode(t){return new Promise(n=>{t.addEventListener("transitionend",s=>{(s.propertyName==="opacity"||getComputedStyle(t).opacity==="0")&&(t.remove(),n(!0))}),t.style.height=`${t.clientHeight}px`,setTimeout(()=>{t.classList.add(ot.hidden)})})}}const Fy={duilian:"ixCcjlKdoi_ty3zf5"};class Hy extends Me{constructor(t){super(t,"DuilianRender"),this.ctx=t}apply(t){return G(this,null,function*(){let n=!1,s;if(this.checkDismiss(t[0]))return this.traceEvent(t[0],"skipped/user-dismiss");for(s of t){const o=me.createNode(s);o.root.classList.add(Fy.duilian),o.close.addEventListener("click",()=>{me.removeNode(o.root),n&&(this.setDismiss(s),this.traceEvent(s,"dismiss"))});const r=this.getSlotRender(s,Ke);if(n||!r){n&&this.traceEvent(s,"skipped/sibling-filled");continue}if(!(yield this.isEnvAndUserMatched(s)))continue;document.body.append(o.root);const i=new r(s),{slotFilled:c,slotElement:l}=yield this.handleApplySlot({slot:i,container:o.root,config:s});n=c,n?(o.root.style.height="",o.close.innerText=this.getSlotDismissText(i)):me.removeNode(o.root)}})}}const Mr={root:"_4tteFmBjZh_ty3zf5",disclosure:"s0RFEftNrI_ty3zf5"};class Vy extends Me{constructor(t){super(t,"InContentRender"),this.ctx=t,t.render[this.name]=this}apply(t){return G(this,null,function*(){if(this.checkDismiss(t[0]))return this.traceEvent(t[0],"skipped/user-dismiss");let n,s=!1;for(const o of t){if(n=o,s){s&&this.traceEvent(n,"skipped/sibling-filled");continue}const{root:r,close:i,region:c}=me.createNode(n);r.classList.add(Mr.root);const l=$("div",{class:Mr.disclosure},n.disclosure||"");if(i.addEventListener("click",()=>{me.removeNode(r),s&&(this.setDismiss(n),this.traceEvent(n,"dismiss"))}),!n.render_target)continue;const d=document.querySelector(n.render_target),_=this.getSlotRender(n,Ke);if(!d||!_||!(yield this.isEnvAndUserMatched(n)))continue;const k=new _(n);n.region==="oversea"&&(c.style.display="block"),d.insertAdjacentElement(n.render_position||"beforeend",r),yield this.getElementUntilIntoView(r);const m=this.getAvailableWidth(d);r.style.maxWidth=`${m}px`,n.render_options=n.render_options||{},n.render_options.style+=`;max-width:${m}px`,s=(yield this.handleApplySlot({slot:k,container:r,config:n})).slotFilled,s?((typeof n.disclosure=="undefined"||n.disclosure)&&r.appendChild(l),i.innerText=this.getSlotDismissText(k)):me.removeNode(r)}})}getAvailableWidth(t){const n=document.createElement("span");n.style.cssText="display:inline!important;font-family:monospace!important;font-size:10px!important;word-break:break-all!important",t.before(n),n.innerText="0".repeat(20);let s=0;const o=n.offsetHeight;let r=0;const i=100;for(;n.offsetHeight===o&&r<i;)r++,n.innerText+="0".repeat(20);return s=n.offsetWidth,n.remove(),s}}class Ky extends _n{constructor(n){super(n);E(this,"emitted",!1);this.config=n}apply(n){const s=this.createNode(this.config);return n.append(s),s}createNode(n){var r,i;const s=$("img");new ResizeObserver(c=>{const l=c[0].target.clientWidth;let d;if(l<=600?d=n.slot_options.small:l<=1080?d=n.slot_options.medium:d=n.slot_options.large,d)s.getAttribute("src")!==d&&(s.src=d);else{if(this.emitted)return;this.emitted=!0,this.emit("unfilled")}}).observe(document.documentElement),s.addEventListener("load",()=>{this.emitted||(this.emitted=!0,this.emit("filled"))}),s.addEventListener("error",()=>{this.emitted||(this.emitted=!0,this.emit("unfilled","assets-loading-error"))});const o=$("a",{class:((r=n==null?void 0:n.slot_options)==null?void 0:r.class)||"",style:((i=n==null?void 0:n.slot_options)==null?void 0:i.style)||"",href:n.links_to,target:"_blank",rel:"noopener noreferrer"});return o.append(s),o}}const rt={root:"stevrhgmNo_ty3zf5",hidden:"go5PM7a3Ep_ty3zf5",container:"-WH4kRaZFv_ty3zf5",closeBtn:"_2fOApB7OSI_ty3zf5"};class ys extends Me{constructor(t){super(t,"MobileBottomAnchorRender"),this.ctx=t}apply(t){return G(this,null,function*(){let n=!1,s;if(this.checkDismiss(t[0]))return this.traceEvent(t[0],"skipped/user-dismiss");const o=ys.createNode(t[0]);document.body.append(o.root),o.container.style.height="90px",o.close.addEventListener("click",()=>{o.root.classList.add(rt.hidden),n&&(this.setDismiss(s),this.traceEvent(s,"dismiss"))});for(s of t){const r=this.getSlotRender(s,Ky);if(n||!r){n&&this.traceEvent(s,"skipped/sibling-filled");continue}if(!(yield this.isEnvAndUserMatched(s)))continue;const i=new r(s),{slotFilled:c,slotElement:l}=yield this.handleApplySlot({slot:i,container:o.container,config:s});n=c,n?(o.container.style.height="",o.close.innerText=this.getSlotDismissText(i)):l.remove()}!n&&s&&o.root.classList.add(rt.hidden)})}static createNode(t){var r,i;const n=$("div",{class:`${rt.root} ${(r=t==null?void 0:t.render_options)==null?void 0:r.class}`,style:`${rt.root} ${(i=t==null?void 0:t.render_options)==null?void 0:i.style}`}),s=$("div",{class:rt.container}),o=$("a",{class:rt.closeBtn},"");return n.append(s,o),n.addEventListener("transitionend",c=>{(c.propertyName==="opacity"||getComputedStyle(n).opacity==="0")&&n.remove()}),{root:n,container:s,close:o}}}const jy=e=>G(this,null,function*(){let t=!1;return new Promise((n,s)=>{const o=window.mw.hook;o?o(e).add(r=>{t||(t=!0,n(r))}):s(new Error("mw.hook is not available"))})}),bs={sectionRoot:"XDQg8COnlS_ty3zf5"};class Yy extends Me{constructor(t){super(t,"MoeHomelandRender"),this.ctx=t}apply(t){return G(this,null,function*(){if(this.checkDismiss(t[0]))return this.traceEvent(t[0],"skipped/user-dismiss");let n,s=!1;for(const o of t){if(n=o,s){s&&this.traceEvent(n,"skipped/sibling-filled");continue}(yield this.isEnvAndUserMatched(n))&&(s=(yield this.applySlotAutomatic(n)).slotFilled)}})}get homelandRoot(){const t=document.querySelector("#moe-homeland-app");return t?(Object.defineProperty(this,"homelandRoot",{value:t}),t):null}applySlotAutomatic(t){switch(t.render_preset){case"homeland_banner":case"homeland_slider":case"homeland_gallery":return this.applyBannerGallerySlot(t);case"homeland_section":return this.applySectionCardSlot(t);default:return this.handleUnfilled(null,t,"Missing or unknown render_preset"),Promise.resolve({slotFilled:!1,slotElement:null})}}applyBannerGallerySlot(t){return G(this,null,function*(){const n="insight-"+Math.random().toString(36).slice(2);let s=parseInt((t==null?void 0:t.render_target)||"1");return s=isNaN(s)?1:s,s=Math.max(1,s),jy("moe-homeland:section/banner-slider").then(r=>G(this,[r],function*({data:o}){var l,d,_,k,m,g,f,w,y,u,h,p;if(!((_=(d=(l=o==null?void 0:o.value)==null?void 0:l.index)==null?void 0:d[0])==null?void 0:_.pages))return{slotFilled:!1,slotElement:null};(u=(g=(m=(k=o==null?void 0:o.value)==null?void 0:k.index)==null?void 0:m[0])==null?void 0:g.pages)==null||u.splice(s-1,0,{id:n,imageSrc:(f=t.slot_options)==null?void 0:f.src,title:(w=t.slot_options)==null?void 0:w.alt,externalUrl:t.links_to,description:(y=t.slot_options)==null?void 0:y.alt,isAdvertisement:!0});const c=yield Pr(this.homelandRoot,`[id="${n}"]`);return c?(c.classList.add(bs.banner),(h=t.slot_options)!=null&&h.style&&(c.style.cssText=(p=t.slot_options)==null?void 0:p.style),this.handleShown(c,t),{slotFilled:!0,slotElement:c}):(this.handleUnfilled(null,t,"Failed to find target"),{slotFilled:!1,slotElement:null})}))})}applySectionCardSlot(t){return G(this,null,function*(){const n=me.createNode(t),s=new Ke(t),o=$("div",{class:bs.sectionContainer});n.root.classList.add(bs.sectionRoot),n.close.innerText=this.getSlotDismissText(s),n.root.appendChild(o);const r=yield Pr(this.homelandRoot,t.render_target);return r?(r.insertAdjacentElement("beforebegin",n.root),n.close.addEventListener("click",()=>{me.removeNode(n.root),this.setDismiss(t),this.traceEvent(t,"dismiss")}),this.handleApplySlot({slot:s,config:t,container:n.root})):{slotFilled:!1,slotElement:null}})}}const ge={root:"_01T-L5Cj4R_ty3zf5",backdrop:"OWbzDhk-op_ty3zf5",modal:"mwpD7lKcPY_ty3zf5",header:"_3XcHj6yNSi_ty3zf5",close:"TAkM8pe4pR_ty3zf5",content:"DLFFgcPL0p_ty3zf5",asset:"_9KiwroTMT2_ty3zf5",footer:"b5w9Ex4KFo_ty3zf5",footerButton:"zeYQ0JE-Um_ty3zf5",okButton:"FBSWGsM3f1_ty3zf5",cancelButton:"_-9HyfRZird_ty3zf5"};class zy extends Me{constructor(t){super(t,"PopoverRender"),this.ctx=t}apply(t){return G(this,null,function*(){let n=null,s=null,o=!1,r=!1;for(const i of t){if(s=document.querySelector(i.render_target||"body"),!s){this.traceEvent(i,"error/missing-target-element");continue}if(yield this.isEnvAndUserMatched(i)){if(r=this.checkDismiss(i),r){this.traceEvent(i,"skipped/user-dismiss");continue}n=i;break}}!n||!s||(s.addEventListener("click",i=>{let c=i.target;for(;c&&c.tagName!=="A"&&c!==s;)c=c.parentElement;if((c==null?void 0:c.tagName)!=="A")return;const l=c,d=l.href,_=l.getAttribute("href");if(!_||_.startsWith("#")||_.startsWith("javascript:")||_.startsWith("vbscript:")||l.target==="_blank"||new URL(d).origin!==location.origin)return;i.preventDefault();const{root:k,closeButton:m,cancelButton:g,asset:f,okButton:w}=this.createNode(n);document.body.appendChild(k),document.body.style.overflow="hidden",[m,g,f,w].forEach(y=>{y.addEventListener("click",u=>{u.preventDefault(),y.getAttribute("action")==="dismiss"?this.traceEvent(n,"dismiss"):(this.traceEvent(n,"clicked"),window.open(n.links_to)),document.body.style.overflow="",k.remove(),this.setDismiss(n),location.href=d})}),this.getElementUntilIntoView(k).then(()=>{o=!0,this.traceEvent(n,"shown")})}),window.addEventListener("beforeunload",()=>{!r&&!o&&this.traceEvent(n,"skipped/unload-before-triggered")}))})}createNode(t){var g,f;const n=$("div",{class:`${ge.root} ${(g=t.render_options)==null?void 0:g.class}`,style:(f=t.render_options)==null?void 0:f.style}),s=$("div",{class:ge.backdrop}),o=$("div",{class:`${ge.modal}`}),r=$("div",{class:ge.header}),i=$("a",{class:ge.close,action:"dismiss"},"");r.append($("h5",""),$("div",{style:"flex:1"}),i);const c=$("section",{class:ge.content}),d=new Ke(t).apply(c);d.classList.add(ge.asset);const _=$("div",{class:ge.footer}),k=$("a",{class:`${ge.footerButton} ${ge.cancelButton}`,action:"dismiss"},""),m=$("a",{class:`${ge.footerButton} ${ge.okButton}`,action:"clicked"},"");return _.append(k,m),o.append(r,c,_),n.append(s,o),{root:n,asset:d,cancelButton:k,okButton:m,closeButton:i}}checkDismiss(t){return Sr(t.uuid)}setDismiss(t){return xr(t.uuid,t.cooldown||0),this}}class Jy extends Me{constructor(t){super(t,"SingleLineScriptRender"),this.ctx=t,t.render[this.name]=this}apply(t){return G(this,null,function*(){var n;for(const s of t){const o=s;if(!(yield this.isEnvAndUserMatched(o)))continue;const r=K({src:o.links_to,"insight-render":o.render},(n=o.slot_options)==null?void 0:n.attributes),i=document.querySelector(o.render_target||"body");if(!i)throw new Error("Missing parent node");const c=$("script",r);if(i.insertAdjacentElement(o.render_position||"beforeend",c),o.slot_options.injectScripts){const l=new Blob([o.slot_options.injectScripts],{type:"text/javascript"}),d=URL.createObjectURL(l);document.body.appendChild($("script",{src:d})),window.addEventListener("unload",()=>{URL.revokeObjectURL(d)})}if(o.slot_options.injectStyles){const l=new CSSStyleSheet;l.replaceSync(o.slot_options.injectStyles),document.adoptedStyleSheets=[l]}}})}}function Lr(e){return G(this,null,function*(){return fetch(e||"https://app.moegirl.org.cn/insight/ads.config.yml.json",{cache:"no-cache"}).then(t=>t.json()).then(t=>Array.isArray(t==null?void 0:t.configs)?t.configs:Array.isArray(t)?t:[])})}const ht=class ht extends Xn{constructor(n=[]){super();E(this,"app",this);E(this,"render",{});this.configs=n}static startWithAllPlugins(n){return G(this,null,function*(){const s=new ht(n);return s.plugin(Ra),s.plugin(ya),s.plugin(xy),s.plugin(Or),s.plugin(By),s.plugin(Hy),s.plugin(Vy),s.plugin(ys),s.plugin(Yy),s.plugin(me),s.plugin(zy),s.plugin(Jy),yield s.start(),s})}init(n){return G(this,null,function*(){if(!navigator.userAgent.toLowerCase().includes("moegirl-mobile"))return this.configs.length?ht.startWithAllPlugins(this.configs):Lr(n).then(ht.startWithAllPlugins)})}setStatusCode(){return this}};E(ht,"fetchConfigs",Lr);let Ut=ht;globalThis.process=Ue(K({},globalThis.process),{cwd:()=>"",env:Ue(K({},(Gr=globalThis==null?void 0:globalThis.process)==null?void 0:Gr.env),{NODE_ENV:"production"})}),U.ErrorPagesBackground=Ut,U.MoegirlInsight=Ut,U.MoeskinBackground=Ut,Object.defineProperty(U,Symbol.toStringTag,{value:"Module"})});

;(function () {
function injectCSS(payload) {
  const style = document.createElement("style");
  style.dataset.vitePackage = payload.packageName;
  style.dataset.viteFile = payload.fileName;
  style.innerHTML = payload.source;
  document.head.appendChild(style);
}
const cssEntries = [{"fileName":"style.css","name":"style.css","needsCodeReference":false,"originalFileName":null,"source":"@charset \"UTF-8\";.LKiWAjzNmD_ty3zf5{font-size:14px;display:block!important;position:absolute!important;z-index:-1!important;opacity:1!important;overflow:hidden;width:100%!important;height:100%!important;top:0!important;left:0!important;line-height:0;transition:all .48s ease-out}.LKiWAjzNmD_ty3zf5.sMucBzwNly_ty3zf5{opacity:0!important;pointer-events:none!important;user-select:none!important}.LKiWAjzNmD_ty3zf5.sMucBzwNly_ty3zf5 .B3PE627t18_ty3zf5:before,.LKiWAjzNmD_ty3zf5.sMucBzwNly_ty3zf5 .B3PE627t18_ty3zf5:after{transform:scale(1.2)}@media (max-width: 765px){.LKiWAjzNmD_ty3zf5{display:none!important}}.B3PE627t18_ty3zf5{position:absolute;top:0;left:0;width:100%;height:100%;transition:all .24s ease}.B3PE627t18_ty3zf5:before,.B3PE627t18_ty3zf5:after{content:\"\";position:fixed;top:0;display:block;width:52%;height:100%;background-size:auto 100%;transition:all .48s ease-out}.B3PE627t18_ty3zf5:before{left:0;background-image:linear-gradient(to right,rgba(255,255,255,0) 250px,var(--theme-background-color) 80%),var(--background-url);background-position:center left}.B3PE627t18_ty3zf5:after{right:0;width:50%;background-image:linear-gradient(to left,rgba(255,255,255,0) 250px,var(--theme-background-color) 80%),var(--background-url);background-position:center right}.Qywd9h41yZ_ty3zf5{position:fixed!important;top:0;left:0;width:100vw;height:100vh}.PNd4yOeDM7_ty3zf5{position:fixed;top:calc(50px + .5em);right:.5em;cursor:pointer;padding:.5em .8em;border-radius:99em;--color: #d03050;color:var(--color);border:1px solid var(--color);background-color:#ffffff59;backdrop-filter:blur(2px);line-height:1;transition:all .24s ease;z-index:999999!important}.PNd4yOeDM7_ty3zf5:after{content:\"\";padding-left:4px}.xUkJeF1d7d_ty3zf5{line-height:0;z-index:1;position:relative}.xUkJeF1d7d_ty3zf5.X7tHwc6gRp_ty3zf5{line-height:1.5}.RPb6qQr-eq_ty3zf5{width:100%;height:auto;display:block;line-height:0;pointer-events:none;user-select:none}iframe.RPb6qQr-eq_ty3zf5{height:100%}.X-2JFOXOR1_ty3zf5{font-size:14px;border-radius:.5em;overflow:hidden;padding:0;position:relative;transition:all .12s ease-out;user-select:none;text-align:center}.X-2JFOXOR1_ty3zf5.fSlmkxM5cg_ty3zf5{height:0!important;opacity:0!important}._4JuHzMsWcH_ty3zf5{position:absolute;top:.2rem;--color: #2080f0;color:var(--color);border:1px solid var(--color);background-color:#ffffff59;border-radius:99em;padding:.1rem .5rem;line-height:1.5;backdrop-filter:blur(2px)}.GwGomSd0p9_ty3zf5{--color: #d03050;right:.2rem;z-index:10;cursor:pointer}.GwGomSd0p9_ty3zf5:after{content:\"\";padding-left:4px}._5lkkF7XtM1_ty3zf5{display:none;left:.2rem;font-size:10px;pointer-events:none;z-index:10}.ixCcjlKdoi_ty3zf5{--width: 160px;position:fixed;width:var(--width);max-height:600px;top:50%;transform:translateY(-50%);z-index:25;--width-to-edge: 1.5rem}@media (max-width: 900px){.ixCcjlKdoi_ty3zf5{display:none}}@media (max-height: 700px){.ixCcjlKdoi_ty3zf5{display:none}}.ixCcjlKdoi_ty3zf5 img,.ixCcjlKdoi_ty3zf5 video,.ixCcjlKdoi_ty3zf5 iframe{width:100%;height:100%}._4tteFmBjZh_ty3zf5{position:relative;margin-top:1em;margin-bottom:1em}.s0RFEftNrI_ty3zf5{display:block;margin:.4em 0;text-align:center;font-size:.7em;color:#00000080;user-select:none}.stevrhgmNo_ty3zf5{position:fixed;bottom:0;left:0;width:100%;z-index:21;transition:all .48s ease-out}.stevrhgmNo_ty3zf5.go5PM7a3Ep_ty3zf5{opacity:0;bottom:-100px;user-select:none!important;pointer-events:none!important}.-WH4kRaZFv_ty3zf5{position:relative;z-index:1;line-height:0;transition:all .24s ease;background-color:#fffc}.-WH4kRaZFv_ty3zf5 img{width:100%;height:auto}._2fOApB7OSI_ty3zf5{position:absolute;right:.5em;top:.5em;padding:.2em .5em;--color: #d03050;color:var(--color);border:1px solid var(--color);background-color:#ffffff59;backdrop-filter:blur(2px);border-radius:99em;cursor:pointer;z-index:2}._2fOApB7OSI_ty3zf5:after{content:\"\";padding-left:4px}.XDQg8COnlS_ty3zf5{overflow:hidden}.XDQg8COnlS_ty3zf5 img,.XDQg8COnlS_ty3zf5 iframe{width:100%}.XDQg8COnlS_ty3zf5 iframe{height:150px}._01T-L5Cj4R_ty3zf5{position:fixed;top:0;left:0;width:100%;height:100%;z-index:10000}._01T-L5Cj4R_ty3zf5 .OWbzDhk-op_ty3zf5{position:absolute;left:0;top:0;width:100%;height:100%;background-color:#fffffff5;z-index:1}._01T-L5Cj4R_ty3zf5 .mwpD7lKcPY_ty3zf5{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:600px;max-width:84vw;background-color:#fafafa;border-radius:.5rem;box-shadow:0 0 2rem #00000026;z-index:2}._01T-L5Cj4R_ty3zf5 ._3XcHj6yNSi_ty3zf5{display:flex;padding:1rem;padding-bottom:0}._01T-L5Cj4R_ty3zf5 ._3XcHj6yNSi_ty3zf5 h5{font-size:1.4rem;font-weight:700;margin:0}._01T-L5Cj4R_ty3zf5 ._3XcHj6yNSi_ty3zf5 .TAkM8pe4pR_ty3zf5{display:block;width:1.8rem;height:1.8rem;line-height:1.8;text-align:center;font-size:1rem;border-radius:50%;background:#d0305029;color:#d03050}._01T-L5Cj4R_ty3zf5 .DLFFgcPL0p_ty3zf5{text-align:center;padding:1rem}._01T-L5Cj4R_ty3zf5 ._9KiwroTMT2_ty3zf5{display:inline-block;line-height:1;cursor:pointer}._01T-L5Cj4R_ty3zf5 ._9KiwroTMT2_ty3zf5 iframe{border:none}._01T-L5Cj4R_ty3zf5 ._9KiwroTMT2_ty3zf5 img,._01T-L5Cj4R_ty3zf5 ._9KiwroTMT2_ty3zf5 iframe{max-width:calc(84vw - 2rem);max-height:70vh;width:calc(600px - 2rem);height:auto;object-fit:cover;border-radius:.5rem}._01T-L5Cj4R_ty3zf5 .b5w9Ex4KFo_ty3zf5{padding:1rem;padding-top:0;display:flex;gap:1rem}._01T-L5Cj4R_ty3zf5 .b5w9Ex4KFo_ty3zf5 .zeYQ0JE-Um_ty3zf5{display:block;flex:1;text-align:center;padding:.8rem;border-radius:.2rem;cursor:pointer}._01T-L5Cj4R_ty3zf5 .b5w9Ex4KFo_ty3zf5 .FBSWGsM3f1_ty3zf5{background-color:#18a05829;color:#18a058}._01T-L5Cj4R_ty3zf5 .b5w9Ex4KFo_ty3zf5 ._-9HyfRZird_ty3zf5{background-color:#2e33380d;color:#767c82}\n","type":"asset","packageName":"MoegirlInsight"}];
cssEntries.forEach(injectCSS);
})()
